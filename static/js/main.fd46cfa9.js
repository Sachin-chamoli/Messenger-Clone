/*! For license information please see main.fd46cfa9.js.LICENSE.txt */
!function(){var e={3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function _(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:v,column:m,length:a,return:""}}function w(e,t){return a(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return k=g>0?c(b,--g):0,m--,10===k&&(m=1,v--),k}function C(){return k=g<y?c(b,g++):0,m++,10===k&&(m=1,v++),k}function E(){return c(b,g)}function T(){return g}function x(e,t){return f(b,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return v=m=1,y=h(b=e),g=0,[]}function A(e){return b="",e}function R(e){return u(x(g-1,O(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(k=E())&&k<33;)C();return I(e)>2||I(k)>3?"":" "}function D(e,t){for(;--t&&C()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return x(e,T()+(t<6&&32==E()&&32==C()))}function O(e){for(;C();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&O(k);break;case 40:41===e&&O(e);break;case 92:C()}return g}function M(e,t){for(;C()&&e+k!==57&&(e+k!==84||47!==E()););return"/*"+x(t,g-1)+"*"+o(47===e?e:C())}function L(e){for(;!I(E());)C();return x(e,g)}var F="-ms-",U="-moz-",j="-webkit-",z="comm",V="rule",B="decl",Z="@keyframes";function q(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case B:return e.return=e.return||e.value;case z:return"";case Z:return e.return=e.value+"{"+q(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return A(K("",null,null,null,[""],e=N(e),0,[0],e))}function K(e,t,n,r,i,a,u,f,d){for(var v=0,m=0,y=u,g=0,k=0,b=0,_=1,w=1,x=1,I=0,N="",A=i,O=a,F=r,U=N;w;)switch(b=I,I=C()){case 40:if(108!=b&&58==c(U,y-1)){-1!=l(U+=s(R(I),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:U+=R(I);break;case 9:case 10:case 13:case 32:U+=P(b);break;case 92:U+=D(T()-1,7);continue;case 47:switch(E()){case 42:case 47:p(Q(M(C(),T()),t,n),d);break;default:U+="/"}break;case 123*_:f[v++]=h(U)*x;case 125*_:case 59:case 0:switch(I){case 0:case 125:w=0;case 59+m:k>0&&h(U)-y&&p(k>32?$(U+";",r,n,y-1):$(s(U," ","")+";",r,n,y-2),d);break;case 59:U+=";";default:if(p(F=G(U,t,n,v,m,i,f,N,A=[],O=[],y),a),123===I)if(0===m)K(U,t,F,F,A,a,y,f,O);else switch(99===g&&110===c(U,3)?100:g){case 100:case 109:case 115:K(e,F,F,r&&p(G(e,F,F,0,0,i,f,N,i,A=[],y),O),i,O,y,f,r?A:O);break;default:K(U,F,F,F,[""],O,0,f,O)}}v=m=k=0,_=x=1,N=U="",y=u;break;case 58:y=1+h(U),k=b;default:if(_<1)if(123==I)--_;else if(125==I&&0==_++&&125==S())continue;switch(U+=o(I),I*_){case 38:x=m>0?1:(U+="\f",-1);break;case 44:f[v++]=(h(U)-1)*x,x=1;break;case 64:45===E()&&(U+=R(C())),g=E(),m=y=h(N=U+=L(T())),I++;break;case 45:45===b&&2==h(U)&&(_=0)}}return a}function G(e,t,n,r,o,a,l,c,h,p,v){for(var m=o-1,y=0===o?a:[""],g=d(y),k=0,b=0,w=0;k<r;++k)for(var S=0,C=f(e,m+1,m=i(b=l[k])),E=e;S<g;++S)(E=u(b>0?y[S]+" "+C:s(C,/&\f/g,y[S])))&&(h[w++]=E);return _(e,t,n,0===o?V:c,h,p,v)}function Q(e,t,n){return _(e,t,n,z,o(k),f(e,2,-2),0)}function $(e,t,n,r){return _(e,t,n,B,f(e,0,r),f(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=E(),38===r&&12===i&&(t[n]=1),!I(i);)C();return x(e,g)},X=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=Y(g-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=C());return e}(N(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=X(t,i),a=n.props,u=0,s=0;u<o.length;u++)for(var l=0;l<a.length;l++,s++)e.props[s]=i[u]?o[u].replace(/&\f/g,a[l]):a[l]+" "+o[u]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+U+e+F+e+e;case 6828:case 4268:return j+e+F+e+e;case 6165:return j+e+F+"flex-"+e+e;case 5187:return j+e+s(e,/(\w+).+(:[^]+)/,j+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return j+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return j+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+F+s(e,"shrink","negative")+e;case 5292:return j+e+F+s(e,"basis","preferred-size")+e;case 6060:return j+"box-"+s(e,"-grow","")+j+e+F+s(e,"grow","positive")+e;case 4554:return j+s(e,/([^-])(transform)/g,"$1"+j+"$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,j+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1"+j+"$2-$3$1"+U+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?ne(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,h(e)-3-(~l(e,"!important")&&10))){case 107:return s(e,":",":"+j)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===c(e,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case Z:return q([w(e,{value:s(e.value,"@","@"+j)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([w(e,{props:[s(t,/:(read-\w+)/,":"+U+"$1")]})],r);case"::placeholder":return q([w(e,{props:[s(t,/:(plac\w+)/,":"+j+"input-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,":"+U+"$1")]}),w(e,{props:[s(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,a,u={},s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var l,c,f=[W,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=d(e);return function(n,r,i,o){for(var a="",u=0;u<t;u++)a+=e[u](n,r,i,o)||"";return a}}([ee,te].concat(i,f));a=function(e,t,n,r){l=n,q(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:a};return p.sheet.hydrate(s),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9886:function(e,t,n){"use strict";n.d(t,{T:function(){return u},w:function(){return a}});var r=n(2791),i=n(3361),o=(n(9140),n(2561),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));o.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(o);return e(t,i,n)}))},u=(0,r.createContext)({})},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(9797),a=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.Z)((function(e){return s(e)?e:e.replace(a,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":l(a)&&(r+=c(o)+":"+f(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var u=h(e,t,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+u+";";break;default:r+=o+"{"+u+"}"}}else for(var s=0;s<a.length;s++)l(a[s])&&(r+=c(o)+":"+f(o,a[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,o=n(e);return d=i,h(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";d=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=h(n,t,a)):o+=a[0];for(var u=1;u<e.length;u++)o+=h(n,t,e[u]),i&&(o+=a[u]);p.lastIndex=0;for(var s,l="";null!==(s=p.exec(o));)l+="-"+s[1];return{name:r(o)+l,styles:o,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return a},j:function(){return u}});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,a=o||function(e){return e()},u=o||i.useLayoutEffect},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return o},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}}},1817:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"m3.4 20.4 17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"}),"SendRounded");t.Z=a},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8729)},4591:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(7462),i=n(3366),o=n(6189),a=n(2466),u=n(5080),s=n(7416),l=n(104),c=n(4942);function f(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,c.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,c.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var h=n(2065),d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},k={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function C(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,h.$n)(e.main,i):"dark"===t&&(e.dark=(0,h._j)(e.main,o)))}function E(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,l=e.tonalOffset,c=void 0===l?.2:l,f=(0,i.Z)(e,_),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(n),T=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),x=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:k[400],light:k[300],dark:k[700]}:{main:k[700],light:k[500],dark:k[900]}}(n),N=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),A=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(n);function R(e){return(0,h.mi)(e,S.text.primary)>=s?S.text.primary:w.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return C(t,"light",s,c),C(t,"dark",f,c),t.contrastText||(t.contrastText=R(t.main)),t},D={dark:S,light:w};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:n,primary:P({color:E,name:"primary"}),secondary:P({color:T,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:x,name:"error"}),warning:P({color:A,name:"warning"}),info:P({color:I,name:"info"}),success:P({color:N,name:"success"}),grey:p,contrastThreshold:s,getContrastText:R,augmentColor:P,tonalOffset:c},D[n]),f)}var T=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var x={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function N(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,u=void 0===o?I:o,s=n.fontSize,l=void 0===s?14:s,c=n.fontWeightLight,f=void 0===c?300:c,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,_=n.pxToRem,w=(0,i.Z)(n,T);var S=l/14,C=_||function(e){return"".concat(e/k*S,"rem")},E=function(e,t,n,i,o){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:C(t),lineHeight:n},u===I?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},o,b);var a},N={h1:E(f,96,1.167,-1.5),h2:E(f,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(v,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(v,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(v,14,1.75,.4,x),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,x),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,a.Z)((0,r.Z)({htmlFontSize:k,pxToRem:C,fontFamily:u,fontSize:l,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},N),w,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var R=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],D={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function F(e){var t=(0,r.Z)({},D,e.easing),n=(0,r.Z)({},O,e.duration);return(0,r.Z)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.duration,a=void 0===o?n.standard:o,u=r.easing,s=void 0===u?t.easeInOut:u,l=r.delay,c=void 0===l?0:l;(0,i.Z)(r,P);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:M(a)," ").concat(s," ").concat("string"===typeof c?c:M(c))})).join(",")}},e,{easing:t,duration:n})}var U={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,c=e.palette,h=void 0===c?{}:c,d=e.transitions,p=void 0===d?{}:d,v=e.typography,m=void 0===v?{}:v,y=(0,i.Z)(e,j);if(e.vars)throw new Error((0,o.Z)(18));var g=E(h),k=(0,u.Z)(e),b=(0,a.Z)(k,{mixins:f(k.breakpoints,n),palette:g,shadows:R.slice(),typography:N(g,m),transitions:F(p),zIndex:(0,r.Z)({},U)});b=(0,a.Z)(b,y);for(var _=arguments.length,w=new Array(_>1?_-1:0),S=1;S<_;S++)w[S-1]=arguments[S];return(b=w.reduce((function(e,t){return(0,a.Z)(e,t)}),b)).unstable_sxConfig=(0,r.Z)({},s.Z,null==y?void 0:y.unstable_sxConfig),b.unstable_sx=function(e){return(0,l.Z)({sx:e,theme:this})},b}var V=z()},4923:function(e,t,n){"use strict";n.d(t,{ZP:function(){return U},FO:function(){return L}});var r=n(2982),i=n(885),o=n(3366),a=n(7462),u=n(2791),s=n(9797),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=(0,s.Z)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(9886),h=n(5438),d=n(9140),p=n(2561),v=c,m=function(e){return"theme"!==e},y=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?v:m},g=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},k=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,h.hC)(t,n,r);(0,p.L)((function(){return(0,h.My)(t,n,r)}));return null},b=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var l=g(t,n,o),c=l||y(s),p=!c("as");return function(){var v=arguments,m=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)m.push.apply(m,v);else{0,m.push(v[0][0]);for(var b=v.length,_=1;_<b;_++)m.push(v[_],v[0][_])}var w=(0,f.w)((function(e,t,n){var r=p&&e.as||s,o="",a=[],v=e;if(null==e.theme){for(var g in v={},e)v[g]=e[g];v.theme=(0,u.useContext)(f.T)}"string"===typeof e.className?o=(0,h.fp)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var b=(0,d.O)(m.concat(a),t.registered,v);o+=t.key+"-"+b.name,void 0!==i&&(o+=" "+i);var _=p&&void 0===l?y(r):c,w={};for(var S in e)p&&"as"===S||_(S)&&(w[S]=e[S]);return w.className=o,w.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(k,{cache:t,serialized:b,isStringTag:"string"===typeof r}),(0,u.createElement)(r,w))}));return w.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=s,w.__emotion_styles=m,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:g(w,r,!0)})).apply(void 0,m)},w}},_=b.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_[e]=_(e)}));var w=_;var S=n(5080),C=n(7312),E=["variant"];function T(e){return 0===e.length}function x(e){var t=e.variant,n=(0,o.Z)(e,E),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?T(r)?e[t]:(0,C.Z)(e[t]):"".concat(T(r)?t:(0,C.Z)(t)).concat((0,C.Z)(e[t].toString()))})),r}var I=n(104),N=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],A=["theme"],R=["theme"];function P(e){return 0===Object.keys(e).length}function D(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var O=(0,S.Z)();var M=n(4591),L=function(e){return D(e)&&"classes"!==e},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?O:t,u=e.rootShouldForwardProp,s=void 0===u?D:u,l=e.slotShouldForwardProp,c=void 0===l?D:l,f=function(e){var t=P(e.theme)?n:e.theme;return(0,I.Z)((0,a.Z)({},e,{theme:t}))};return f.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u=t.name,l=t.slot,h=t.skipVariantsResolver,d=t.skipSx,p=t.overridesResolver,v=(0,o.Z)(t,N),m=void 0!==h?h:l&&"Root"!==l||!1,y=d||!1;var g=D;"Root"===l?g=s:l?g=c:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var k=function(e,t){return w(e,t)}(e,(0,a.Z)({shouldForwardProp:g,label:undefined},v)),b=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),l=1;l<t;l++)s[l-1]=arguments[l];var c=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,A);return e((0,a.Z)({theme:P(r)?n:r},i))}:e})):[],h=e;u&&p&&c.push((function(e){var t=P(e.theme)?n:e.theme,r=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(u,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];o[u]="function"===typeof s?s((0,a.Z)({},e,{theme:t})):s})),p(e,o)}return null})),u&&!m&&c.push((function(e){var t=P(e.theme)?n:e.theme;return function(e,t,n,r){var i,o,a=e.ownerState,u=void 0===a?{}:a,s=[],l=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[x(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=x(e.props);r[t]=e.style})),r}(u,t),t,u)})),y||c.push(f);var d=c.length-s.length;if(Array.isArray(e)&&d>0){var v=new Array(d).fill("");(h=[].concat((0,r.Z)(e),(0,r.Z)(v))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(v))}else"function"===typeof e&&e.__emotion_real!==e&&(h=function(t){var r=t.theme,i=(0,o.Z)(t,R);return e((0,a.Z)({theme:P(r)?n:r},i))});return k.apply(void 0,[h].concat((0,r.Z)(c)))};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:M.Z,rootShouldForwardProp:L}),U=F},1388:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(o){if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){var a=e[o]||{},u=t[o];n[o]={},u&&Object.keys(u)?a&&Object.keys(a)?(n[o]=(0,r.Z)({},u),Object.keys(a).forEach((function(e){n[o][e]=i(a[e],u[e])}))):n[o]=u:n[o]=a}else void 0===n[o]&&(n[o]=e[o])})),n}function o(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?i(t.components[n].defaultProps,r):r}var a=n(5080),u=n(2791);var s=u.createContext(null);var l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=u.useContext(s);return n&&(e=n,0!==Object.keys(e).length)?n:t},c=(0,a.Z)();var f=function(){return l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c)};var h=n(4591);function d(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return o({theme:f(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:h.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},8729:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return w},debounce:function(){return S},deprecatedPropType:function(){return C},isMuiElement:function(){return E.Z},ownerDocument:function(){return T},ownerWindow:function(){return x},requirePropFactory:function(){return I},setRef:function(){return N},unstable_ClassNameGenerator:function(){return z},unstable_useEnhancedEffect:function(){return A.Z},unstable_useId:function(){return O},unsupportedProp:function(){return M},useControlled:function(){return L},useEventCallback:function(){return F.Z},useForkRef:function(){return U.Z},useIsFocusVisible:function(){return j.Z}});var r=n(5902),i=n(4036);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},a=n(7462),u=n(2791),s=n.t(u,2),l=n(3366),c=n(8182),f=n(4419),h=n(1388),d=n(4923),p=n(5878),v=n(1217);function m(e){return(0,v.Z)("MuiSvgIcon",e)}(0,p.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var y=n(184),g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],k=(0,d.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,i.Z)(n.color))],t["fontSize".concat((0,i.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,u,s,l,c,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=g.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(l=g.typography)||null==(c=l.pxToRem)?void 0:c.call(l,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),b=u.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiSvgIcon"}),r=n.children,o=n.className,u=n.color,s=void 0===u?"inherit":u,d=n.component,p=void 0===d?"svg":d,v=n.fontSize,b=void 0===v?"medium":v,_=n.htmlColor,w=n.inheritViewBox,S=void 0!==w&&w,C=n.titleAccess,E=n.viewBox,T=void 0===E?"0 0 24 24":E,x=(0,l.Z)(n,g),I=(0,a.Z)({},n,{color:s,component:p,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:T}),N={};S||(N.viewBox=T);var A=function(e){var t=e.color,n=e.fontSize,r=e.classes,o={root:["root","inherit"!==t&&"color".concat((0,i.Z)(t)),"fontSize".concat((0,i.Z)(n))]};return(0,f.Z)(o,m,r)}(I);return(0,y.jsxs)(k,(0,a.Z)({as:p,className:(0,c.Z)(A.root,o),focusable:"false",color:_,"aria-hidden":!C||void 0,role:C?"img":void 0,ref:t},N,x,{ownerState:I,children:[r,C?(0,y.jsx)("title",{children:C}):null]}))}));b.muiName="SvgIcon";var _=b;function w(e,t){function n(n,r){return(0,y.jsx)(_,(0,a.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=_.muiName,u.memo(u.forwardRef(n))}var S=n(3981).Z;var C=function(e,t){return function(){return null}},E=n(9103),T=n(9723).Z,x=n(7979).Z;var I=function(e,t){return function(){return null}},N=n(2971).Z,A=n(162),R=n(885),P=0;var D=s.useId;var O=function(e){if(void 0!==D){var t=D();return null!=e?e:t}return function(e){var t=u.useState(e),n=(0,R.Z)(t,2),r=n[0],i=n[1],o=e||r;return u.useEffect((function(){null==r&&i("mui-".concat(P+=1))}),[r]),o}(e)};var M=function(e,t,n,r,i){return null};var L=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,u.useRef(void 0!==t).current),i=u.useState(n),o=(0,R.Z)(i,2),a=o[0],s=o[1];return[r?t:a,u.useCallback((function(e){r||s(e)}),[])]},F=n(6868),U=n(2071),j=n(3031),z={configure:function(e){r.Z.configure(e)}}},9103:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},162:function(e,t,n){"use strict";var r=n(5721);t.Z=r.Z},6868:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(5721);var o=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),o=!0,a=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function c(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(r),r=window.setTimeout((function(){a=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return a},k9:function(){return o}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function o(e,t,n){var o=e.theme||{};if(Array.isArray(t)){var a=o.breakpoints||i;return t.reduce((function(e,r,i){return e[a.up(a.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=o.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var o=i;e[o]=t[o]}return e}),{})}return n(t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return l},_j:function(){return c},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,a=e.substring(t+1,e.length-1);if("color"===n){if(i=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:i}}function a(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(l+="a",c.push(t[3])),a({type:l,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function c(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return a(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),i=n(3366),o=n(2466),a=n(4942),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,a.Z)({},t.key,t.val))}),{})};var l={borderRadius:4},c=n(5682);var f=n(104),h=n(7416),d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.palette,p=void 0===a?{}:a,v=e.spacing,m=e.shape,y=void 0===m?{}:m,g=(0,i.Z)(e,d),k=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,a=void 0===o?"px":o,l=e.step,c=void 0===l?5:l,f=(0,i.Z)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(a,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-c/100).concat(a,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:a},f)}(n),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),_=(0,o.Z)({breakpoints:k,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:b,shape:(0,r.Z)({},l,y)},g),w=arguments.length,S=new Array(w>1?w-1:0),C=1;C<w;C++)S[C-1]=arguments[C];return(_=S.reduce((function(e,t){return(0,o.Z)(e,t)}),_)).unstable_sxConfig=(0,r.Z)({},h.Z,null==g?void 0:g.unstable_sxConfig),_.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},_}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return m},e6:function(){return k},o3:function(){return b}});var r=n(885),i=n(1184),o=n(8529),a=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],o=n[1],a=u[i],c=s[o]||"";return Array.isArray(c)?c.map((function(e){return a+e})):[a+c]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,a=null!=(i=(0,o.DW)(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(c(n),r),a=e[n];return(0,i.k9)(e,a,o)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(a.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function _(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,_.propTypes={},_.filterProps=d},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return a},Jq:function(){return u}});var r=n(4942),i=n(7312),o=n(1184);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:a(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,l=e.themeKey,c=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=a(e.theme,l)||{};return(0,o.k9)(e,n,(function(e){var n=u(f,c,e);return e===n&&"string"===typeof e&&(n=u(f,c,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(4942),i=n(7312),o=n(5682),a=n(1184),u=n(8529),s=n(8247);var l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,s.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function c(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var f=(0,u.ZP)({prop:"border",themeKey:"borders",transform:c}),h=(0,u.ZP)({prop:"borderTop",themeKey:"borders",transform:c}),d=(0,u.ZP)({prop:"borderRight",themeKey:"borders",transform:c}),p=(0,u.ZP)({prop:"borderBottom",themeKey:"borders",transform:c}),v=(0,u.ZP)({prop:"borderLeft",themeKey:"borders",transform:c}),m=(0,u.ZP)({prop:"borderColor",themeKey:"palette"}),y=(0,u.ZP)({prop:"borderTopColor",themeKey:"palette"}),g=(0,u.ZP)({prop:"borderRightColor",themeKey:"palette"}),k=(0,u.ZP)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,u.ZP)({prop:"borderLeftColor",themeKey:"palette"}),_=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,o.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,o.NA)(t,e)}}))}return null};_.propTypes={},_.filterProps=["borderRadius"];l(f,h,d,p,v,m,y,g,k,b,_);var w=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,o.eI)(e.theme,"spacing",8,"gap");return(0,a.k9)(e,e.gap,(function(e){return{gap:(0,o.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["gap"];var S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,o.eI)(e.theme,"spacing",8,"columnGap");return(0,a.k9)(e,e.columnGap,(function(e){return{columnGap:(0,o.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["columnGap"];var C=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,o.eI)(e.theme,"spacing",8,"rowGap");return(0,a.k9)(e,e.rowGap,(function(e){return{rowGap:(0,o.NA)(t,e)}}))}return null};C.propTypes={},C.filterProps=["rowGap"];l(w,S,C,(0,u.ZP)({prop:"gridColumn"}),(0,u.ZP)({prop:"gridRow"}),(0,u.ZP)({prop:"gridAutoFlow"}),(0,u.ZP)({prop:"gridAutoColumns"}),(0,u.ZP)({prop:"gridAutoRows"}),(0,u.ZP)({prop:"gridTemplateColumns"}),(0,u.ZP)({prop:"gridTemplateRows"}),(0,u.ZP)({prop:"gridTemplateAreas"}),(0,u.ZP)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}l((0,u.ZP)({prop:"color",themeKey:"palette",transform:E}),(0,u.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,u.ZP)({prop:"backgroundColor",themeKey:"palette",transform:E}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var x=(0,u.ZP)({prop:"width",transform:T}),I=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,a.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||a.VO[t]||T(t)}}))}return null};I.filterProps=["maxWidth"];var N=(0,u.ZP)({prop:"minWidth",transform:T}),A=(0,u.ZP)({prop:"height",transform:T}),R=(0,u.ZP)({prop:"maxHeight",transform:T}),P=(0,u.ZP)({prop:"minHeight",transform:T}),D=((0,u.ZP)({prop:"size",cssProperty:"width",transform:T}),(0,u.ZP)({prop:"size",cssProperty:"height",transform:T}),l(x,I,N,A,R,P,(0,u.ZP)({prop:"boxSizing"})),function(e){return function(t){if(void 0!==t[e]&&null!==t[e]){return(0,a.k9)(t,t[e],(function(n){var o,a,u,s,l,c,f=null==(o=t.theme.typography)?void 0:o[n];("object"===typeof f&&(f=null),f)||(f=null==(a=t.theme.typography)?void 0:a["".concat(e).concat("default"===t[e]||t[e]===e?"":(0,i.Z)(null==(u=t[e])?void 0:u.toString()))]);f||(f=null!=(s=null==(l=t.theme.typography)||null==(c=l[n])?void 0:c[e])?s:n);return(0,r.Z)({},e,f)}))}return null}}),O={border:{themeKey:"borders",transform:c},borderTop:{themeKey:"borders",transform:c},borderRight:{themeKey:"borders",transform:c},borderBottom:{themeKey:"borders",transform:c},borderLeft:{themeKey:"borders",transform:c},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:o.o3},pt:{style:o.o3},pr:{style:o.o3},pb:{style:o.o3},pl:{style:o.o3},px:{style:o.o3},py:{style:o.o3},padding:{style:o.o3},paddingTop:{style:o.o3},paddingRight:{style:o.o3},paddingBottom:{style:o.o3},paddingLeft:{style:o.o3},paddingX:{style:o.o3},paddingY:{style:o.o3},paddingInline:{style:o.o3},paddingInlineStart:{style:o.o3},paddingInlineEnd:{style:o.o3},paddingBlock:{style:o.o3},paddingBlockStart:{style:o.o3},paddingBlockEnd:{style:o.o3},m:{style:o.e6},mt:{style:o.e6},mr:{style:o.e6},mb:{style:o.e6},ml:{style:o.e6},mx:{style:o.e6},my:{style:o.e6},margin:{style:o.e6},marginTop:{style:o.e6},marginRight:{style:o.e6},marginBottom:{style:o.e6},marginLeft:{style:o.e6},marginX:{style:o.e6},marginY:{style:o.e6},marginInline:{style:o.e6},marginInlineStart:{style:o.e6},marginInlineEnd:{style:o.e6},marginBlock:{style:o.e6},marginBlockStart:{style:o.e6},marginBlockEnd:{style:o.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:w},rowGap:{style:C},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:I},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography",style:D("fontFamily")},fontSize:{themeKey:"typography",style:D("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:D("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),o=n(8247),a=n(8529),u=n(1184),s=n(7416);var l=function(){function e(e,t,n,o){var s,l=(s={},(0,r.Z)(s,e,t),(0,r.Z)(s,"theme",n),s),c=o[e];if(!c)return(0,r.Z)({},e,t);var f=c.cssProperty,h=void 0===f?e:f,d=c.themeKey,p=c.transform,v=c.style;if(null==t)return null;var m=(0,a.DW)(n,d)||{};if(v)return v(l);return(0,u.k9)(l,t,(function(t){var n=(0,a.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,a.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===h?n:(0,r.Z)({},h,n)}))}return function t(n){var i,a=n||{},l=a.sx,c=a.theme,f=void 0===c?{}:c;if(!l)return null;var h=null!=(i=f.unstable_sxConfig)?i:s.Z;function d(n){var i=n;if("function"===typeof n)i=n(f);else if("object"!==typeof n)return n;if(!i)return null;var a=(0,u.W8)(f.breakpoints),s=Object.keys(a),l=a;return Object.keys(i).forEach((function(n){var a,s,c=(a=i[n],s=f,"function"===typeof a?a(s):a);if(null!==c&&void 0!==c)if("object"===typeof c)if(h[n])l=(0,o.Z)(l,e(n,c,f,h));else{var d=(0,u.k9)({theme:f},c,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,c)?l=(0,o.Z)(l,d):l[n]=t({sx:c,theme:f})}else l=(0,o.Z)(l,e(n,c,f,h))})),(0,u.L7)(s,l)}return Array.isArray(l)?l.map(d):d(l)}}();l.filterProps=["sx"],t.Z=l},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},3981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(r,o)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=o(e[n])})),t}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},u=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?u[r]=a(e[r],t[r],n):n.clone?u[r]=i(t[r])?o(t[r]):t[r]:u[r]=t[r])})),u}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7979:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9723);function i(e){return(0,r.Z)(e).defaultView||window}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<a.length;++m){var y=a[m];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{l(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case u:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function w(e){return _(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function Z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ce=null;function Ee(e){if(e=ki(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Te(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function xe(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ce)&&(Ne(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){De=!1}function Me(e,t,n,r,i,o,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Fe=null,Ue=!1,je=null,ze={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,u,s){Le=!1,Fe=null,Me.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~i;0!==u?r=ft(u):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,St,Ct,Et,Tt=!1,xt=[],It=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function zt(){Tt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(jt),Pt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<xt.length){Vt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Zt=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,o=Zt.transition;Zt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Zt.transition=o}}function Ht(e,t,n,r){var i=kt,o=Zt.transition;Zt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Zt.transition=o}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=ki(i);if(null!==o&&_t(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=gi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=F({},ln,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),mn=on(F({},fn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=on(gn),bn=on(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Cn}var Tn=F({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Tn),In=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,Fn=c&&(!On||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Ur(e,0)}function Qn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,_e(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Cr={};function Er(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Er("animationend"),xr=Er("animationiteration"),Ir=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,l){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Fe;Le=!1,Fe=null,Ue||(Ue=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Fr(i,u,l),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,l=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Fr(i,u,l),o=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Zr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=gi(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=o,i=_e(n),a=[];e:{var u=Ar.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=xn;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tr:case xr:case Ir:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),a.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==l?u:bi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==s&&Gr(a,u,s,c,!1),null!==l&&null!==f&&Gr(a,f,l,c,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Yn)m=ar;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(a,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),a.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Jt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Pe(n,o))&&a.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,o))&&a.push(Wr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[di]||null}var wi=[],Si=-1;function Ci(e){return{current:e}}function Ei(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Ti(e,t){Si++,wi[Si]=e.current,e.current=t}var xi={},Ii=Ci(xi),Ni=Ci(!1),Ai=xi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ii)}function Oi(e,t,n){if(Ii.current!==xi)throw Error(o(168));Ti(Ii,t),Ti(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,Z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ii),Ti(Ii,e)):Ei(Ni),Ti(Ni,n)}var Ui=null,ji=!1,zi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Je,Bi),i}finally{kt=t,zi=!1}}return null}var Zi=[],qi=0,Wi=null,Hi=0,Ki=[],Gi=0,Qi=null,$i=1,Yi="";function Xi(e,t){Zi[qi++]=Hi,Zi[qi++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Yi=o+e}else $i=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Zi[--qi],Zi[qi]=null,Hi=Zi[--qi],Zi[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,$i=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!uo(e,t)){if(so(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&uo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Ci(null),ko=null,bo=null,_o=null;function wo(){_o=bo=ko=null}function So(e){var t=go.current;Ei(go),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){ko=e,_o=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===ko)throw Error(o(308));bo=e,ko.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var xo=null;function Io(e){null===xo?xo=[e]:xo.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===a?o=l:a.next=l,a=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==o){var f=i.baseState;for(a=0,c=l=s=null,u=o;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ro=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,a|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fs|=a,e.lanes=a,e.memoizedState=f}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rl(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rl(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rl(t,e,r,n),Lo(t,e,r))}};function Zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function qo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Pi(t)?Ai:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Pi(t)?Ai:Ii.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case w:return(t=jl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,u,s){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),io&&Xi(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return io&&Xi(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,v),l}function m(i,u,s,l){var c=M(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),io&&Xi(i,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(u=a(g,u,m),null===f?c=g:f.sibling=g,f=g);return io&&Xi(i,m),c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Ko(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((o=Ll(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Ml(a.type,a.key,a.props,null,r.mode,s)).ref=Ko(r,o,a),s.return=r,r=s)}return u(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jl(a,r.mode,s)).return=r,r=o}return u(r);case P:return e(r,o,(c=a._init)(a._payload),s)}if(te(a))return v(r,o,a,s);if(M(a))return m(r,o,a,s);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ul(a,r.mode,s)).return=r,r=o),u(r)):n(r,o)}}var Yo=$o(!0),Xo=$o(!1),Jo={},ea=Ci(Jo),ta=Ci(Jo),na=Ci(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),Ti(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=se(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function ua(e){ta.current===e&&(Ei(ea),Ei(ta))}var sa=Ci(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ya=null,ga=!1,ka=!1,ba=0,_a=0;function wa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Ca(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ka){a=0;do{if(ka=!1,ba=0,25<=a)throw Error(o(301));a+=1,ya=ma=null,t.updateQueue=null,ha.current=lu,e=n(r,i)}while(ka)}if(ha.current=au,t=null!==ma&&null!==ma.next,pa=0,ya=ma=va=null,ga=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==ba;return ba=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?va.memoizedState=ya=e:ya=ya.next=e,ya}function xa(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ya?va.memoizedState:ya.next;if(null!==t)ya=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ya?va.memoizedState=ya=e:ya=ya.next=e}return ya}function Ia(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=u=null,l=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,va.lanes|=f,Fs|=f}c=c.next}while(null!==c&&c!==a);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Fs|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);ur(a,t.memoizedState)||(bu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function Pa(e,t){var n=va,r=xa(),i=t(),a=!ur(r.memoizedState,i);if(a&&(r.memoizedState=i,bu=!0),r=r.queue,qa(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,ja(9,Oa.bind(null,n,r,i,t),void 0,null),null===As)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Ma(e,t,n){return n((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fa(e){var t=Ao(e,1);null!==t&&rl(t,e,1,-1)}function Ua(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,va,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return xa().memoizedState}function Va(e,t,n,r){var i=Ta();va.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}va.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ka.bind(null,t,e),n)}function Qa(){}function $a(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),va.lanes|=n,Fs|=n,e.baseState=!0),t)}function Ja(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{kt=n,da.transition=r}}function eu(){return xa().memoizedState}function tu(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=No(e,t,n,r))){rl(n,e,r,tl()),ou(n,t,r)}}function nu(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,a)){var s=t.interleaved;return null===s?(i.next=i,Io(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=No(e,t,i,r))&&(rl(n,e,r,i=tl()),ou(n,t,r))}}function ru(e){var t=e.alternate;return e===va||null!==t&&t===va}function iu(e,t){ka=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ou(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var au={readContext:To,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},uu={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Ua,useDebugValue:Qa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===As)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Za(Ma.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=As.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:To,useCallback:$a,useContext:To,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ya,useReducer:Na,useRef:za,useState:function(){return Na(Ia)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(xa(),ma.memoizedState,e)},useTransition:function(){return[Na(Ia)[0],xa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Pa,useId:eu,unstable_isNewReconciler:!1},lu={readContext:To,useCallback:$a,useContext:To,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ya,useReducer:Aa,useRef:za,useState:function(){return Aa(Ia)},useDebugValue:Qa,useDeferredValue:function(e){var t=xa();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ia)[0],xa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Pa,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function _u(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function wu(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Ca(e,t,n,r,o,i),n=Ea(),null===e||bu?(io&&n&&eo(t),t.flags|=1,_u(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cu(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Ol(o,r)).ref=t.ref,e.return=t,t.child=e}function Cu(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return xu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Os,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Os,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Os,Ds),Ds|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Os,Ds),Ds|=r;return _u(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var o=Pi(n)?Ai:Ii.current;return o=Ri(t,o),Eo(t,i),n=Ca(e,t,n,r,o,i),r=Ea(),null===e||bu?(io&&r&&eo(t),t.flags|=1,_u(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Iu(e,t,n,r,i){if(Pi(n)){var o=!0;Li(t)}else o=!1;if(Eo(t,i),null===t.stateNode)qu(e,t),qo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=To(l):l=Ri(t,l=Pi(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==l)&&Wo(t,a,r,l),Ro=!1;var h=t.memoizedState;a.state=h,Uo(t,r,a,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Ro?("function"===typeof c&&(Vo(t,n,c,r),s=t.memoizedState),(u=Ro||Zo(t,n,u,r,h,s,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:yo(t.type,u),a.props=l,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=To(s):s=Ri(t,s=Pi(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Wo(t,a,r,s),Ro=!1,h=t.memoizedState,a.state=h,Uo(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Ro?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(l=Ro||Zo(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=l):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,o,i)}function Nu(e,t,n,r,i,o){Tu(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Wu(e,t,o);r=t.stateNode,ku.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,u,o)):_u(e,t,u,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Ru(e,t,n,r,i){return po(),vo(i),t.flags|=256,_u(e,t,n,r),t.child}var Pu,Du,Ou,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,a=sa.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(sa,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fl(s,i,0,null),e=Ll(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,u){if(n)return 256&t.flags?(t.flags&=-257,zu(e,t,u,r=fu(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(a=Ll(a,i,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,a);if(0===(1&t.mode))return zu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zu(e,t,u,r=fu(a=Error(o(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),rl(r,e,i,-1))}return ml(),zu(e,t,u,r=fu(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(u){u=i.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?u=Ol(r,u):(u=Ll(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Ol(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zu(e,t,n,r){return null!==r&&vo(r),Yo(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Bu(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_u(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,o);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ku(t),null;case 3:return r=t.stateNode,oa(),Ei(Ni),Ei(Ii),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ul(oo),oo=null))),Du(e,t),Ku(t),null;case 5:ua(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ku(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var s in ge(n,a),i=null,a)if(a.hasOwnProperty(s)){var l=a[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),J(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ge(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=c&&"onScroll"===a&&jr("scroll",e):null!=c&&k(e,a,c,s))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),a=!1}else null!==oo&&(ul(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Ms&&(Ms=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return oa(),Du(e,t),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return So(t.type._context),Ku(t),null;case 19:if(Ei(sa),null===(a=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Hu(a,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=la(e))){for(t.flags|=128,Hu(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Zs&&(t.flags|=128,r=!0,Hu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!io)return Ku(t),null}else 2*Ye()-a.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=sa.current,Ti(sa,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qu(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Ni),Ei(Ii),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ua(t),null;case 13:if(Ei(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(sa),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){El(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ts(t,n,o)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ts(n,t,a),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){El(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(o(160));ps(a,u,i),fs=null,hs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){El(e,e.return,m)}try{rs(5,e,e.return)}catch(m){El(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){El(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===a.type&&null!=a.name&&Y(i,a),ke(s,u);var c=ke(s,a);for(u=0;u<l.length;u+=2){var f=l[u],h=l[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(s){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){El(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){El(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){El(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(c=Yu)||f,ms(t,e),Yu=c):ms(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){El(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,u=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){El(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){El(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ls(e,ss(e),a);break;default:throw Error(o(161))}}catch(u){El(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$u;if(!a){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var l=Yu;if($u=a,(Yu=s)&&!l)for(Ju=i;null!==Ju;)s=(a=Ju).child,22===a.tag&&null!==a.memoizedState?Ss(i):null!==s?(s.return=a,Ju=s):Ss(i);for(;null!==o;)Ju=o,bs(o,t,n),o=o.sibling;Ju=i,$u=u,Yu=l}_s(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ju=o):_s(e)}}function _s(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Yu||512&t.flags&&os(t)}catch(d){El(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function Ss(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){El(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){El(t,i,s)}}var o=t.return;try{os(t)}catch(s){El(t,o,s)}break;case 5:var a=t.return;try{os(t)}catch(s){El(t,a,s)}}}catch(s){El(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Cs,Es=Math.ceil,Ts=b.ReactCurrentDispatcher,xs=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Ns=0,As=null,Rs=null,Ps=0,Ds=0,Os=Ci(0),Ms=0,Ls=null,Fs=0,Us=0,js=0,zs=null,Vs=null,Bs=0,Zs=1/0,qs=null,Ws=!1,Hs=null,Ks=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,el=0;function tl(){return 0!==(6&Ns)?Ye():-1!==Js?Js:Js=Ye()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ps?Ps&-Ps:null!==mo.transition?(0===el&&(el=vt()),el):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(o(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Us|=n),4===Ms&&sl(e,Ps)),il(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(Zs=Ye()+500,ji&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),u=1<<a,s=i[a];-1===s?0!==(u&n)&&0===(u&r)||(i[a]=dt(u,t)):s<=t&&(e.expiredLanes|=u),o&=~u}}(e,t);var r=ht(e,e===As?Ps:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(ll.bind(null,e)):Vi(ll.bind(null,e)),ai((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Js=-1,el=0,0!==(6&Ns))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Ns;Ns|=2;var a=vl();for(As===e&&Ps===t||(qs=null,Zs=Ye()+500,dl(e,t));;)try{kl();break}catch(s){pl(e,s)}wo(),Ts.current=a,Ns=i,null!==Rs?t=0:(As=null,Ps=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ls,dl(e,0),sl(e,r),il(e,Ye()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(a=pt(e))&&(r=a,t=al(e,a))),1===t))throw n=Ls,dl(e,0),sl(e,r),il(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wl(e,Vs,qs);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Vs,qs),t);break}wl(e,Vs,qs);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-at(r);a=1<<u,(u=t[u])>i&&(i=u),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Vs,qs),r);break}wl(e,Vs,qs);break;default:throw Error(o(329))}}}return il(e,Ye()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Vs,Vs=n,null!==t&&ul(t)),e}function ul(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sl(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ns))throw Error(o(327));Sl();var t=ht(e,0);if(0===(1&t))return il(e,Ye()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ls,dl(e,0),sl(e,t),il(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Vs,qs),il(e,Ye()),null}function cl(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Zs=Ye()+500,ji&&Bi())}}function fl(e){null!==Qs&&0===Qs.tag&&0===(6&Ns)&&Sl();var t=Ns;Ns|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ns=t))&&Bi()}}function hl(){Ds=Os.current,Ei(Os)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Ei(Ni),Ei(Ii),fa();break;case 5:ua(r);break;case 4:oa();break;case 13:case 19:Ei(sa);break;case 10:So(r.type._context);break;case 22:case 23:hl()}n=n.return}if(As=e,Rs=e=Ol(e.current,null),Ps=Ds=t,Ms=0,Ls=null,js=Us=Fs=0,Vs=zs=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function pl(e,t){for(;;){var n=Rs;try{if(wo(),ha.current=au,ga){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(pa=0,ya=ma=va=null,ka=!1,ba=0,xs.current=null,null===n||null===n.return){Ms=1,Ls=t,Rs=null;break}e:{var a=e,u=n.return,s=n,l=t;if(t=Ps,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(a,c,t),ml();break e}l=Error(o(426))}else if(io&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),vo(cu(l,s));break e}}a=l=cu(l,s),4!==Ms&&(Ms=2),null===zs?zs=[a]:zs.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,pu(0,l,t));break e;case 1:s=l;var g=a.type,k=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vu(a,s,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vl(){var e=Ts.current;return Ts.current=au,null===e?au:e}function ml(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===As||0===(268435455&Fs)&&0===(268435455&Us)||sl(As,Ps)}function yl(e,t){var n=Ns;Ns|=2;var r=vl();for(As===e&&Ps===t||(qs=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(wo(),Ns=n,Ts.current=r,null!==Rs)throw Error(o(261));return As=null,Ps=0,Ms}function gl(){for(;null!==Rs;)bl(Rs)}function kl(){for(;null!==Rs&&!Qe();)bl(Rs)}function bl(e){var t=Cs(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?_l(e):Rs=t,xs.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ds)))return void(Rs=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ms=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ms&&(Ms=5)}function wl(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{Sl()}while(null!==Qs);if(0!==(6&Ns))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===As&&(Rs=As=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Al(tt,(function(){return Sl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,xs.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==a||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===a&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:yo(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){El(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),Ns=s,kt=u,Is.transition=a}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),a=e.pendingLanes,0===a&&(Ks=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&Sl(),a=e.pendingLanes,0!==(1&a)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function Sl(){if(null!==Qs){var e=bt($s),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Ns))throw Error(o(331));var i=Ns;for(Ns|=4,Ju=e.current;null!==Ju;){var a=Ju,u=a.child;if(0!==(16&Ju.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Ju=c;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,a)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===c){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(a=Ju).flags))switch(a.tag){case 0:case 11:case 15:rs(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Ju=g;break e}Ju=a.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(w){El(s,s.return,w)}if(s===u){Ju=null;break e}var _=s.sibling;if(null!==_){_.return=s.return,Ju=_;break e}Ju=s.return}}if(Ns=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function Cl(e,t,n){e=Mo(e,t=pu(0,t=cu(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function El(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Mo(t,e=vu(t,e=cu(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(130023424&Ps)===Ps&&500>Ye()-Bs?dl(e,0):js|=n),il(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ao(e,t))&&(yt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xl(e,n)}function Al(e,t){return Ke(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Dl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Ll(n.children,i,a,t);case C:u=8,i|=8;break;case E:return(e=Pl(12,n,t,2|i)).elementType=E,e.lanes=a,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pl(19,n,t,i)).elementType=A,e.lanes=a,e;case D:return Fl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case x:u=9;break e;case I:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pl(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ll(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,o,a,u,s){return e=new zl(e,t,n,u,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Bl(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Zl(e,t,n,r,i,o,a,u,s){return(e=Vl(n,r,!0,e,0,o,0,u,s)).context=Bl(null),n=e.current,(o=Oo(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function ql(e,t,n,r){var i=t.current,o=tl(),a=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(rl(e,i,a,o),Lo(e,i,a)),a}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Cs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),po();break;case 5:aa(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ti(sa,1&sa.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ti(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,io&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);Eo(t,n),i=Ca(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Nu(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_u(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=yo(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=wu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Uo(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ru(e,t,r,n,i=cu(Error(o(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=cu(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wu(e,t,n);break e}_u(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==a&&ni(r,a)&&(t.flags|=32),Tu(e,t),_u(e,t,u,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Uu(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):_u(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wu(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return _u(e,t,t.pendingProps,n),t.child;case 8:case 12:return _u(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Ti(go,r._currentValue),r._currentValue=u,null!==a)if(ur(a.value,u)){if(a.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Oo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Co(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(o(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Co(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}_u(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=To(i)),t.flags|=1,_u(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Su(e,t,r,i=yo(r.type,i),n);case 15:return Cu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Eo(t,n),qo(t,r,i),Ho(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var u=i;i=function(){var e=Wl(a);u.call(e)}}ql(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wl(a);o.call(e)}}var a=Zl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),fl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wl(s);u.call(e)}}var s=Vl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){ql(t,s,n,r)})),s}(n,t,e,i,r);return Wl(a)}$l.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ql(e,t,null,null)},$l.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){ql(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Ye()),0===(6&Ns)&&(Zs=Ye()+500,Bi()))}break;case 13:fl((function(){var t=Ao(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},wt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Ao(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},Ct=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,_i,Te,xe,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",u=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Zl(t,null,e,1,null!=n?n:null,i,0,a,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:u.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:u,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+I(s,0):o,_(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var c=o+I(u=e[l],l);s+=N(u,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,c=o+I(u,l++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=k,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>o(s,n))l<i&&0>o(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,D(w);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var o=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var u=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&O(_,f.startTime-n),s=!1}return s}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,T=-1,x=5,I=-1;function N(){return!(t.unstable_now()-I<x)}function A(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"===typeof k)S=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){y(A,0)};function D(e){E=e,C||(C=!0,S())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,O(_,o-a))):(e.sortIndex=u,n(l,e),v||p||(v=!0,D(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Messenger-Clone/",function(){"use strict";var e=n(2791),t=n(1250),r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new x(r||[]);return o(a,"_invoke",{value:S(e,n,u)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};c(y,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(I([])));k&&k!==t&&n.call(k,u)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(o,a,u,s){var l=h(e[o],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){c.value=e,u(c)}),(function(e){return i("throw",e,u,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,o(b,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),c(b,l,"Generator"),c(b,u,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function o(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(Zm){return void n(Zm)}u.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,s,"next",e)}function s(e){o(a,r,i,u,s,"throw",e)}u(void 0)}))}}var u=n(885),s=n(3366),l=n(7462),c=n(8182),f=n(4419),h=n(1388),d=n(4923);function p(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(p(e.value)&&""!==e.value||t&&p(e.defaultValue)&&""!==e.defaultValue)}var m=n(4036),y=n(9103);var g=e.createContext(void 0),k=n(5878),b=n(1217);function _(e){return(0,b.Z)("MuiFormControl",e)}(0,k.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var w=n(184),S=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],C=(0,d.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,l.Z)({},t.root,t["margin".concat((0,m.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),E=e.forwardRef((function(t,n){var r=(0,h.Z)({props:t,name:"MuiFormControl"}),i=r.children,o=r.className,a=r.color,d=void 0===a?"primary":a,p=r.component,k=void 0===p?"div":p,b=r.disabled,E=void 0!==b&&b,T=r.error,x=void 0!==T&&T,I=r.focused,N=r.fullWidth,A=void 0!==N&&N,R=r.hiddenLabel,P=void 0!==R&&R,D=r.margin,O=void 0===D?"none":D,M=r.required,L=void 0!==M&&M,F=r.size,U=void 0===F?"medium":F,j=r.variant,z=void 0===j?"outlined":j,V=(0,s.Z)(r,S),B=(0,l.Z)({},r,{color:d,component:k,disabled:E,error:x,fullWidth:A,hiddenLabel:P,margin:O,required:L,size:U,variant:z}),Z=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,m.Z)(n)),r&&"fullWidth"]};return(0,f.Z)(i,_,t)}(B),q=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){if((0,y.Z)(e,["Input","Select"])){var n=(0,y.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),W=(0,u.Z)(q,2),H=W[0],K=W[1],G=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){(0,y.Z)(e,["Input","Select"])&&v(e.props,!0)&&(t=!0)})),t})),Q=(0,u.Z)(G,2),$=Q[0],Y=Q[1],X=e.useState(!1),J=(0,u.Z)(X,2),ee=J[0],te=J[1];E&&ee&&te(!1);var ne,re=void 0===I||E?ee:I,ie=e.useMemo((function(){return{adornedStart:H,setAdornedStart:K,color:d,disabled:E,error:x,filled:$,focused:re,fullWidth:A,hiddenLabel:P,size:U,onBlur:function(){te(!1)},onEmpty:function(){Y(!1)},onFilled:function(){Y(!0)},onFocus:function(){te(!0)},registerEffect:ne,required:L,variant:z}}),[H,d,E,x,$,re,A,P,ne,L,U,z]);return(0,w.jsx)(g.Provider,{value:ie,children:(0,w.jsx)(C,(0,l.Z)({as:k,ownerState:B,className:(0,c.Z)(Z.root,o),ref:n},V,{children:i}))})})),T=E,x=n(4942),I=n(2982),N=n(2466),A=n(6189),R=n(4164),P=n(7563),D=n(7979),O=n(3981),M=n(5721),L=["onChange","maxRows","minRows","style","value"];function F(e){return parseInt(e,10)||0}var U={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function j(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var z=e.forwardRef((function(t,n){var r=t.onChange,i=t.maxRows,o=t.minRows,a=void 0===o?1:o,c=t.style,f=t.value,h=(0,s.Z)(t,L),d=e.useRef(null!=f).current,p=e.useRef(null),v=(0,P.Z)(n,p),m=e.useRef(null),y=e.useRef(0),g=e.useState({outerHeightStyle:0}),k=(0,u.Z)(g,2),b=k[0],_=k[1],S=e.useCallback((function(){var e=p.current,n=(0,D.Z)(e).getComputedStyle(e);if("0px"===n.width)return{outerHeightStyle:0};var r=m.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var o=n.boxSizing,u=F(n.paddingBottom)+F(n.paddingTop),s=F(n.borderBottomWidth)+F(n.borderTopWidth),l=r.scrollHeight;r.value="x";var c=r.scrollHeight,f=l;return a&&(f=Math.max(Number(a)*c,f)),i&&(f=Math.min(Number(i)*c,f)),{outerHeightStyle:(f=Math.max(f,c))+("border-box"===o?u+s:0),overflow:Math.abs(f-l)<=1}}),[i,a,t.placeholder]),C=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return y.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(y.current+=1,{overflow:r,outerHeightStyle:n}):e},E=e.useCallback((function(){var e=S();j(e)||_((function(t){return C(t,e)}))}),[S]);e.useEffect((function(){var e,t=(0,O.Z)((function(){y.current=0,p.current&&function(){var e=S();j(e)||R.flushSync((function(){_((function(t){return C(t,e)}))}))}()})),n=p.current,r=(0,D.Z)(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),(0,M.Z)((function(){E()})),e.useEffect((function(){y.current=0}),[f]);return(0,w.jsxs)(e.Fragment,{children:[(0,w.jsx)("textarea",(0,l.Z)({value:f,onChange:function(e){y.current=0,d||E(),r&&r(e)},ref:v,rows:a,style:(0,l.Z)({height:b.outerHeightStyle,overflow:b.overflow?"hidden":void 0},c)},h)),(0,w.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,l.Z)({},U,c,{padding:0})})]})})),V=z;function B(e){return"string"===typeof e}var Z=n(2071),q=n(162),W=(n(3361),n(9886)),H=(n(2110),n(5438)),K=n(9140),G=n(2561),Q=(0,W.w)((function(t,n){var r=t.styles,i=(0,K.O)([r],void 0,(0,e.useContext)(W.T)),o=(0,e.useRef)();return(0,G.j)((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),(0,G.j)((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,H.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,K.O)(t)}var Y=function(){var e=$.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function X(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,w.jsx)(Q,{styles:i})}var J=n(4591);var ee=function(e){return(0,w.jsx)(X,(0,l.Z)({},e,{defaultTheme:J.Z}))};function te(e){return(0,b.Z)("MuiInputBase",e)}var ne=(0,k.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),re=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ie=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,m.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},oe=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ae=(0,d.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ie})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({},t.typography.body1,(0,x.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(ne.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,l.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),ue=(0,d.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oe})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=(0,l.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),a={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,l.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,x.Z)(t,"label[data-shrink=false] + .".concat(ne.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),(0,x.Z)(t,"&.".concat(ne.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,x.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),se=(0,w.jsx)(ee,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),le=e.forwardRef((function(t,n){var r,i=(0,h.Z)({props:t,name:"MuiInputBase"}),o=i["aria-describedby"],a=i.autoComplete,d=i.autoFocus,p=i.className,y=i.components,k=void 0===y?{}:y,b=i.componentsProps,_=void 0===b?{}:b,S=i.defaultValue,C=i.disabled,E=i.disableInjectingGlobalStyles,T=i.endAdornment,x=i.fullWidth,I=void 0!==x&&x,N=i.id,R=i.inputComponent,P=void 0===R?"input":R,D=i.inputProps,O=void 0===D?{}:D,M=i.inputRef,L=i.maxRows,F=i.minRows,U=i.multiline,j=void 0!==U&&U,z=i.name,W=i.onBlur,H=i.onChange,K=i.onClick,G=i.onFocus,Q=i.onKeyDown,$=i.onKeyUp,Y=i.placeholder,X=i.readOnly,J=i.renderSuffix,ee=i.rows,ne=i.slotProps,ie=void 0===ne?{}:ne,oe=i.slots,le=void 0===oe?{}:oe,ce=i.startAdornment,fe=i.type,he=void 0===fe?"text":fe,de=i.value,pe=(0,s.Z)(i,re),ve=null!=O.value?O.value:de,me=e.useRef(null!=ve).current,ye=e.useRef(),ge=e.useCallback((function(e){0}),[]),ke=(0,Z.Z)(ye,M,O.ref,ge),be=e.useState(!1),_e=(0,u.Z)(be,2),we=_e[0],Se=_e[1],Ce=e.useContext(g);var Ee=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:i,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ee.focused=Ce?Ce.focused:we,e.useEffect((function(){!Ce&&C&&we&&(Se(!1),W&&W())}),[Ce,C,we,W]);var Te=Ce&&Ce.onFilled,xe=Ce&&Ce.onEmpty,Ie=e.useCallback((function(e){v(e)?Te&&Te():xe&&xe()}),[Te,xe]);(0,q.Z)((function(){me&&Ie({value:ve})}),[ve,Ie,me]);e.useEffect((function(){Ie(ye.current)}),[]);var Ne=P,Ae=O;j&&"input"===Ne&&(Ae=ee?(0,l.Z)({type:void 0,minRows:ee,maxRows:ee},Ae):(0,l.Z)({type:void 0,maxRows:L,minRows:F},Ae),Ne=V);e.useEffect((function(){Ce&&Ce.setAdornedStart(Boolean(ce))}),[Ce,ce]);var Re=(0,l.Z)({},i,{color:Ee.color||"primary",disabled:Ee.disabled,endAdornment:T,error:Ee.error,focused:Ee.focused,formControl:Ce,fullWidth:I,hiddenLabel:Ee.hiddenLabel,multiline:j,size:Ee.size,startAdornment:ce,type:he}),Pe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,u=e.formControl,s=e.fullWidth,l=e.hiddenLabel,c=e.multiline,h=e.readOnly,d=e.size,p=e.startAdornment,v=e.type,y={root:["root","color".concat((0,m.Z)(n)),r&&"disabled",i&&"error",s&&"fullWidth",a&&"focused",u&&"formControl","small"===d&&"sizeSmall",c&&"multiline",p&&"adornedStart",o&&"adornedEnd",l&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===v&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",l&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return(0,f.Z)(y,te,t)}(Re),De=le.root||k.Root||ae,Oe=ie.root||_.root||{},Me=le.input||k.Input||ue;return Ae=(0,l.Z)({},Ae,null!=(r=ie.input)?r:_.input),(0,w.jsxs)(e.Fragment,{children:[!E&&se,(0,w.jsxs)(De,(0,l.Z)({},Oe,!B(De)&&{ownerState:(0,l.Z)({},Re,Oe.ownerState)},{ref:n,onClick:function(e){ye.current&&e.currentTarget===e.target&&ye.current.focus(),K&&K(e)}},pe,{className:(0,c.Z)(Pe.root,Oe.className,p,X&&"MuiInputBase-readOnly"),children:[ce,(0,w.jsx)(g.Provider,{value:null,children:(0,w.jsx)(Me,(0,l.Z)({ownerState:Re,"aria-invalid":Ee.error,"aria-describedby":o,autoComplete:a,autoFocus:d,defaultValue:S,disabled:Ee.disabled,id:N,onAnimationStart:function(e){Ie("mui-auto-fill-cancel"===e.animationName?ye.current:{value:"x"})},name:z,placeholder:Y,readOnly:X,required:Ee.required,rows:ee,value:ve,onKeyDown:Q,onKeyUp:$,type:he},Ae,!B(Me)&&{as:Ne,ownerState:(0,l.Z)({},Re,Ae.ownerState)},{ref:ke,className:(0,c.Z)(Pe.input,Ae.className,X&&"MuiInputBase-readOnly"),onBlur:function(e){W&&W(e),O.onBlur&&O.onBlur(e),Ce&&Ce.onBlur?Ce.onBlur(e):Se(!1)},onChange:function(e){if(!me){var t=e.target||ye.current;if(null==t)throw new Error((0,A.Z)(1));Ie({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];O.onChange&&O.onChange.apply(O,[e].concat(r)),H&&H.apply(void 0,[e].concat(r))},onFocus:function(e){Ee.disabled?e.stopPropagation():(G&&G(e),O.onFocus&&O.onFocus(e),Ce&&Ce.onFocus?Ce.onFocus(e):Se(!0))}}))}),T,J?J((0,l.Z)({},Ee,{startAdornment:ce})):null]}))]})})),ce=le;function fe(e){return(0,b.Z)("MuiInput",e)}var he=(0,l.Z)({},ne,(0,k.Z)("MuiInput",["root","underline","input"])),de=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],pe=(0,d.ZP)(ae,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,I.Z)(ie(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,l.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,x.Z)(t,"&.".concat(he.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,x.Z)(t,"&.".concat(he.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,x.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,x.Z)(t,"&:hover:not(.".concat(he.disabled,", .").concat(he.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,x.Z)(t,"&.".concat(he.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),ve=(0,d.ZP)(ue,{name:"MuiInput",slot:"Input",overridesResolver:oe})({}),me=e.forwardRef((function(e,t){var n,r,i,o,a=(0,h.Z)({props:e,name:"MuiInput"}),u=a.disableUnderline,c=a.components,d=void 0===c?{}:c,p=a.componentsProps,v=a.fullWidth,m=void 0!==v&&v,y=a.inputComponent,g=void 0===y?"input":y,k=a.multiline,b=void 0!==k&&k,_=a.slotProps,S=a.slots,C=void 0===S?{}:S,E=a.type,T=void 0===E?"text":E,x=(0,s.Z)(a,de),I=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,f.Z)(n,fe,t);return(0,l.Z)({},t,r)}(a),A={root:{ownerState:{disableUnderline:u}}},R=(null!=_?_:p)?(0,N.Z)(null!=_?_:p,A):A,P=null!=(n=null!=(r=C.root)?r:d.Root)?n:pe,D=null!=(i=null!=(o=C.input)?o:d.Input)?i:ve;return(0,w.jsx)(ce,(0,l.Z)({slots:{root:P,input:D},slotProps:R,fullWidth:m,inputComponent:g,multiline:b,ref:t,type:T},x,{classes:I}))}));me.muiName="Input";var ye=me,ge=n(2065),ke=n(6868),be=n(3031);function _e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}var Ce=e.createContext(null);function Ee(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function Te(e,t,n){return null!=n[t]?n[t]:e.props[t]}function xe(t,n,r){var i=Ee(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var l=i[s][r];u[i[s][r]]=n(l)}u[s]=n(s)}for(r=0;r<o.length;r++)u[o[r]]=n(o[r]);return u}(n,i);return Object.keys(o).forEach((function(a){var u=o[a];if((0,e.isValidElement)(u)){var s=a in n,l=a in i,c=n[a],f=(0,e.isValidElement)(c)&&!c.props.in;!l||s&&!f?l||!s||f?l&&s&&(0,e.isValidElement)(c)&&(o[a]=(0,e.cloneElement)(u,{onExited:r.bind(null,u),in:c.props.in,exit:Te(u,"exit",t),enter:Te(u,"enter",t)})):o[a]=(0,e.cloneElement)(u,{in:!1}):o[a]=(0,e.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Te(u,"exit",t),enter:Te(u,"enter",t)})}})),o}var Ie=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ne=function(t){var n,r;function i(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(we(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Se(n,r);var o=i.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,Ee(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Te(t,"appear",r),enter:Te(t,"enter",r),exit:Te(t,"exit",r)})}))):xe(t,o,a),firstRender:!1}},o.handleExited=function(e,t){var n=Ee(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,l.Z)({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,s.Z)(t,["component","childFactory"]),o=this.state.contextValue,a=Ie(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Ce.Provider,{value:o},a):e.createElement(Ce.Provider,{value:o},e.createElement(n,i,a))},i}(e.Component);Ne.propTypes={},Ne.defaultProps={component:"div",childFactory:function(e){return e}};var Ae=Ne;var Re=function(t){var n=t.className,r=t.classes,i=t.pulsate,o=void 0!==i&&i,a=t.rippleX,s=t.rippleY,l=t.rippleSize,f=t.in,h=t.onExited,d=t.timeout,p=e.useState(!1),v=(0,u.Z)(p,2),m=v[0],y=v[1],g=(0,c.Z)(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),k={width:l,height:l,top:-l/2+s,left:-l/2+a},b=(0,c.Z)(r.child,m&&r.childLeaving,o&&r.childPulsate);return f||m||y(!0),e.useEffect((function(){if(!f&&null!=h){var e=setTimeout(h,d);return function(){clearTimeout(e)}}}),[h,f,d]),(0,w.jsx)("span",{className:g,style:k,children:(0,w.jsx)("span",{className:b})})};var Pe,De,Oe,Me,Le,Fe,Ue,je,ze=(0,k.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ve=["center","classes","className"],Be=Y(Le||(Le=Pe||(Pe=_e(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ze=Y(Fe||(Fe=De||(De=_e(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),qe=Y(Ue||(Ue=Oe||(Oe=_e(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),We=(0,d.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),He=(0,d.ZP)(Re,{name:"MuiTouchRipple",slot:"Ripple"})(je||(je=Me||(Me=_e(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),ze.rippleVisible,Be,550,(function(e){return e.theme.transitions.easing.easeInOut}),ze.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),ze.child,ze.childLeaving,Ze,550,(function(e){return e.theme.transitions.easing.easeInOut}),ze.childPulsate,qe,(function(e){return e.theme.transitions.easing.easeInOut})),Ke=e.forwardRef((function(t,n){var r=(0,h.Z)({props:t,name:"MuiTouchRipple"}),i=r.center,o=void 0!==i&&i,a=r.classes,f=void 0===a?{}:a,d=r.className,p=(0,s.Z)(r,Ve),v=e.useState([]),m=(0,u.Z)(v,2),y=m[0],g=m[1],k=e.useRef(0),b=e.useRef(null);e.useEffect((function(){b.current&&(b.current(),b.current=null)}),[y]);var _=e.useRef(!1),S=e.useRef(null),C=e.useRef(null),E=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(S.current)}}),[]);var T=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;g((function(e){return[].concat((0,I.Z)(e),[(0,w.jsx)(He,{classes:{ripple:(0,c.Z)(f.ripple,ze.ripple),rippleVisible:(0,c.Z)(f.rippleVisible,ze.rippleVisible),ripplePulsate:(0,c.Z)(f.ripplePulsate,ze.ripplePulsate),child:(0,c.Z)(f.child,ze.child),childLeaving:(0,c.Z)(f.childLeaving,ze.childLeaving),childPulsate:(0,c.Z)(f.childPulsate,ze.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},k.current)])})),k.current+=1,b.current=o}),[f]),x=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,s=t.fakeElement,l=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&_.current)_.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(_.current=!0);var c,f,h,d=l?null:E.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;c=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-c),c)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}null!=e&&e.touches?null===C.current&&(C.current=function(){T({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})},S.current=setTimeout((function(){C.current&&(C.current(),C.current=null)}),80)):T({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})}}),[o,T]),N=e.useCallback((function(){x({},{pulsate:!0})}),[x]),A=e.useCallback((function(e,t){if(clearTimeout(S.current),"touchend"===(null==e?void 0:e.type)&&C.current)return C.current(),C.current=null,void(S.current=setTimeout((function(){A(e,t)})));C.current=null,g((function(e){return e.length>0?e.slice(1):e})),b.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:N,start:x,stop:A}}),[N,x,A]),(0,w.jsx)(We,(0,l.Z)({className:(0,c.Z)(ze.root,f.root,d),ref:E},p,{children:(0,w.jsx)(Ae,{component:null,exit:!0,children:y})}))})),Ge=Ke;function Qe(e){return(0,b.Z)("MuiButtonBase",e)}var $e,Ye=(0,k.Z)("MuiButtonBase",["root","disabled","focusVisible"]),Xe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Je=(0,d.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})(($e={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,x.Z)($e,"&.".concat(Ye.disabled),{pointerEvents:"none",cursor:"default"}),(0,x.Z)($e,"@media print",{colorAdjust:"exact"}),$e)),et=e.forwardRef((function(t,n){var r=(0,h.Z)({props:t,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,a=void 0!==o&&o,d=r.children,p=r.className,v=r.component,m=void 0===v?"button":v,y=r.disabled,g=void 0!==y&&y,k=r.disableRipple,b=void 0!==k&&k,_=r.disableTouchRipple,S=void 0!==_&&_,C=r.focusRipple,E=void 0!==C&&C,T=r.LinkComponent,x=void 0===T?"a":T,I=r.onBlur,N=r.onClick,A=r.onContextMenu,R=r.onDragLeave,P=r.onFocus,D=r.onFocusVisible,O=r.onKeyDown,M=r.onKeyUp,L=r.onMouseDown,F=r.onMouseLeave,U=r.onMouseUp,j=r.onTouchEnd,z=r.onTouchMove,V=r.onTouchStart,B=r.tabIndex,q=void 0===B?0:B,W=r.TouchRippleProps,H=r.touchRippleRef,K=r.type,G=(0,s.Z)(r,Xe),Q=e.useRef(null),$=e.useRef(null),Y=(0,Z.Z)($,H),X=(0,be.Z)(),J=X.isFocusVisibleRef,ee=X.onFocus,te=X.onBlur,ne=X.ref,re=e.useState(!1),ie=(0,u.Z)(re,2),oe=ie[0],ae=ie[1];g&&oe&&ae(!1),e.useImperativeHandle(i,(function(){return{focusVisible:function(){ae(!0),Q.current.focus()}}}),[]);var ue=e.useState(!1),se=(0,u.Z)(ue,2),le=se[0],ce=se[1];e.useEffect((function(){ce(!0)}),[]);var fe=le&&!b&&!g;function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return(0,ke.Z)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}e.useEffect((function(){oe&&E&&!b&&le&&$.current.pulsate()}),[b,E,oe,le]);var de=he("start",L),pe=he("stop",A),ve=he("stop",R),me=he("stop",U),ye=he("stop",(function(e){oe&&e.preventDefault(),F&&F(e)})),ge=he("start",V),_e=he("stop",j),we=he("stop",z),Se=he("stop",(function(e){te(e),!1===J.current&&ae(!1),I&&I(e)}),!1),Ce=(0,ke.Z)((function(e){Q.current||(Q.current=e.currentTarget),ee(e),!0===J.current&&(ae(!0),D&&D(e)),P&&P(e)})),Ee=function(){var e=Q.current;return m&&"button"!==m&&!("A"===e.tagName&&e.href)},Te=e.useRef(!1),xe=(0,ke.Z)((function(e){E&&!Te.current&&oe&&$.current&&" "===e.key&&(Te.current=!0,$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&Ee()&&" "===e.key&&e.preventDefault(),O&&O(e),e.target===e.currentTarget&&Ee()&&"Enter"===e.key&&!g&&(e.preventDefault(),N&&N(e))})),Ie=(0,ke.Z)((function(e){E&&" "===e.key&&$.current&&oe&&!e.defaultPrevented&&(Te.current=!1,$.current.stop(e,(function(){$.current.pulsate(e)}))),M&&M(e),N&&e.target===e.currentTarget&&Ee()&&" "===e.key&&!e.defaultPrevented&&N(e)})),Ne=m;"button"===Ne&&(G.href||G.to)&&(Ne=x);var Ae={};"button"===Ne?(Ae.type=void 0===K?"button":K,Ae.disabled=g):(G.href||G.to||(Ae.role="button"),g&&(Ae["aria-disabled"]=g));var Re=(0,Z.Z)(n,ne,Q);var Pe=(0,l.Z)({},r,{centerRipple:a,component:m,disabled:g,disableRipple:b,disableTouchRipple:S,focusRipple:E,tabIndex:q,focusVisible:oe}),De=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,f.Z)(o,Qe,i);return n&&r&&(a.root+=" ".concat(r)),a}(Pe);return(0,w.jsxs)(Je,(0,l.Z)({as:Ne,className:(0,c.Z)(De.root,p),ownerState:Pe,onBlur:Se,onClick:N,onContextMenu:pe,onFocus:Ce,onKeyDown:xe,onKeyUp:Ie,onMouseDown:de,onMouseLeave:ye,onMouseUp:me,onDragLeave:ve,onTouchEnd:_e,onTouchMove:we,onTouchStart:ge,ref:Re,tabIndex:g?-1:q,type:K},Ae,G,{children:[d,fe?(0,w.jsx)(Ge,(0,l.Z)({ref:Y,center:a},W)):null]}))})),tt=et;function nt(e){return(0,b.Z)("MuiIconButton",e)}var rt=(0,k.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),it=["edge","children","className","color","disabled","disableFocusRipple","size"],ot=(0,d.ZP)(tt,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,m.Z)(n.color))],n.edge&&t["edge".concat((0,m.Z)(n.edge))],t["size".concat((0,m.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,ge.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return(0,l.Z)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,l.Z)({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":(0,l.Z)({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,ge.Fq)(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},(0,x.Z)({},"&.".concat(rt.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),at=e.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,o=n.children,a=n.className,u=n.color,d=void 0===u?"default":u,p=n.disabled,v=void 0!==p&&p,y=n.disableFocusRipple,g=void 0!==y&&y,k=n.size,b=void 0===k?"medium":k,_=(0,s.Z)(n,it),S=(0,l.Z)({},n,{edge:i,color:d,disabled:v,disableFocusRipple:g,size:b}),C=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,o=e.size,a={root:["root",n&&"disabled","default"!==r&&"color".concat((0,m.Z)(r)),i&&"edge".concat((0,m.Z)(i)),"size".concat((0,m.Z)(o))]};return(0,f.Z)(a,nt,t)}(S);return(0,w.jsx)(ot,(0,l.Z)({className:(0,c.Z)(C.root,a),centerRipple:!0,focusRipple:!g,disabled:v,ref:t,ownerState:S},_,{children:o}))})),ut=at,st=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function lt(e){return(0,b.Z)("MuiPaper",e)}(0,k.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var ct=["className","component","elevation","square","variant"],ft=(0,d.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,l.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,l.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,ge.Fq)("#fff",st(r.elevation)),", ").concat((0,ge.Fq)("#fff",st(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),ht=e.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,u=void 0===a?1:a,d=n.square,p=void 0!==d&&d,v=n.variant,m=void 0===v?"elevation":v,y=(0,s.Z)(n,ct),g=(0,l.Z)({},n,{component:o,elevation:u,square:p,variant:m}),k=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,f.Z)(o,lt,i)}(g);return(0,w.jsx)(ft,(0,l.Z)({as:o,ownerState:g,className:(0,c.Z)(k.root,r),ref:t},y))})),dt=ht;function pt(e){return(0,b.Z)("MuiCard",e)}(0,k.Z)("MuiCard",["root"]);var vt=["className","raised"],mt=(0,d.ZP)(dt,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),yt=e.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiCard"}),r=n.className,i=n.raised,o=void 0!==i&&i,a=(0,s.Z)(n,vt),u=(0,l.Z)({},n,{raised:o}),d=function(e){var t=e.classes;return(0,f.Z)({root:["root"]},pt,t)}(u);return(0,w.jsx)(mt,(0,l.Z)({className:(0,c.Z)(d.root,r),elevation:o?8:void 0,ref:t,ownerState:u},a))})),gt=yt;function kt(e){return(0,b.Z)("MuiCardContent",e)}(0,k.Z)("MuiCardContent",["root"]);var bt=["className","component"],_t=(0,d.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),wt=e.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiCardContent"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=(0,s.Z)(n,bt),u=(0,l.Z)({},n,{component:o}),d=function(e){var t=e.classes;return(0,f.Z)({root:["root"]},kt,t)}(u);return(0,w.jsx)(_t,(0,l.Z)({as:o,className:(0,c.Z)(d.root,r),ownerState:u,ref:t},a))})),St=wt,Ct=n(7416),Et=["sx"];function Tt(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Ct.Z;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}((0,s.Z)(e,Et)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat((0,I.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,N.P)(e)?(0,l.Z)({},i,e):i}:(0,l.Z)({},i,n),(0,l.Z)({},o,{sx:t})}function xt(e){return(0,b.Z)("MuiTypography",e)}(0,k.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var It=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Nt=(0,d.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,m.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),At={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Rt={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Pt=e.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiTypography"}),r=function(e){return Rt[e]||e}(n.color),i=Tt((0,l.Z)({},n,{color:r})),o=i.align,a=void 0===o?"inherit":o,u=i.className,d=i.component,p=i.gutterBottom,v=void 0!==p&&p,y=i.noWrap,g=void 0!==y&&y,k=i.paragraph,b=void 0!==k&&k,_=i.variant,S=void 0===_?"body1":_,C=i.variantMapping,E=void 0===C?At:C,T=(0,s.Z)(i,It),x=(0,l.Z)({},i,{align:a,color:r,className:u,component:d,gutterBottom:v,noWrap:g,paragraph:b,variant:S,variantMapping:E}),I=d||(b?"p":E[S]||At[S])||"span",N=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,o=e.variant,a=e.classes,u={root:["root",o,"inherit"!==e.align&&"align".concat((0,m.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,f.Z)(u,xt,a)}(x);return(0,w.jsx)(Nt,(0,l.Z)({as:I,ref:t,ownerState:x,className:(0,c.Z)(N.root,u)},T))})),Dt=Pt,Ot=(0,e.forwardRef)((function(e,t){var n=e.message,r=e.username,i=n.username===r;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{ref:t,className:"message ".concat(i&&"message__user"),children:[(0,w.jsx)("div",{className:"name",children:(0,w.jsx)("p",{children:!i&&"".concat(n.username," ")})}),(0,w.jsx)(gt,{className:i?"message__userCard":"message__guestCard",children:(0,w.jsx)(St,{className:"content",children:(0,w.jsx)(Dt,{variant:"h6",className:"content-mobile",children:n.message})})})]})})})),Mt=Ot,Lt=n(181);function Ft(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Lt.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var jt=n(9142);function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,jt.Z)(r.key),r)}}function Vt(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zt(e)}function qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Wt(e){var t=qt();return function(){var n,i=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}(this,n)}}function Ht(e,t,n){return Ht=qt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Se(i,n.prototype),i},Ht.apply(null,arguments)}function Kt(e){var t="function"===typeof Map?new Map:void 0;return Kt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ht(e,arguments,Zt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Se(n,e)},Kt(e)}var Gt=!1,Qt=!1,$t="${JSCORE_VERSION}",Yt=function(e,t){if(!e)throw Xt(t)},Xt=function(e){return new Error("Firebase Database ("+$t+") INTERNAL ASSERT FAILED: "+e)},Jt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,a||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw new tn;var l=o<<2|a>>4;if(r.push(l),64!==u){var c=a<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tn=function(e){Bt(n,e);var t=Wt(n);function n(){var e;return Ut(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Vt(n)}(Kt(Error)),nn=function(e){var t=Jt(e);return en.encodeByteArray(t,!0)},rn=function(e){return nn(e).replace(/\./g,"")},on=function(e){try{return en.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function an(e){return un(void 0,e)}function un(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=un(e[n],t[n]));return e}var sn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ln=function(){try{return sn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Messenger-Clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&on(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},cn=function(e){var t=function(e){var t,n;return null===(n=null===(t=ln())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},fn=function(){var e;return null===(e=ln())||void 0===e?void 0:e.config},hn=function(){function e(){var t=this;Ut(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Vt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function dn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rn(JSON.stringify({alg:"none",type:"JWT"})),rn(JSON.stringify(o)),""].join(".")}function pn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function vn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function mn(){return!0===Gt||!0===Qt}function yn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var gn=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i){var o;return Ut(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(we(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(we(o),kn.prototype.create),o}return Vt(n)}(Kt(Error)),kn=function(){function e(t,n,r){Ut(this,e),this.service=t,this.serviceName=n,this.errors=r}return Vt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gn(n,o,t)}}]),e}();var bn=/\{\$([^}]+)}/g;function _n(e){return JSON.parse(e)}function wn(e){return JSON.stringify(e)}var Sn=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=_n(on(o[0])||""),n=_n(on(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};function Cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Tn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xn(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function In(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var u=e[a],s=t[a];if(Nn(u)&&Nn(s)){if(!In(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Nn(e){return null!==e&&"object"===typeof e}var An=function(){function e(){Ut(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Vt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var o=16;o<80;o++){var a=n[o-3]^n[o-8]^n[o-14]^n[o-16];n[o]=4294967295&(a<<1|a>>>31)}for(var u,s,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^c&(f^h),s=1518500249):(u=c^f^h,s=1859775393):p<60?(u=c&f|h&(c|f),s=2400959708):(u=c^f^h,s=3395469782);var v=(l<<5|l>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}]),e}();function Rn(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Pn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Dn(e){return e&&e._delegate?e._delegate:e}var On=function(){function e(t,n,r){Ut(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Vt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Mn="[DEFAULT]",Ln=function(){function e(t,n){Ut(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Vt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new hn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch(l){}var t,n=Ft(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,u.Z)(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,I.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,I.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=Ft(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=(0,u.Z)(i.value,2),l=s[0],c=s[1];r===this.normalizeInstanceIdentifier(l)&&c.resolve(o)}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ft(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(a){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Mn?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.component?this.component.multipleInstances?e:Mn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Fn,Un,jn=function(){function e(t){Ut(this,e),this.name=t,this.providers=new Map}return Vt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ln(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),zn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Un||(Un={}));var Vn={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},Bn=Un.INFO,Zn=(Fn={},(0,x.Z)(Fn,Un.DEBUG,"log"),(0,x.Z)(Fn,Un.VERBOSE,"log"),(0,x.Z)(Fn,Un.INFO,"info"),(0,x.Z)(Fn,Un.WARN,"warn"),(0,x.Z)(Fn,Un.ERROR,"error"),Fn),qn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Zn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},Wn=function(){function e(t){Ut(this,e),this.name=t,this._logLevel=Bn,this._logHandler=qn,this._userLogHandler=null,zn.push(this)}return Vt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Vn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Un.DEBUG].concat(t)),this._logHandler.apply(this,[this,Un.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Un.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Un.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Un.INFO].concat(t)),this._logHandler.apply(this,[this,Un.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Un.WARN].concat(t)),this._logHandler.apply(this,[this,Un.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Un.ERROR].concat(t)),this._logHandler.apply(this,[this,Un.ERROR].concat(t))}}]),e}();function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn,Qn,$n=function(e,t){return t.some((function(t){return e instanceof t}))};var Yn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,er=new WeakMap,tr=new WeakMap;var nr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function rr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qn||(Qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ar(this),n),or(Yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return or(e.apply(ar(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[ar(this),t].concat(r));return Jn.set(o,t.sort?t.sort():[t]),or(o)}}function ir(e){return"function"===typeof e?rr(e):(e instanceof IDBTransaction&&function(e){if(!Xn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Xn.set(e,t)}}(e),$n(e,Gn||(Gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,nr):e)}function or(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(or(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&Yn.set(t,e)})).catch((function(){})),tr.set(t,e),t}(e);if(er.has(e))return er.get(e);var t=ir(e);return t!==e&&(er.set(e,t),tr.set(t,e)),t}var ar=function(e){return tr.get(e)};var ur,sr,lr=["get","getKey","getAll","getAllKeys","count"],cr=["put","add","delete","clear"],fr=new Map;function hr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(fr.get(t))return fr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,o=cr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(o||lr.includes(n))){var u=function(){var e=a(i().mark((function e(t){var a,u,s,l,c,f,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,o?"readwrite":"readonly"),s=u.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),o&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return fr.set(t,u),u}}}nr=function(e){return Kn(Kn({},e),{},{get:function(t,n,r){return hr(t,n)||e.get(t,n,r)},has:function(t,n){return!!hr(t,n)||e.has(t,n)}})}(nr);var dr=function(){function e(t){Ut(this,e),this.container=t}return Vt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var pr="@firebase/app",vr="0.9.5",mr=new Wn("@firebase/app"),yr="[DEFAULT]",gr=(ur={},(0,x.Z)(ur,pr,"fire-core"),(0,x.Z)(ur,"@firebase/app-compat","fire-core-compat"),(0,x.Z)(ur,"@firebase/analytics","fire-analytics"),(0,x.Z)(ur,"@firebase/analytics-compat","fire-analytics-compat"),(0,x.Z)(ur,"@firebase/app-check","fire-app-check"),(0,x.Z)(ur,"@firebase/app-check-compat","fire-app-check-compat"),(0,x.Z)(ur,"@firebase/auth","fire-auth"),(0,x.Z)(ur,"@firebase/auth-compat","fire-auth-compat"),(0,x.Z)(ur,"@firebase/database","fire-rtdb"),(0,x.Z)(ur,"@firebase/database-compat","fire-rtdb-compat"),(0,x.Z)(ur,"@firebase/functions","fire-fn"),(0,x.Z)(ur,"@firebase/functions-compat","fire-fn-compat"),(0,x.Z)(ur,"@firebase/installations","fire-iid"),(0,x.Z)(ur,"@firebase/installations-compat","fire-iid-compat"),(0,x.Z)(ur,"@firebase/messaging","fire-fcm"),(0,x.Z)(ur,"@firebase/messaging-compat","fire-fcm-compat"),(0,x.Z)(ur,"@firebase/performance","fire-perf"),(0,x.Z)(ur,"@firebase/performance-compat","fire-perf-compat"),(0,x.Z)(ur,"@firebase/remote-config","fire-rc"),(0,x.Z)(ur,"@firebase/remote-config-compat","fire-rc-compat"),(0,x.Z)(ur,"@firebase/storage","fire-gcs"),(0,x.Z)(ur,"@firebase/storage-compat","fire-gcs-compat"),(0,x.Z)(ur,"@firebase/firestore","fire-fst"),(0,x.Z)(ur,"@firebase/firestore-compat","fire-fst-compat"),(0,x.Z)(ur,"fire-js","fire-js"),(0,x.Z)(ur,"firebase","fire-js-all"),ur),kr=new Map,br=new Map;function _r(e,t){try{e.container.addComponent(t)}catch(n){mr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function wr(e){var t=e.name;if(br.has(t))return mr.debug("There were multiple attempts to register component ".concat(t,".")),!1;br.set(t,e);var n,r=Ft(kr.values());try{for(r.s();!(n=r.n()).done;){_r(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Sr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Cr=(sr={},(0,x.Z)(sr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,x.Z)(sr,"bad-app-name","Illegal App name: '{$appName}"),(0,x.Z)(sr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,x.Z)(sr,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,x.Z)(sr,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,x.Z)(sr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,x.Z)(sr,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,x.Z)(sr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,x.Z)(sr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,x.Z)(sr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,x.Z)(sr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),sr),Er=new kn("app","Firebase",Cr),Tr=function(){function e(t,n,r){var i=this;Ut(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",(function(){return i}),"PUBLIC"))}return Vt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}]),e}(),xr="9.18.0";function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:yr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=fn()),!n)throw Er.create("no-options");var o=kr.get(i);if(o){if(In(n,o.options)&&In(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}var a,u=new jn(i),s=Ft(br.values());try{for(s.s();!(a=s.n()).done;){var l=a.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new Tr(n,r,u);return kr.set(i,c),c}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=kr.get(e);if(!t&&e===yr)return Ir();if(!t)throw Er.create("no-app",{appName:e});return t}function Ar(e,t,n){var r,i=null!==(r=gr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&u.push("and"),a&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void mr.warn(u.join(" "))}wr(new On("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Rr="firebase-heartbeat-database",Pr=1,Dr="firebase-heartbeat-store",Or=null;function Mr(){return Or||(Or=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,u=indexedDB.open(e,t),s=or(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(or(u.result),e.oldVersion,e.newVersion,or(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),s}(Rr,Pr,{upgrade:function(e,t){if(0===t)e.createObjectStore(Dr)}}).catch((function(e){throw Er.create("idb-open",{originalErrorMessage:e.message})}))),Or}function Lr(e){return Fr.apply(this,arguments)}function Fr(){return Fr=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mr();case 3:return n=e.sent,e.abrupt("return",n.transaction(Dr).objectStore(Dr).get(zr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof gn?mr.warn(e.t0.message):(r=Er.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),mr.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Fr.apply(this,arguments)}function Ur(e,t){return jr.apply(this,arguments)}function jr(){return jr=a(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mr();case 3:return r=e.sent,o=r.transaction(Dr,"readwrite"),a=o.objectStore(Dr),e.next=8,a.put(n,zr(t));case 8:return e.abrupt("return",o.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof gn?mr.warn(e.t0.message):(u=Er.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),mr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),jr.apply(this,arguments)}function zr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Vr=function(){function e(t){var n=this;Ut(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Vt(e,[{key:"triggerHeartbeat",value:function(){var e=a(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Br(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=a(i().mark((function e(){var t,n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Br(),n=Zr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,o=n.unsentEntries,a=rn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(o.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=o,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Br(){return(new Date).toISOString().substring(0,10)}function Zr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=Ft(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),Hr(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Hr(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){if("break"===a())break}}catch(u){o.e(u)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var qr,Wr=function(){function e(t){Ut(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Vt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Zm){t(Zm)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Lr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ur(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ur(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,I.Z)(r.heartbeats),(0,I.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Hr(e){return rn(JSON.stringify({version:2,heartbeats:e})).length}qr="",wr(new On("platform-logger",(function(e){return new dr(e)}),"PRIVATE")),wr(new On("heartbeat",(function(e){return new Vr(e)}),"PRIVATE")),Ar(pr,vr,qr),Ar(pr,vr,"esm2017"),Ar("fire-js","");function Kr(){return Kr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Kr.apply(this,arguments)}Ar("firebase","9.18.0","app");var Gr,Qr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$r={},Yr=Yr||{},Xr=Qr||self;function Jr(){}function ei(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ti(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ni="closure_uid_"+(1e9*Math.random()>>>0),ri=0;function ii(e,t,n){return e.call.apply(e.bind,arguments)}function oi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ai(e,t,n){return(ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ii:oi).apply(null,arguments)}function ui(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function si(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function li(){this.s=this.s,this.o=this.o}li.prototype.s=!1,li.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ni)&&e[ni]||(e[ni]=++ri))},li.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ci=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function fi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function hi(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ei(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function di(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}di.prototype.h=function(){this.defaultPrevented=!0};var pi=function(){if(!Xr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xr.addEventListener("test",Jr,t),Xr.removeEventListener("test",Jr,t)}catch(n){}return e}();function vi(e){return/^[\s\xa0]*$/.test(e)}var mi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yi(e,t){return e<t?-1:e>t?1:0}function gi(){var e=Xr.navigator;return e&&(e=e.userAgent)?e:""}function ki(e){return-1!=gi().indexOf(e)}function bi(e){return bi[" "](e),e}bi[" "]=Jr;var _i,wi=ki("Opera"),Si=ki("Trident")||ki("MSIE"),Ci=ki("Edge"),Ei=Ci||Si,Ti=ki("Gecko")&&!(-1!=gi().toLowerCase().indexOf("webkit")&&!ki("Edge"))&&!(ki("Trident")||ki("MSIE"))&&!ki("Edge"),xi=-1!=gi().toLowerCase().indexOf("webkit")&&!ki("Edge");function Ii(){var e=Xr.document;return e?e.documentMode:void 0}e:{var Ni="",Ai=function(){var e=gi();return Ti?/rv:([^\);]+)(\)|;)/.exec(e):Ci?/Edge\/([\d\.]+)/.exec(e):Si?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xi?/WebKit\/(\S+)/.exec(e):wi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ai&&(Ni=Ai?Ai[1]:""),Si){var Ri=Ii();if(null!=Ri&&Ri>parseFloat(Ni)){_i=String(Ri);break e}}_i=Ni}var Pi,Di={};function Oi(){return function(e){var t=Di;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=mi(String(_i)).split("."),n=mi("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=yi(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||yi(0==o[2].length,0==a[2].length)||yi(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Xr.document&&Si){var Mi=Ii();Pi=Mi||(parseInt(_i,10)||void 0)}else Pi=void 0;var Li=Pi;function Fi(e,t){if(di.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ti){e:{try{bi(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ui[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fi.X.h.call(this)}}si(Fi,di);var Ui={2:"touch",3:"pen",4:"mouse"};Fi.prototype.h=function(){Fi.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ji="closure_listenable_"+(1e6*Math.random()|0),zi=0;function Vi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++zi,this.ba=this.ea=!1}function Bi(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Zi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qi(e){var t={};for(var n in e)t[n]=e[n];return t}var Wi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Wi.length;o++)n=Wi[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ki(e){this.src=e,this.g={},this.h=0}function Gi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ci(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Bi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Qi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}Ki.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Qi(e,t,r,i);return-1<a?(t=e[a],n||(t.ea=!1)):((t=new Vi(t,this.src,o,!!r,i)).ea=n,e.push(t)),t};var $i="closure_lm_"+(1e6*Math.random()|0),Yi={};function Xi(e,t,n,r,i){if(r&&r.once)return eo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xi(e,t[o],n,r,i);return null}return n=uo(n),e&&e[ji]?e.N(t,n,ti(r)?!!r.capture:!!r,i):Ji(e,t,n,!1,r,i)}function Ji(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ti(i)?!!i.capture:!!i,u=oo(e);if(u||(e[$i]=u=new Ki(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=io;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pi||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function eo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)eo(e,t[o],n,r,i);return null}return n=uo(n),e&&e[ji]?e.O(t,n,ti(r)?!!r.capture:!!r,i):Ji(e,t,n,!0,r,i)}function to(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)to(e,t[o],n,r,i);else r=ti(r)?!!r.capture:!!r,n=uo(n),e&&e[ji]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Qi(o=e.g[t],n,r,i))&&(Bi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=oo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qi(t,n,r,i)),(n=-1<e?t[e]:null)&&no(n))}function no(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ji])Gi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=oo(t))?(Gi(n,e),0==n.h&&(n.src=null,t[$i]=null)):Bi(e)}}}function ro(e){return e in Yi?Yi[e]:Yi[e]="on"+e}function io(e,t){if(e.ba)e=!0;else{t=new Fi(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&no(e),e=n.call(r,t)}return e}function oo(e){return(e=e[$i])instanceof Ki?e:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(e){return"function"===typeof e?e:(e[ao]||(e[ao]=function(t){return e.handleEvent(t)}),e[ao])}function so(){li.call(this),this.i=new Ki(this),this.P=this,this.I=null}function lo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new di(t,e);else if(t instanceof di)t.target=t.target||e;else{var i=t;Hi(t=new di(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=co(a,r,!0,t)&&i}if(i=co(a=t.g=e,r,!0,t)&&i,i=co(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=co(a=t.g=n[o],r,!1,t)&&i}function co(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ba&&a.capture==n){var u=a.listener,s=a.ha||a.src;a.ea&&Gi(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}si(so,li),so.prototype[ji]=!0,so.prototype.removeEventListener=function(e,t,n,r){to(this,e,t,n,r)},so.prototype.M=function(){if(so.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bi(n[r]);delete t.g[e],t.h--}}this.I=null},so.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},so.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fo=Xr.JSON.stringify;function ho(){var e=_o,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var po,vo=function(){function e(){Ut(this,e),this.h=this.g=null}return Vt(e,[{key:"add",value:function(e,t){var n=mo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),mo=new(function(){function e(t,n){Ut(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Vt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new yo}),(function(e){return e.reset()})),yo=function(){function e(){Ut(this,e),this.next=this.g=this.h=null}return Vt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function go(e){Xr.setTimeout((function(){throw e}),0)}function ko(e,t){po||function(){var e=Xr.Promise.resolve(void 0);po=function(){e.then(wo)}}(),bo||(po(),bo=!0),_o.add(e,t)}var bo=!1,_o=new vo;function wo(){for(var e;e=ho();){try{e.h.call(e.g)}catch(n){go(n)}var t=mo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bo=!1}function So(e,t){so.call(this),this.h=e||1,this.g=t||Xr,this.j=ai(this.lb,this),this.l=Date.now()}function Co(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Eo(e,t,n){if("function"===typeof e)n&&(e=ai(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ai(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xr.setTimeout(e,t||0)}function To(e){e.g=Eo((function(){e.g=null,e.i&&(e.i=!1,To(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}si(So,so),(Gr=So.prototype).ca=!1,Gr.R=null,Gr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lo(this,"tick"),this.ca&&(Co(this),this.start()))}},Gr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Gr.M=function(){So.X.M.call(this),Co(this),delete this.g};var xo=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Vt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:To(this)}},{key:"M",value:function(){Kr(Zt(n.prototype),"M",this).call(this),this.g&&(Xr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(li);function Io(e){li.call(this),this.h=e,this.g={}}si(Io,li);var No=[];function Ao(e,t,n,r){Array.isArray(n)||(n&&(No[0]=n.toString()),n=No);for(var i=0;i<n.length;i++){var o=Xi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ro(e){Zi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&no(e)}),e),e.g={}}function Po(){this.g=!0}function Do(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return fo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Io.prototype.M=function(){Io.X.M.call(this),Ro(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Po.prototype.Aa=function(){this.g=!1},Po.prototype.info=function(){};var Oo={},Mo=null;function Lo(){return Mo=Mo||new so}function Fo(e){di.call(this,Oo.Pa,e)}function Uo(e){var t=Lo();lo(t,new Fo(t))}function jo(e,t){di.call(this,Oo.STAT_EVENT,e),this.stat=t}function zo(e){var t=Lo();lo(t,new jo(t,e))}function Vo(e,t){di.call(this,Oo.Qa,e),this.size=t}function Bo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xr.setTimeout((function(){e()}),t)}Oo.Pa="serverreachability",si(Fo,di),Oo.STAT_EVENT="statevent",si(jo,di),Oo.Qa="timingevent",si(Vo,di);var Zo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qo={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Wo(){}function Ho(e){return e.h||(e.h=e.i())}function Ko(){}Wo.prototype.h=null;var Go,Qo={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $o(){di.call(this,"d")}function Yo(){di.call(this,"c")}function Xo(){}function Jo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Io(this),this.O=ta,e=Ei?125:void 0,this.T=new So(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}si($o,di),si(Yo,di),si(Xo,Wo),Xo.prototype.g=function(){return new XMLHttpRequest},Xo.prototype.i=function(){return{}},Go=new Xo;var ta=45e3,na={},ra={};function ia(e,t,n){e.K=1,e.v=Sa(ga(t)),e.s=n,e.P=!0,oa(e,null)}function oa(e,t){e.F=Date.now(),la(e),e.A=ga(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),La(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ea,e.g=Fu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new xo(ai(e.La,e,e.g),e.N)),Ao(e.S,e.g,"readystatechange",e.ib),t=e.H?qi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Uo(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");a=2<=f.length&&"type"==f[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function aa(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ua(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=sa(e,n))==ra){4==t&&(e.o=4,zo(14),i=!1),Do(e.j,e.m,null,"[Incomplete Response]");break}if(r==na){e.o=4,zo(15),Do(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Do(e.j,e.m,r,null),pa(e,r)}aa(e)&&r!=ra&&r!=na&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,zo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nu(t),t.K=!0,zo(11))):(Do(e.j,e.m,n,"[Invalid Chunked Response]"),da(e),ha(e))}function sa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ra:(n=Number(t.substring(n,r)),isNaN(n)?na:(r+=1)+n>t.length?ra:(t=t.substr(r,n),e.C=r+n,t))}function la(e){e.V=Date.now()+e.O,ca(e,e.O)}function ca(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bo(ai(e.gb,e),t)}function fa(e){e.B&&(Xr.clearTimeout(e.B),e.B=null)}function ha(e){0==e.l.G||e.I||Pu(e.l,e)}function da(e){fa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Co(e.T),Ro(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function pa(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qa(n.h,e)))if(!e.J&&qa(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ru(n),_u(n)}Iu(n),zo(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Bo(ai(n.cb,n),6e3));if(1>=Za(n.h)&&n.ja){try{n.ja()}catch(o){}n.ja=void 0}}else Ou(n,11)}else if((e.J||n.g==e)&&Ru(n),!vi(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.T=o[0],o=o[1],2==n.G)if("c"==o[0]){n.I=o[1],n.ka=o[2];var a=o[3];null!=a&&(n.ma=a,n.j.info("VER="+n.ma));var u=o[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=o[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Wa(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,wa(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Lu(r,r.H?r.ka:null,r.V),d.J){Ha(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(fa(p),la(p)),r.g=d}else xu(r);0<n.i.length&&Su(n)}else"stop"!=o[0]&&"close"!=o[0]||Ou(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ou(n,7):bu(n):"noop"!=o[0]&&n.l&&n.l.wa(o),n.A=0)}Uo()}catch(o){}}function va(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ei(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ei(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ei(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Gr=Jo.prototype).setTimeout=function(e){this.O=e},Gr.ib=function(e){e=e.target;var t=this.L;t&&3==pu(e)?t.l():this.La(e)},Gr.La=function(e){try{if(e==this.g)e:{var t=pu(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ei||this.g&&(this.h.h||this.g.fa()||vu(this.g)))){this.I||4!=t||7==n||Uo(),fa(this);var r=this.g.aa();this.Y=r;t:if(aa(this)){var i=vu(this.g);e="";var o=i.length,a=4==pu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){da(this),ha(this);var u="";break t}this.h.i=new Xr.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vi(s)){var c=s;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,zo(12),da(this),ha(this);break e}Do(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pa(this,r)}this.P?(ua(this,t,u),Ei&&this.i&&3==t&&(Ao(this.S,this.T,"tick",this.hb),this.T.start())):(Do(this.j,this.m,u,null),pa(this,u)),4==t&&da(this),this.i&&!this.I&&(4==t?Pu(this.l,this):(this.i=!1,la(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,zo(12)):(this.o=0,zo(13)),da(this),ha(this)}}}catch(t){}},Gr.hb=function(){if(this.g){var e=pu(this.g),t=this.g.fa();this.C<t.length&&(fa(this),ua(this,e,t),this.i&&4!=e&&la(this))}},Gr.cancel=function(){this.I=!0,da(this)},Gr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Uo(),zo(17)),da(this),this.o=2,ha(this)):ca(this,this.V-e)};var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ya){this.h=void 0!==t?t:e.h,ka(this,e.j),this.s=e.s,this.g=e.g,ba(this,e.m),this.l=e.l,t=e.i;var n=new Pa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_a(this,n),this.o=e.o}else e&&(n=String(e).match(ma))?(this.h=!!t,ka(this,n[1]||"",!0),this.s=Ca(n[2]||""),this.g=Ca(n[3]||"",!0),ba(this,n[4]),this.l=Ca(n[5]||"",!0),_a(this,n[6]||"",!0),this.o=Ca(n[7]||"")):(this.h=!!t,this.i=new Pa(null,this.h))}function ga(e){return new ya(e)}function ka(e,t,n){e.j=n?Ca(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ba(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _a(e,t,n){t instanceof Pa?(e.i=t,function(e,t){t&&!e.j&&(Da(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Oa(this,t),La(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ea(t,Aa)),e.i=new Pa(t,e.h))}function wa(e,t,n){e.i.set(t,n)}function Sa(e){return wa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ca(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ea(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ta),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ta(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ya.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ea(t,xa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ea(t,xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ea(n,"/"==n.charAt(0)?Na:Ia,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ea(n,Ra)),e.join("")};var xa=/[#\/\?@]/g,Ia=/[#\?:]/g,Na=/[#\?]/g,Aa=/[#\?@]/g,Ra=/#/g;function Pa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Da(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Oa(e,t){Da(e),t=Fa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ma(e,t){return Da(e),t=Fa(e,t),e.g.has(t)}function La(e,t,n){Oa(e,t),0<n.length&&(e.i=null,e.g.set(Fa(e,t),fi(n)),e.h+=n.length)}function Fa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Gr=Pa.prototype).add=function(e,t){Da(this),this.i=null,e=Fa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Gr.forEach=function(e,t){Da(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Gr.oa=function(){Da(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Gr.W=function(e){Da(this);var t=[];if("string"===typeof e)Ma(this,e)&&(t=t.concat(this.g.get(Fa(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Gr.set=function(e,t){return Da(this),this.i=null,Ma(this,e=Fa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Gr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Gr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")};var Ua=Vt((function e(t,n){Ut(this,e),this.h=t,this.g=n}));function ja(e){this.l=e||Va,Xr.PerformanceNavigationTiming?e=0<(e=Xr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xr.g&&Xr.g.Ga&&Xr.g.Ga()&&Xr.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var za,Va=10;function Ba(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Za(e){return e.h?1:e.g?e.g.size:0}function qa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wa(e,t){e.g?e.g.add(t):e.h=t}function Ha(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ka(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ft(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return fi(e.i)}function Ga(){}function Qa(){this.g=new Ga}function $a(e,t,n){var r=n||"";try{va(e,(function(e,n){var i=e;ti(e)&&(i=fo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ya(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Xa(e){this.l=e.ac||null,this.j=e.jb||!1}function Ja(e,t){so.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=eu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ja.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ft(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ga.prototype.stringify=function(e){return Xr.JSON.stringify(e,void 0)},Ga.prototype.parse=function(e){return Xr.JSON.parse(e,void 0)},si(Xa,Wo),Xa.prototype.g=function(){return new Ja(this.l,this.j)},Xa.prototype.i=(za={},function(){return za}),si(Ja,so);var eu=0;function tu(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function nu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ru(e)}function ru(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Gr=Ja.prototype).open=function(e,t){if(this.readyState!=eu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ru(this)},Gr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xr).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Gr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nu(this)),this.readyState=eu},Gr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Xr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tu(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Gr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nu(this):ru(this),3==this.readyState&&tu(this)}},Gr.Va=function(e){this.g&&(this.response=this.responseText=e,nu(this))},Gr.Ua=function(e){this.g&&(this.response=e,nu(this))},Gr.ga=function(){this.g&&nu(this)},Gr.setRequestHeader=function(e,t){this.v.append(e,t)},Gr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Gr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var iu=Xr.JSON.parse;function ou(e){so.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=au,this.K=this.L=!1}si(ou,so);var au="",uu=/^https?$/i,su=["POST","PUT"];function lu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cu(e),hu(e)}function cu(e){e.D||(e.D=!0,lo(e,"complete"),lo(e,"error"))}function fu(e){if(e.h&&"undefined"!=typeof Yr&&(!e.C[1]||4!=pu(e)||2!=e.aa()))if(e.v&&4==pu(e))Eo(e.Ha,0,e);else if(lo(e,"readystatechange"),4==pu(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(ma)[1]||null;if(!o&&Xr.self&&Xr.self.location){var a=Xr.self.location.protocol;o=a.substr(0,a.length-1)}i=!uu.test(o?o.toLowerCase():"")}t=i}if(t)lo(e,"complete"),lo(e,"success");else{e.m=6;try{var u=2<pu(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",cu(e)}}finally{hu(e)}}}function hu(e,t){if(e.g){du(e);var n=e.g,r=e.C[0]?Jr:null;e.g=null,e.C=null,t||lo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function du(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xr.clearTimeout(e.A),e.A=null)}function pu(e){return e.g?e.g.readyState:0}function vu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case au:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ts){return null}}function mu(e){var t="";return Zi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function yu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wa(e,t,n))}function gu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ku(e){this.Ca=0,this.i=[],this.j=new Po,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gu("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gu("baseRetryDelayMs",5e3,e),this.bb=gu("retryDelaySeedMs",1e4,e),this.$a=gu("forwardChannelMaxRetries",2,e),this.ta=gu("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ja(e&&e.concurrentRequestLimit),this.Fa=new Qa,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function bu(e){if(wu(e),3==e.G){var t=e.U++,n=ga(e.F);wa(n,"SID",e.I),wa(n,"RID",t),wa(n,"TYPE","terminate"),Eu(e,n),(t=new Jo(e,e.j,t,void 0)).K=2,t.v=Sa(ga(n)),n=!1,Xr.navigator&&Xr.navigator.sendBeacon&&(n=Xr.navigator.sendBeacon(t.v.toString(),"")),!n&&Xr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fu(t.l,null),t.g.da(t.v)),t.F=Date.now(),la(t)}Mu(e)}function _u(e){e.g&&(Nu(e),e.g.cancel(),e.g=null)}function wu(e){_u(e),e.u&&(Xr.clearTimeout(e.u),e.u=null),Ru(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Xr.clearTimeout(e.m),e.m=null)}function Su(e){Ba(e.h)||e.m||(e.m=!0,ko(e.Ja,e),e.C=0)}function Cu(e,t){var n;n=t?t.m:e.U++;var r=ga(e.F);wa(r,"SID",e.I),wa(r,"RID",n),wa(r,"AID",e.T),Eu(e,r),e.o&&e.s&&yu(r,e.o,e.s),n=new Jo(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Tu(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Wa(e.h,n),ia(n,r,t)}function Eu(e,t){e.ia&&Zi(e.ia,(function(e,n){wa(t,n,e)})),e.l&&va({},(function(e,n){wa(t,n,e)}))}function Tu(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ai(e.l.Ra,e.l,e):null;e:for(var i=e.i,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=o))o=Math.max(0,i[s].h-100),u=!1;else try{$a(c,a,"req"+l+"_")}catch(cs){r&&r(c)}}if(u){r=a.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function xu(e){e.g||e.u||(e.Z=1,ko(e.Ia,e),e.A=0)}function Iu(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Bo(ai(e.Ia,e),Du(e,e.A)),e.A++,!0)}function Nu(e){null!=e.B&&(Xr.clearTimeout(e.B),e.B=null)}function Au(e){e.g=new Jo(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ga(e.sa);wa(t,"RID","rpc"),wa(t,"SID",e.I),wa(t,"CI",e.L?"0":"1"),wa(t,"AID",e.T),wa(t,"TYPE","xmlhttp"),Eu(e,t),e.o&&e.s&&yu(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Sa(ga(t)),n.s=null,n.P=!0,oa(n,e)}function Ru(e){null!=e.v&&(Xr.clearTimeout(e.v),e.v=null)}function Pu(e,t){var n=null;if(e.g==t){Ru(e),Nu(e),e.g=null;var r=2}else{if(!qa(e.h,t))return;n=t.D,Ha(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;lo(r=Lo(),new Vo(r,n)),Su(e)}else xu(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Za(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Bo(ai(e.Ja,e,t),Du(e,e.C)),e.C++,!0))}(e,t)||2==r&&Iu(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ou(e,5);break;case 4:Ou(e,10);break;case 3:Ou(e,6);break;default:Ou(e,2)}}function Du(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ou(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ai(e.kb,e);n||(n=new ya("//www.google.com/images/cleardot.gif"),Xr.location&&"http"==Xr.location.protocol||ka(n,"https"),Sa(n)),function(e,t){var n=new Po;if(Xr.Image){var r=new Image;r.onload=ui(Ya,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ui(Ya,n,r,"TestLoadImage: error",!1,t),r.onabort=ui(Ya,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ui(Ya,n,r,"TestLoadImage: timeout",!1,t),Xr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zo(2);e.G=0,e.l&&e.l.va(t),Mu(e),wu(e)}function Mu(e){if(e.G=0,e.la=[],e.l){var t=Ka(e.h);0==t.length&&0==e.i.length||(hi(e.la,t),hi(e.la,e.i),e.h.i.length=0,fi(e.i),e.i.length=0),e.l.ua()}}function Lu(e,t,n){var r=n instanceof ya?ga(n):new ya(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),ba(r,r.m);else{var i=Xr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ya(null,void 0);r&&ka(o,r),t&&(o.g=t),i&&ba(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.za,n&&t&&wa(r,n,t),wa(r,"VER",e.ma),Eu(e,r),r}function Fu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ou(new Xa({jb:!0})):new ou(e.ra)).Ka(e.H),t}function Uu(){}function ju(){if(Si&&!(10<=Number(Li)))throw Error("Environmental error: no available transport.")}function zu(e,t){so.call(this),this.g=new ku(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!vi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zu(this)}function Vu(e){$o.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bu(){Yo.call(this),this.status=1}function Zu(e){this.g=e}(Gr=ou.prototype).Ka=function(e){this.L=e},Gr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Go.g(),this.C=this.u?Ho(this.u):Ho(Go),this.g.onreadystatechange=ai(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void lu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,a=Ft(r.keys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){a.e(p)}finally{a.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Xr.FormData&&e instanceof Xr.FormData,!(0<=ci(su,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=Ft(n);try{for(c.s();!(l=c.n()).done;){var f=(0,u.Z)(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{du(this),0<this.B&&((this.K=function(e){return Si&&Oi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ai(this.qa,this)):this.A=Eo(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){lu(this,s)}},Gr.qa=function(){"undefined"!=typeof Yr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lo(this,"timeout"),this.abort(8))},Gr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lo(this,"complete"),lo(this,"abort"),hu(this))},Gr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hu(this,!0)),ou.X.M.call(this)},Gr.Ha=function(){this.s||(this.F||this.v||this.l?fu(this):this.fb())},Gr.fb=function(){fu(this)},Gr.aa=function(){try{return 2<pu(this)?this.g.status:-1}catch(za){return-1}},Gr.fa=function(){try{return this.g?this.g.responseText:""}catch(za){return""}},Gr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),iu(t)}},Gr.Ea=function(){return this.m},Gr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Gr=ku.prototype).ma=8,Gr.G=1,Gr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Jo(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Hi(n=qi(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var o=this.i[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tu(this,t,r),wa(i=ga(this.F),"RID",e),wa(i,"CVER",22),this.D&&wa(i,"X-HTTP-Session-Id",this.D),Eu(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(mu(n)))+"&"+r:this.o&&yu(i,this.o,n)),Wa(this.h,t),this.Ya&&wa(i,"TYPE","init"),this.O?(wa(i,"$req",r),wa(i,"SID","null"),t.Z=!0,ia(t,i,null)):ia(t,i,r),this.G=2}}else 3==this.G&&(e?Cu(this,e):0==this.i.length||Ba(this.h)||Cu(this))},Gr.Ia=function(){if(this.u=null,Au(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Bo(ai(this.eb,this),e)}},Gr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zo(10),_u(this),Au(this))},Gr.cb=function(){null!=this.v&&(this.v=null,_u(this),Iu(this),zo(19))},Gr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),zo(2)):(this.j.info("Failed to ping google.com"),zo(1))},(Gr=Uu.prototype).xa=function(){},Gr.wa=function(){},Gr.va=function(){},Gr.ua=function(){},Gr.Ra=function(){},ju.prototype.g=function(e,t){return new zu(e,t)},si(zu,so),zu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;zo(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Lu(e,null,e.V),Su(e)},zu.prototype.close=function(){bu(this.g)},zu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=fo(e),e=n);t.i.push(new Ua(t.ab++,e)),3==t.G&&Su(t)},zu.prototype.M=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,zu.X.M.call(this)},si(Vu,$o),si(Bu,Yo),si(Zu,Uu),Zu.prototype.xa=function(){lo(this.g,"a")},Zu.prototype.wa=function(e){lo(this.g,new Vu(e))},Zu.prototype.va=function(e){lo(this.g,new Bu)},Zu.prototype.ua=function(){lo(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,zu.prototype.send=zu.prototype.u,zu.prototype.open=zu.prototype.m,zu.prototype.close=zu.prototype.close,Zo.NO_ERROR=0,Zo.TIMEOUT=8,Zo.HTTP_ERROR=6,qo.COMPLETE="complete",Ko.EventType=Qo,Qo.OPEN="a",Qo.CLOSE="b",Qo.ERROR="c",Qo.MESSAGE="d",so.prototype.listen=so.prototype.N,ou.prototype.listenOnce=ou.prototype.O,ou.prototype.getLastError=ou.prototype.Oa,ou.prototype.getLastErrorCode=ou.prototype.Ea,ou.prototype.getStatus=ou.prototype.aa,ou.prototype.getResponseJson=ou.prototype.Sa,ou.prototype.getResponseText=ou.prototype.fa,ou.prototype.send=ou.prototype.da,ou.prototype.setWithCredentials=ou.prototype.Ka;var qu=$r.createWebChannelTransport=function(){return new ju},Wu=$r.getStatEventTarget=function(){return Lo()},Hu=$r.ErrorCode=Zo,Ku=$r.EventType=qo,Gu=$r.Event=Oo,Qu=$r.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$u=$r.FetchXmlHttpFactory=Xa,Yu=$r.WebChannel=Ko,Xu=$r.XhrIo=ou,Ju="@firebase/firestore",es=function(){function e(t){Ut(this,e),this.uid=t}return Vt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();es.UNAUTHENTICATED=new es(null),es.GOOGLE_CREDENTIALS=new es("google-credentials-uid"),es.FIRST_PARTY=new es("first-party-uid"),es.MOCK_USER=new es("mock-user");var ts="9.18.0",ns=new Wn("@firebase/firestore");function rs(){return ns.logLevel}function is(e){if(ns.logLevel<=Un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(us);ns.debug.apply(ns,["Firestore (".concat(ts,"): ").concat(e)].concat((0,I.Z)(i)))}}function os(e){if(ns.logLevel<=Un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(us);ns.error.apply(ns,["Firestore (".concat(ts,"): ").concat(e)].concat((0,I.Z)(i)))}}function as(e){if(ns.logLevel<=Un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(us);ns.warn.apply(ns,["Firestore (".concat(ts,"): ").concat(e)].concat((0,I.Z)(i)))}}function us(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ts,") INTERNAL ASSERTION FAILED: ")+e;throw os(t),new Error(t)}function ls(e,t){e||ss()}function cs(e,t){return e}var fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hs=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Vt(n)}(gn),ds=Vt((function e(){var t=this;Ut(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ps=Vt((function e(t,n){Ut(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),vs=function(){function e(){Ut(this,e)}return Vt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(es.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ms=function(){function e(t){Ut(this,e),this.token=t,this.changeListener=null}return Vt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ys=function(){function e(t){Ut(this,e),this.t=t,this.currentUser=es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Vt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,o=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},u=new ds;this.o=function(){n.i++,n.currentUser=n.u(),u.resolve(),u=new ds,e.enqueueRetryable((function(){return o(n.currentUser)}))};var s=function(){var t=u;e.enqueueRetryable(a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,o(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},l=function(e){is("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return l(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?l(e):(is("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ds)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(is("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ls("string"==typeof n.accessToken),new ps(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ls(null===e||"string"==typeof e),new es(e)}}]),e}(),gs=function(){function e(t,n,r,i){Ut(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=es.FIRST_PARTY,this.p=new Map}return Vt(e,[{key:"I",value:function(){return this.g?this.g():(ls(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ks=function(){function e(t,n,r,i){Ut(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Vt(e,[{key:"getToken",value:function(){return Promise.resolve(new gs(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(es.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bs=Vt((function e(t){Ut(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),_s=function(){function e(t){Ut(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Vt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&is("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,is("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){is("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):is("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ls("string"==typeof t.token),e.A=t.token,new bs(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ws(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ss=function(){function e(){Ut(this,e)}return Vt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ws(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Cs(e,t){return e<t?-1:e>t?1:0}function Es(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Ts=function(){function e(t,n){if(Ut(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new hs(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hs(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new hs(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hs(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Vt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cs(this.nanoseconds,e.nanoseconds):Cs(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),xs=function(){function e(t){Ut(this,e),this.timestamp=t}return Vt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ts(0,0))}},{key:"max",value:function(){return new e(new Ts(253402300799,999999999))}}]),e}(),Is=function(){function e(t,n,r){Ut(this,e),void 0===n?n=0:n>t.length&&ss(),void 0===r?r=t.length-n:r>t.length-n&&ss(),this.segments=t,this.offset=n,this.len=r}return Vt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ns=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new hs(fs.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,I.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Is),As=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rs=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return As.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new hs(fs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new hs(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new hs(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new hs(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Is),Ps=function(){function e(t){Ut(this,e),this.path=t}return Vt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ns.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ns.fromString(t))}},{key:"fromName",value:function(t){return new e(Ns.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ns.emptyPath())}},{key:"comparator",value:function(e,t){return Ns.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ns(t.slice()))}}]),e}(),Ds=Vt((function e(t,n,r,i){Ut(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ds.UNKNOWN_ID=-1;function Os(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xs.fromTimestamp(1e9===r?new Ts(n+1,0):new Ts(n,r));return new Ls(i,Ps.empty(),t)}function Ms(e){return new Ls(e.readTime,e.key,-1)}var Ls=function(){function e(t,n,r){Ut(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Vt(e,null,[{key:"min",value:function(){return new e(xs.min(),Ps.empty(),-1)}},{key:"max",value:function(){return new e(xs.max(),Ps.empty(),-1)}}]),e}();function Fs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ps.comparator(e.documentKey,t.documentKey))?n:Cs(e.largestBatchId,t.largestBatchId)}var Us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",js=function(){function e(){Ut(this,e),this.onCommittedListeners=[]}return Vt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function zs(e){return Vs.apply(this,arguments)}function Vs(){return Vs=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fs.FAILED_PRECONDITION&&t.message===Us){e.next=2;break}throw t;case 2:is("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}var Bs=function(){function e(t){var n=this;Ut(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Vt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ss(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ft(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),a=0,u=function(){var u=s;n(t[u]).next((function(t){o[u]=t,++a===i&&e(o)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Zs(e){return"IndexedDbTransactionError"===e.name}var qs=function(){function e(t,n){var r=this;Ut(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Vt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();qs.at=-1;var Ws=Vt((function e(t,n,r,i,o,a,u,s){Ut(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Hs=function(){function e(t,n){Ut(this,e),this.projectId=t,this.database=n||"(default)"}return Vt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ks(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $s(e){return null==e}function Ys(e){return 0===e&&1/e==-1/0}function Xs(e){return"number"==typeof e&&Number.isInteger(e)&&!Ys(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Js=function(e){Bt(n,e);var t=Wt(n);function n(){var e;return Ut(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Vt(n)}(Kt(Error));var el=function(e){function t(e){Ut(this,t),this.binaryString=e}return Vt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cs(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new Js("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();el.EMPTY_BYTE_STRING=new el("");var tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nl(e){if(ls(!!e),"string"==typeof e){var t=0,n=tl.exec(e);if(ls(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rl(e.seconds),nanos:rl(e.nanos)}}function rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function il(e){return"string"==typeof e?el.fromBase64String(e):el.fromUint8Array(e)}function ol(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function al(e){var t=e.mapValue.fields.__previous_value__;return ol(t)?al(t):t}function ul(e){var t=nl(e.mapValue.fields.__local_write_time__.timestampValue);return new Ts(t.seconds,t.nanos)}var sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ll(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ol(e)?4:Sl(e)?9007199254740991:10:ss()}function cl(e,t){if(e===t)return!0;var n=ll(e);if(n!==ll(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ul(e).isEqual(ul(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=nl(e.timestampValue),r=nl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return il(e.bytesValue).isEqual(il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rl(e.geoPointValue.latitude)===rl(t.geoPointValue.latitude)&&rl(e.geoPointValue.longitude)===rl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rl(e.integerValue)===rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=rl(e.doubleValue),r=rl(t.doubleValue);return n===r?Ys(n)===Ys(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Es(e.arrayValue.values||[],t.arrayValue.values||[],cl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ks(n)!==Ks(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cl(n[i],r[i])))return!1;return!0}(e,t);default:return ss()}}function fl(e,t){return void 0!==(e.values||[]).find((function(e){return cl(e,t)}))}function hl(e,t){if(e===t)return 0;var n=ll(e),r=ll(t);if(n!==r)return Cs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=rl(e.integerValue||e.doubleValue),r=rl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dl(e.timestampValue,t.timestampValue);case 4:return dl(ul(e),ul(t));case 5:return Cs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=il(e),r=il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cs(n[i],r[i]);if(0!==o)return o}return Cs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cs(rl(e.latitude),rl(t.latitude));return 0!==n?n:Cs(rl(e.longitude),rl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=hl(n[i],r[i]);if(o)return o}return Cs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===sl.mapValue&&t===sl.mapValue)return 0;if(e===sl.mapValue)return 1;if(t===sl.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=Cs(r[a],o[a]);if(0!==u)return u;var s=hl(n[r[a]],i[o[a]]);if(0!==s)return s}return Cs(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ss()}}function dl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cs(e,t);var n=nl(e),r=nl(t),i=Cs(n.seconds,r.seconds);return 0!==i?i:Cs(n.nanos,r.nanos)}function pl(e){return vl(e)}function vl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=nl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?il(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ps.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ft(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=vl(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ft(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(vl(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):ss();var t,n}function ml(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yl(e){return!!e&&"integerValue"in e}function gl(e){return!!e&&"arrayValue"in e}function kl(e){return!!e&&"nullValue"in e}function bl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _l(e){return!!e&&"mapValue"in e}function wl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Sl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Cl=Vt((function e(t,n){Ut(this,e),this.position=t,this.inclusive=n}));function El(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ps.comparator(Ps.fromName(a.referenceValue),n.key):hl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Tl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!cl(e.position[n],t.position[n]))return!1;return!0}var xl=Vt((function e(){Ut(this,e)})),Il=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i){var o;return Ut(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return Vt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hl(t,this.value)):null!==t&&ll(this.value)===ll(t)&&this.matchesComparison(hl(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ss()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ll(e,t,r):"array-contains"===t?new zl(e,r):"in"===t?new Vl(e,r):"not-in"===t?new Bl(e,r):"array-contains-any"===t?new Zl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Fl(e,n):new Ul(e,n)}}]),n}(xl),Nl=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Vt(n,[{key:"matches",value:function(e){return Al(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=Ft(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(xl);function Al(e){return"and"===e.op}function Rl(e){return Pl(e)&&Al(e)}function Pl(e){var t,n=Ft(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Nl)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Dl(e){if(e instanceof Il)return e.field.canonicalString()+e.op.toString()+pl(e.value);if(Rl(e))return e.filters.map((function(e){return Dl(e)})).join(",");var t=e.filters.map((function(e){return Dl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ol(e,t){return e instanceof Il?function(e,t){return t instanceof Il&&e.op===t.op&&e.field.isEqual(t.field)&&cl(e.value,t.value)}(e,t):e instanceof Nl?function(e,t){return t instanceof Nl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ol(n,t.filters[r])}),!0)}(e,t):void ss()}function Ml(e){return e instanceof Il?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pl(e.value))}(e):e instanceof Nl?function(e){return e.op.toString()+" {"+e.getFilters().map(Ml).join(" ,")+"}"}(e):"Filter"}var Ll=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i){var o;return Ut(this,n),(o=t.call(this,e,r,i)).key=Ps.fromName(i.referenceValue),o}return Vt(n,[{key:"matches",value:function(e){var t=Ps.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Il),Fl=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this,e,"in",r)).keys=jl("in",r),i}return Vt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Il),Ul=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this,e,"not-in",r)).keys=jl("not-in",r),i}return Vt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Il);function jl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ps.fromName(e.referenceValue)}))}var zl=function(e){Bt(n,e);var t=Wt(n);function n(e,r){return Ut(this,n),t.call(this,e,"array-contains",r)}return Vt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return gl(t)&&fl(t.arrayValue,this.value)}}]),n}(Il),Vl=function(e){Bt(n,e);var t=Wt(n);function n(e,r){return Ut(this,n),t.call(this,e,"in",r)}return Vt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&fl(this.value.arrayValue,t)}}]),n}(Il),Bl=function(e){Bt(n,e);var t=Wt(n);function n(e,r){return Ut(this,n),t.call(this,e,"not-in",r)}return Vt(n,[{key:"matches",value:function(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!fl(this.value.arrayValue,t)}}]),n}(Il),Zl=function(e){Bt(n,e);var t=Wt(n);function n(e,r){return Ut(this,n),t.call(this,e,"array-contains-any",r)}return Vt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!gl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return fl(t.value.arrayValue,e)}))}}]),n}(Il),ql=Vt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ut(this,e),this.field=t,this.dir=n}));function Wl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Hl=function(){function e(t,n){Ut(this,e),this.comparator=t,this.root=n||Gl.EMPTY}return Vt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Kl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Kl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Kl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Kl(this.root,e,this.comparator,!0)}}]),e}(),Kl=function(){function e(t,n,r,i){Ut(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Vt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Gl=function(){function e(t,n,r,i,o){Ut(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return Vt(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ss();if(this.right.isRed())throw ss();var e=this.left.check();if(e!==this.right.check())throw ss();return e+(this.isRed()?0:1)}}]),e}();Gl.EMPTY=null,Gl.RED=!0,Gl.BLACK=!1,Gl.EMPTY=new(function(){function e(){Ut(this,e),this.size=0}return Vt(e,[{key:"key",get:function(){throw ss()}},{key:"value",get:function(){throw ss()}},{key:"color",get:function(){throw ss()}},{key:"left",get:function(){throw ss()}},{key:"right",get:function(){throw ss()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Gl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ql=function(){function e(t){Ut(this,e),this.comparator=t,this.data=new Hl(this.comparator)}return Vt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $l(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $l(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$l=function(){function e(t){Ut(this,e),this.iter=t}return Vt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Yl=function(){function e(t){Ut(this,e),this.fields=t,t.sort(Rs.comparator)}return Vt(e,[{key:"unionWith",value:function(t){var n,r=new Ql(Rs.comparator),i=Ft(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(l){i.e(l)}finally{i.f()}var a,u=Ft(t);try{for(u.s();!(a=u.n()).done;){var s=a.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ft(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Es(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Xl=function(){function e(t){Ut(this,e),this.value=t}return Vt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!_l(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}},{key:"setAll",value:function(e){var t=this,n=Rs.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=wl(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());_l(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return cl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];_l(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Gs(t,(function(t,n){return e[t]=n}));var r,i=Ft(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(wl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jl(e){var t=[];return Gs(e.fields,(function(e,n){var r=new Rs([e]);if(_l(n)){var i=Jl(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=Ft(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;t.push(r.child(u))}}catch(s){a.e(s)}finally{a.f()}}}else t.push(r)})),new Yl(t)}var ec=function(){function e(t,n,r,i,o,a,u){Ut(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}return Vt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(xs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Xl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Xl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=xs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,xs.min(),xs.min(),xs.min(),Xl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,xs.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,xs.min(),xs.min(),Xl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,xs.min(),xs.min(),Xl.empty(),2)}}]),e}(),tc=Vt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ut(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this._t=null}));function nc(e){return new tc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function rc(e){var t=cs(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Dl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$s(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return pl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return pl(e)})).join(",")),t._t=n}return t._t}function ic(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ol(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tl(e.startAt,t.startAt)&&Tl(e.endAt,t.endAt)}function oc(e){return Ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ac=Vt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ut(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function uc(e,t,n,r,i,o,a,u){return new ac(e,t,n,r,i,o,a,u)}function sc(e){return new ac(e)}function lc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function cc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fc(e){var t,n=Ft(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function hc(e){return null!==e.collectionGroup}function dc(e){var t=cs(e);if(null===t.wt){t.wt=[];var n=fc(t),r=cc(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new ql(n)),t.wt.push(new ql(Rs.keyField(),"asc"));else{var i,o=!1,a=Ft(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(o=!0)}}catch(l){a.e(l)}finally{a.f()}if(!o){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ql(Rs.keyField(),s))}}}return t.wt}function pc(e){var t=cs(e);if(!t.gt)if("F"===t.limitType)t.gt=nc(t.path,t.collectionGroup,dc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ft(dc(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new ql(o.field,a))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new Cl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Cl(t.startAt.position,t.startAt.inclusive):null;t.gt=nc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function vc(e,t){t.getFirstInequalityField(),fc(e);var n=e.filters.concat([t]);return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function mc(e,t,n){return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yc(e,t){return ic(pc(e),pc(t))&&e.limitType===t.limitType}function gc(e){return"".concat(rc(pc(e)),"|lt:").concat(e.limitType)}function kc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ml(e)})).join(", "),"]")),$s(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return pl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return pl(e)})).join(",")),"Target(".concat(t,")")}(pc(e)),"; limitType=").concat(e.limitType,")")}function bc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ps.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ft(dc(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ft(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=El(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dc(e),t))&&!(e.endAt&&!function(e,t,n){var r=El(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dc(e),t))}(e,t)}function _c(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wc(e){return function(t,n){var r,i=!1,o=Ft(dc(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,u=Sc(a,t,n);if(0!==u)return u;i=i||a.field.isKeyField()}}catch(s){o.e(s)}finally{o.f()}return 0}}function Sc(e,t,n){var r=e.field.isKeyField()?Ps.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hl(r,i):ss()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ss()}}function Cc(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(t)?"-0":t}}function Ec(e){return{integerValue:""+e}}function Tc(e,t){return Xs(t)?Ec(t):Cc(e,t)}var xc=Vt((function e(){Ut(this,e),this._=void 0}));function Ic(e,t,n){return e instanceof Rc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Pc?Dc(e,t):e instanceof Oc?Mc(e,t):function(e,t){var n=Ac(e,t),r=Fc(n)+Fc(e.It);return yl(n)&&yl(e.It)?Ec(r):Cc(e.Tt,r)}(e,t)}function Nc(e,t,n){return e instanceof Pc?Dc(e,t):e instanceof Oc?Mc(e,t):n}function Ac(e,t){return e instanceof Lc?yl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Rc=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n)}(xc),Pc=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this)).elements=e,r}return Vt(n)}(xc);function Dc(e,t){var n,r=Uc(t),i=Ft(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return cl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Oc=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this)).elements=e,r}return Vt(n)}(xc);function Mc(e,t){var n,r=Uc(t),i=Ft(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!cl(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Lc=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Vt(n)}(xc);function Fc(e){return rl(e.integerValue||e.doubleValue)}function Uc(e){return gl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jc=Vt((function e(t,n){Ut(this,e),this.field=t,this.transform=n}));var zc=Vt((function e(t,n){Ut(this,e),this.version=t,this.transformResults=n})),Vc=function(){function e(t,n){Ut(this,e),this.updateTime=t,this.exists=n}return Vt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Zc=Vt((function e(){Ut(this,e)}));function qc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nf(e.key,Vc.none()):new Qc(e.key,e.data,Vc.none());var n,r=e.data,i=Xl.empty(),o=new Ql(Rs.comparator),a=Ft(t.fields);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(!o.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),o=o.add(u)}}}catch(l){a.e(l)}finally{a.f()}return new $c(e.key,i,new Yl(o.toArray()),Vc.none())}function Wc(e,t,n){e instanceof Qc?function(e,t,n){var r=e.value.clone(),i=Xc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $c?function(e,t,n){if(Bc(e.precondition,t)){var r=Xc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hc(e,t,n,r){return e instanceof Qc?function(e,t,n,r){if(!Bc(e.precondition,t))return n;var i=e.value.clone(),o=Jc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $c?function(e,t,n,r){if(!Bc(e.precondition,t))return n;var i=Jc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Yc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Bc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kc(e,t){var n,r=null,i=Ft(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),u=Ac(o.transform,a||null);null!=u&&(null===r&&(r=Xl.empty()),r.set(o.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Gc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Es(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Pc&&t instanceof Pc||e instanceof Oc&&t instanceof Oc?Es(e.elements,t.elements,cl):e instanceof Lc&&t instanceof Lc?cl(e.It,t.It):e instanceof Rc&&t instanceof Rc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Qc=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ut(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return Vt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Zc),$c=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ut(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=u,a.type=1,a}return Vt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Zc);function Yc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Xc(e,t,n){var r=new Map;ls(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Nc(a,u,n[i]))}return r}function Jc(e,t,n){var r,i=new Map,o=Ft(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,u=a.transform,s=n.data.field(a.field);i.set(a.field,Ic(u,s,t))}}catch(l){o.e(l)}finally{o.f()}return i}var ef,tf,nf=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Vt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Zc),rf=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Vt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Zc),of=Vt((function e(t){Ut(this,e),this.count=t}));function af(e){switch(e){default:return ss();case fs.CANCELLED:case fs.UNKNOWN:case fs.DEADLINE_EXCEEDED:case fs.RESOURCE_EXHAUSTED:case fs.INTERNAL:case fs.UNAVAILABLE:case fs.UNAUTHENTICATED:return!1;case fs.INVALID_ARGUMENT:case fs.NOT_FOUND:case fs.ALREADY_EXISTS:case fs.PERMISSION_DENIED:case fs.FAILED_PRECONDITION:case fs.ABORTED:case fs.OUT_OF_RANGE:case fs.UNIMPLEMENTED:case fs.DATA_LOSS:return!0}}function uf(e){if(void 0===e)return os("GRPC error has no .code"),fs.UNKNOWN;switch(e){case ef.OK:return fs.OK;case ef.CANCELLED:return fs.CANCELLED;case ef.UNKNOWN:return fs.UNKNOWN;case ef.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case ef.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case ef.INTERNAL:return fs.INTERNAL;case ef.UNAVAILABLE:return fs.UNAVAILABLE;case ef.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case ef.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case ef.NOT_FOUND:return fs.NOT_FOUND;case ef.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case ef.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case ef.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case ef.ABORTED:return fs.ABORTED;case ef.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case ef.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case ef.DATA_LOSS:return fs.DATA_LOSS;default:return ss()}}(tf=ef||(ef={}))[tf.OK=0]="OK",tf[tf.CANCELLED=1]="CANCELLED",tf[tf.UNKNOWN=2]="UNKNOWN",tf[tf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tf[tf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tf[tf.NOT_FOUND=5]="NOT_FOUND",tf[tf.ALREADY_EXISTS=6]="ALREADY_EXISTS",tf[tf.PERMISSION_DENIED=7]="PERMISSION_DENIED",tf[tf.UNAUTHENTICATED=16]="UNAUTHENTICATED",tf[tf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tf[tf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tf[tf.ABORTED=10]="ABORTED",tf[tf.OUT_OF_RANGE=11]="OUT_OF_RANGE",tf[tf.UNIMPLEMENTED=12]="UNIMPLEMENTED",tf[tf.INTERNAL=13]="INTERNAL",tf[tf.UNAVAILABLE=14]="UNAVAILABLE",tf[tf.DATA_LOSS=15]="DATA_LOSS";var sf=function(){function e(t,n){Ut(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Vt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ft(n);try{for(i.s();!(r=i.n()).done;){var o=(0,u.Z)(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Gs(this.inner,(function(t,n){var r,i=Ft(n);try{for(i.s();!(r=i.n()).done;){var o=(0,u.Z)(r.value,2),a=o[0],s=o[1];e(a,s)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Qs(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),lf=new Hl(Ps.comparator);function cf(){return lf}var ff=new Hl(Ps.comparator);function hf(){for(var e=ff,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.insert(a.key,a)}return e}function df(e){var t=ff;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function pf(){return mf()}function vf(){return mf()}function mf(){return new sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yf=new Hl(Ps.comparator),gf=new Ql(Ps.comparator);function kf(){for(var e=gf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var bf=new Ql(Cs);function _f(){return bf}var wf=function(){function e(t,n,r,i,o){Ut(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return Vt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Sf.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(xs.min(),i,_f(),cf(),kf())}}]),e}(),Sf=function(){function e(t,n,r,i,o){Ut(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return Vt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,kf(),kf(),kf())}}]),e}(),Cf=Vt((function e(t,n,r,i){Ut(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),Ef=Vt((function e(t,n){Ut(this,e),this.targetId=t,this.Rt=n})),Tf=Vt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:el.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ut(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),xf=function(){function e(){Ut(this,e),this.Pt=0,this.vt=Af(),this.bt=el.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Vt(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=kf(),t=kf(),n=kf();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ss()}})),new Sf(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=Af()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),If=function(){function e(t){Ut(this,e),this.Lt=t,this.qt=new Map,this.Ut=cf(),this.Kt=Nf(),this.Gt=new Ql(Cs)}return Vt(e,[{key:"Qt",value:function(e){var t,n=Ft(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,o=Ft(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.zt(a,e.key,e.At)}}catch(u){o.e(u)}finally{o.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:ss()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(oc(i))if(0===n){var o=new Ps(i.path);this.zt(t,o,ec.newNoDocument(o,xs.min()))}else ls(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var o=t.Xt(i);if(o){if(r.current&&oc(o.target)){var a=new Ps(o.target.path);null!==t.Ut.get(a)||t.ne(i,a)||t.zt(i,a,ec.newNoDocument(a,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=kf();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new wf(e,n,this.Gt,this.Ut,r);return this.Ut=cf(),this.Kt=Nf(),this.Gt=new Ql(Cs),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new xf,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Ql(Cs),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||is("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new xf),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Nf(){return new Hl(Ps.comparator)}function Af(){return new Hl(Ps.comparator)}var Rf={asc:"ASCENDING",desc:"DESCENDING"},Pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Df={and:"AND",or:"OR"},Of=Vt((function e(t,n){Ut(this,e),this.databaseId=t,this.yt=n}));function Mf(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lf(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Ff(e,t){return Mf(e,t.toTimestamp())}function Uf(e){return ls(!!e),xs.fromTimestamp(function(e){var t=nl(e);return new Ts(t.seconds,t.nanos)}(e))}function jf(e,t){return function(e){return new Ns(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zf(e){var t=Ns.fromString(e);return ls(ah(t)),t}function Vf(e,t){return jf(e.databaseId,t.path)}function Bf(e,t){var n=zf(t);if(n.get(1)!==e.databaseId.projectId)throw new hs(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hs(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ps(Hf(n))}function Zf(e,t){return jf(e.databaseId,t)}function qf(e){var t=zf(e);return 4===t.length?Ns.emptyPath():Hf(t)}function Wf(e){return new Ns(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hf(e){return ls(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kf(e,t,n){return{name:Vf(e,t),fields:n.value.mapValue.fields}}function Gf(e,t){var n;if(t instanceof Qc)n={update:Kf(e,t.key,t.value)};else if(t instanceof nf)n={delete:Vf(e,t.key)};else if(t instanceof $c)n={update:Kf(e,t.key,t.data),updateMask:oh(t.fieldMask)};else{if(!(t instanceof rf))return ss();n={verify:Vf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Rc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lc)return{fieldPath:t.field.canonicalString(),increment:n.It};throw ss()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ff(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ss()}(e,t.precondition)),n}function Qf(e,t){return{documents:[Zf(e,t.path)]}}function $f(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ih(Nl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nh(e.field),direction:Jf(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,u=function(e,t){return e.yt||$s(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Yf(e){var t=qf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ls(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function(e){var t=Xf(e);return t instanceof Nl&&Rl(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ql(rh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $s(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Cl(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Cl(n,t)}(n.endAt)),uc(t,i,u,a,s,"F",l,c)}function Xf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rh(e.unaryFilter.field);return Il.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rh(e.unaryFilter.field);return Il.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rh(e.unaryFilter.field);return Il.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rh(e.unaryFilter.field);return Il.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ss()}}(e):void 0!==e.fieldFilter?function(e){return Il.create(rh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ss()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Nl.create(e.compositeFilter.filters.map((function(e){return Xf(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ss()}}(e.compositeFilter.op))}(e):ss()}function Jf(e){return Rf[e]}function eh(e){return Pf[e]}function th(e){return Df[e]}function nh(e){return{fieldPath:e.canonicalString()}}function rh(e){return Rs.fromServerFormat(e.fieldPath)}function ih(e){return e instanceof Il?function(e){if("=="===e.op){if(bl(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NAN"}};if(kl(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bl(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NOT_NAN"}};if(kl(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(e.field),op:eh(e.op),value:e.value}}}(e):e instanceof Nl?function(e){var t=e.getFilters().map((function(e){return ih(e)}));return 1===t.length?t[0]:{compositeFilter:{op:th(e.op),filters:t}}}(e):ss()}function oh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ah(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var uh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sh=([].concat((0,I.Z)(uh),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),lh=sh;[].concat(lh,["indexConfiguration","indexState","indexEntries"]);var ch=function(){function e(t,n,r,i){Ut(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Vt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ft(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var o,a=Ft(this.mutations);try{for(a.s();!(o=a.n()).done;){var u=o.value;u.key.isEqual(e.key)&&(t=Hc(u,e,t,this.localWriteTime))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=vf();return this.mutations.forEach((function(i){var o=e.get(i.key),a=o.overlayedDocument,u=n.applyToLocalView(a,o.mutatedFields),s=qc(a,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),a.isValidDocument()||a.convertToNoDocument(xs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(function(e,t){return Gc(e,t)}))&&Es(this.baseMutations,e.baseMutations,(function(e,t){return Gc(e,t)}))}}]),e}(),fh=function(){function e(t,n,r,i){Ut(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Vt(e,null,[{key:"from",value:function(t,n,r){ls(t.mutations.length===r.length);for(var i=yf,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),hh=function(){function e(t,n){Ut(this,e),this.largestBatchId=t,this.mutation=n}return Vt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),dh=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xs.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xs.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:el.EMPTY_BYTE_STRING;Ut(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return Vt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ph=Vt((function e(t){Ut(this,e),this.oe=t}));function vh(e){var t=Yf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mc(t,t.limit,"L"):t}var mh=function(){function e(){Ut(this,e)}return Vt(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(rl(e.integerValue));else if("doubleValue"in e){var n=rl(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Ys(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(il(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Sl(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):ss()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.we(o,t),this.he(n[o],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=Ft(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.he(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),Ps.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();mh.Ee=new mh;var yh=function(){function e(){Ut(this,e),this.Ze=new gh}return Vt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),Bs.resolve()}},{key:"getCollectionParents",value:function(e,t){return Bs.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Bs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Bs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Bs.resolve(null)}},{key:"getIndexType",value:function(e,t){return Bs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Bs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Bs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Bs.resolve(Ls.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Bs.resolve(Ls.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Bs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Bs.resolve()}}]),e}(),gh=function(){function e(){Ut(this,e),this.index={}}return Vt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ql(Ns.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ql(Ns.comparator)).toArray()}}]),e}();new Uint8Array(0);var kh=function(){function e(t,n,r){Ut(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Vt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();kh.DEFAULT_COLLECTION_PERCENTILE=10,kh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kh.DEFAULT=new kh(41943040,kh.DEFAULT_COLLECTION_PERCENTILE,kh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kh.DISABLED=new kh(-1,0,0);var bh=function(){function e(t){Ut(this,e),this.bn=t}return Vt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}();var _h=function(){function e(){Ut(this,e),this.changes=new sf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Vt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ec.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Bs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var wh=Vt((function e(t,n){Ut(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Sh=function(){function e(t,n,r,i){Ut(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Vt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Hc(r.mutation,e,Yl.empty(),Ts.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,kf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kf(),i=pf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=hf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=pf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,kf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=cf(),o=mf(),a=mf();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof $c)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Hc(a.mutation,t,a.mutation.getFieldMask(),Ts.now())):o.set(t.key,Yl.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new wh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=mf(),i=new Hl((function(e,t){return e-t})),o=kf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=Ft(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var a=r.get(n)||Yl.empty();a=e.applyToLocalView(o,a),r.set(n,a);var u=(i.get(e.batchId)||kf()).add(n);i=i.insert(e.batchId,u)}}))};for(o.s();!(n=o.n()).done;)a()}catch(u){o.e(u)}finally{o.f()}})).next((function(){for(var a=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=vf();l.forEach((function(e){if(!o.has(e)){var n=qc(t.get(e),r.get(e));null!==n&&c.set(e,n),o=o.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return Bs.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var a=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Bs.resolve(pf()),u=-1,s=o;return a.next((function(t){return Bs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),o.get(t)?Bs.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,s,t,kf())})).next((function(e){return{batchId:u,changes:df(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ps(t)).next((function(e){var t=hf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,o=hf();return this.indexManager.getCollectionParents(e,i).next((function(a){return Bs.forEach(a,(function(a){var u=function(e,t){return new ac(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return r=o,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ec.newInvalidDocument(r)))}));var n=hf();return e.forEach((function(e,i){var o=r.get(e);void 0!==o&&Hc(o.mutation,i,Yl.empty(),Ts.now()),bc(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ch=function(){function e(t){Ut(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Vt(e,[{key:"getBundleMetadata",value:function(e,t){return Bs.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:Uf(n.createTime)}),Bs.resolve()}},{key:"getNamedQuery",value:function(e,t){return Bs.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:vh(e.bundledQuery),readTime:Uf(e.readTime)}}(t)),Bs.resolve()}}]),e}(),Eh=function(){function e(){Ut(this,e),this.overlays=new Hl(Ps.comparator),this.ss=new Map}return Vt(e,[{key:"getOverlay",value:function(e,t){return Bs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=pf();return Bs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),Bs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),Bs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=pf(),i=t.length+1,o=new Ps(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var u=a.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Bs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Hl((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var u=i.get(a.largestBatchId);null===u&&(u=pf(),i=i.insert(a.largestBatchId,u)),u.set(a.getKey(),a)}}for(var s=pf(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Bs.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new hh(t,n));var o=this.ss.get(t);void 0===o&&(o=kf(),this.ss.set(t,o)),this.ss.set(t,o.add(n.key))}}]),e}(),Th=function(){function e(){Ut(this,e),this.rs=new Ql(xh.os),this.us=new Ql(xh.cs)}return Vt(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xh(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new xh(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new Ps(new Ns([])),r=new xh(n,e),i=new xh(n,e+1),o=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),o.push(e.key)})),o}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new Ps(new Ns([])),n=new xh(t,e),r=new xh(t,e+1),i=kf();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xh(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xh=function(){function e(t,n){Ut(this,e),this.key=t,this.gs=n}return Vt(e,null,[{key:"os",value:function(e,t){return Ps.comparator(e.key,t.key)||Cs(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Cs(e.gs,t.gs)||Ps.comparator(e.key,t.key)}}]),e}(),Ih=function(){function e(t,n){Ut(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ql(xh.os)}return Vt(e,[{key:"checkEmpty",value:function(e){return Bs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new ch(i,t,n,r);this.mutationQueue.push(o);var a,u=Ft(r);try{for(u.s();!(a=u.n()).done;){var s=a.value;this.ps=this.ps.add(new xh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Bs.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return Bs.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return Bs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Bs.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return Bs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xh(t,0),i=new xh(t,Number.POSITIVE_INFINITY),o=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);o.push(t)})),Bs.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ql(Cs);return t.forEach((function(e){var t=new xh(e,0),i=new xh(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),Bs.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ps.isDocumentKey(i)||(i=i.child(""));var o=new xh(new Ps(i),0),a=new Ql(Cs);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gs)),!0)}),o),Bs.resolve(this.Es(a))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ls(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return Bs.forEach(t.mutations,(function(i){var o=new xh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xh(t,0),r=this.ps.firstAfterOrEqual(n);return Bs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Bs.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Nh=function(){function e(t){Ut(this,e),this.Rs=t,this.docs=new Hl(Ps.comparator),this.size=0}return Vt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Bs.resolve(n?n.document.mutableCopy():ec.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=cf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ec.newInvalidDocument(e))})),Bs.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=cf(),o=t.path,a=new Ps(o.child("")),u=this.docs.getIteratorFrom(a);u.hasNext();){var s=u.getNext(),l=s.key,c=s.value.document;if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Fs(Ms(c),n)<=0||(r.has(c.key)||bc(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Bs.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ss()}},{key:"Ps",value:function(e,t){return Bs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ah(this)}},{key:"getSize",value:function(e){return Bs.resolve(this.size)}}]),e}(),Ah=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this)).Xn=e,r}return Vt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),Bs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(_h),Rh=function(){function e(t){Ut(this,e),this.persistence=t,this.vs=new sf((function(e){return rc(e)}),ic),this.lastRemoteSnapshotVersion=xs.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Th,this.targetCount=0,this.Ss=bh.Vn()}return Vt(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),Bs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Bs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Bs.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),Bs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Bs.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new bh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,Bs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),Bs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Bs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.vs.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Bs.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Bs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return Bs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),Bs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Bs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),Bs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return Bs.resolve(n)}},{key:"containsKey",value:function(e,t){return Bs.resolve(this.Vs.containsKey(t))}}]),e}(),Ph=function(){function e(t,n){var r=this;Ut(this,e),this.Ds={},this.overlays={},this.Cs=new qs(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new Rh(this),this.indexManager=new yh,this.remoteDocumentCache=new Nh((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new ph(n),this.$s=new Ch(this.Tt)}return Vt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Eh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Ih(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;is("MemoryPersistence","Starting transaction:",e);var i=new Dh(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return Bs.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Dh=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Vt(n)}(js),Oh=function(){function e(t){Ut(this,e),this.persistence=t,this.Bs=new Th,this.Ls=null}return Vt(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw ss()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),Bs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),Bs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),Bs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bs.forEach(this.Us,(function(r){var i=Ps.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,xs.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return Bs.or([function(){return Bs.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}();var Mh=function(){function e(t,n,r,i){Ut(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Vt(e,null,[{key:"Ni",value:function(t,n){var r,i=kf(),o=kf(),a=Ft(n.docChanges);try{for(a.s();!(r=a.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}}catch(s){a.e(s)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),Lh=function(){function e(){Ut(this,e),this.ki=!1}return Vt(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(o){return o||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(lc(t))return Bs.resolve(null);var r=pc(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=mc(t,null,"F"),r=pc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=kf.apply(void 0,(0,I.Z)(i));return n.$i.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.Bi(t,i);return n.Li(t,a,o,r.readTime)?n.Mi(e,mc(t,null,"F")):n.qi(e,a,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return lc(t)||r.isEqual(xs.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(o){var a=i.Bi(t,o);return i.Li(t,a,n,r)?i.Fi(e,t):(rs()<=Un.DEBUG&&is("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kc(t)),i.qi(e,a,t,Os(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Ql(wc(e));return t.forEach((function(t,r){bc(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return rs()<=Un.DEBUG&&is("QueryEngine","Using full collection scan to execute query:",kc(t)),this.$i.getDocumentsMatchingQuery(e,t,Ls.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Fh=function(){function e(t,n,r,i){Ut(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Hl(Cs),this.Gi=new sf((function(e){return rc(e)}),ic),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return Vt(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sh(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function Uh(e,t,n,r){return new Fh(e,t,n,r)}function jh(e,t){return zh.apply(this,arguments)}function zh(){return zh=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,o=[],a=[],u=kf(),s=Ft(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;o.push(l.batchId);var c,f=Ft(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ft(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var m,y=Ft(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function Vh(e,t){var n=cs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Bs.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);ls(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=kf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Bh(e){var t=cs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function Zh(e,t){var n=cs(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var a=[];t.targetChanges.forEach((function(o,u){var s=i.get(u);if(s){a.push(n.Ns.removeMatchingKeys(e,o.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,o.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(el.EMPTY_BYTE_STRING,xs.min()).withLastLimboFreeSnapshotVersion(xs.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,o)&&a.push(n.Ns.updateTargetData(e,l))}}));var u=cf(),s=kf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(qh(e,o,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(xs.min())){var l=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(l)}return Bs.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function qh(e,t,n){var r=kf(),i=kf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=cf();return n.forEach((function(n,o){var a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(xs.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):is("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Hi:r,Ji:i}}))}function Wh(e,t){var n=cs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Hh(e,t){var n=cs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,Bs.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new dh(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Kh(e,t,n){return Gh.apply(this,arguments)}function Gh(){return Gh=a(i().mark((function e(t,n,r){var o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=cs(t),a=o.Ki.get(n),u=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,o.persistence.runTransaction("Release target",u,(function(e){return o.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zs(e.t1)){e.next=12;break}throw e.t1;case 12:is("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:o.Ki=o.Ki.remove(n),o.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Gh.apply(this,arguments)}function Qh(e,t,n){var r=cs(e),i=xs.min(),o=kf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=cs(e),i=r.Gi.get(n);return void 0!==i?Bs.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,pc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:xs.min(),n?o:kf())})).next((function(e){return $h(r,_c(t),e),{documents:e,Yi:o}}))}))}function $h(e,t,n){var r=e.Qi.get(t)||xs.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}var Yh=function(){function e(){Ut(this,e),this.activeTargetIds=_f()}return Vt(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Xh=function(){function e(){Ut(this,e),this.Ur=new Yh,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Vt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Yh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Jh=function(){function e(){Ut(this,e)}return Vt(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ed=function(){function e(){var t=this;Ut(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Vt(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){is("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ft(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){is("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ft(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),td=null;function nd(){return null===td?td=268435456+Math.round(2147483648*Math.random()):td++,"0x"+td.toString(16)}var rd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},id=function(){function e(t){Ut(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Vt(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),od="WebChannelConnection",ad=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Vt(n,[{key:"wo",value:function(e,t,n,r){var i=nd();return new Promise((function(o,a){var u=new Xu;u.setWithCredentials(!0),u.listenOnce(Ku.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Hu.NO_ERROR:var t=u.getResponseJson();is(od,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Hu.TIMEOUT:is(od,"RPC '".concat(e,"' ").concat(i," timed out")),a(new hs(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:var n=u.getStatus();if(is(od,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(s.status);a(new hs(l,s.message))}else a(new hs(fs.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new hs(fs.UNAVAILABLE,"Connection failed."));break;default:ss()}}finally{is(od,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);is(od,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=nd(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qu(),a=Wu(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new $u({})),this._o(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");is(od,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var l=o.createWebChannel(s,u),c=!1,f=!1,h=new id({Yr:function(t){f?is(od,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(c||(is(od,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),c=!0),is(od,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Zr:function(){return l.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(l,Yu.EventType.OPEN,(function(){f||is(od,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(l,Yu.EventType.CLOSE,(function(){f||(f=!0,is(od,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.oo())})),d(l,Yu.EventType.ERROR,(function(t){f||(f=!0,as(od,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.oo(new hs(fs.UNAVAILABLE,"The operation could not be completed")))})),d(l,Yu.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];ls(!!i);var o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){is(od,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);var u=a.status,s=function(e){var t=ef[e];if(void 0!==t)return uf(t)}(u),c=a.message;void 0===s&&(s=fs.INTERNAL,c="Unknown error status: "+u+" with message "+a.message),f=!0,h.oo(new hs(s,c)),l.close()}else is(od,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.uo(i)}})),d(a,Gu.STAT_EVENT,(function(t){t.stat===Qu.PROXY?is(od,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Qu.NOPROXY&&is(od,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.ro()}),0),h}}]),n}(function(){function e(t){Ut(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Vt(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var o=nd(),a=this.fo(e,t);is("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);var u={};return this._o(u,r,i),this.wo(e,a,u,n).then((function(t){return is("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t}),(function(t){throw as("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,o){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ts,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=rd[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function ud(){return"undefined"!=typeof document?document:null}function sd(e){return new Of(e,!0)}var ld=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ut(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Vt(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&is("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),cd=function(){function e(t,n,r,i,o,a,u,s){Ut(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new ld(t,n)}return Vt(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===fs.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===fs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,u.Z)(t,2),i=r[0],o=r[1];e.Co===n&&e.jo(i,o)}),(function(n){t((function(){var t=new hs(fs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return is("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(is("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),fd=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o,a,u){var s;return Ut(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,u)).Tt=a,s}return Vt(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ss()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.yt?(ls(void 0===t||"string"==typeof t),el.fromBase64String(t||"")):(ls(void 0===t||t instanceof Uint8Array),el.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(e){var t=void 0===e.code?fs.UNKNOWN:uf(e.code);return new hs(t,e.message||"")}(a);n=new Tf(r,i,o,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=Bf(e,s.document.name),c=Uf(s.document.updateTime),f=s.document.createTime?Uf(s.document.createTime):xs.min(),h=new Xl({mapValue:{fields:s.document.fields}}),d=ec.newFoundDocument(l,c,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Cf(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Bf(e,m.document),g=m.readTime?Uf(m.readTime):xs.min(),k=ec.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Cf([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var w=Bf(e,_.document),S=_.removedTargetIds||[];n=new Cf([],S,w,null)}else{if(!("filter"in t))return ss();t.filter;var C=t.filter;C.targetId;var E=C.count||0,T=new of(E),x=C.targetId;n=new Ef(x,T)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return xs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?xs.min():t.readTime?Uf(t.readTime):xs.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=Wf(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=oc(r)?{documents:Qf(e,r)}:{query:$f(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Lf(e,t.resumeToken):t.snapshotVersion.compareTo(xs.min())>0&&(n.readTime=Mf(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ss()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=Wf(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(cd),hd=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o,a,u){var s;return Ut(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,u)).Tt=a,s.Zo=!1,s}return Vt(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Kr(Zt(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(ls(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(ls(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Uf(e.updateTime):Uf(t);return n.isEqual(xs.min())&&(n=Uf(t)),new zc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Uf(e.commitTime);return this.listener.eu(n,t)}return ls(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=Wf(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gf(t.Tt,e)}))};this.qo(n)}}]),n}(cd),dd=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o){var a;return Ut(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.connection=i,a.Tt=o,a.iu=!1,a}return Vt(n,[{key:"ru",value:function(){if(this.iu)throw new hs(fs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,u.Z)(i,2),a=o[0],s=o[1];return r.connection.lo(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hs(fs.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=(0,u.Z)(o,2),s=a[0],l=a[1];return i.connection.mo(e,t,n,s,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new hs(fs.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Vt((function e(){Ut(this,e)}))}());var pd=function(){function e(t,n){Ut(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Vt(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(os(t),this.cu=!1):is("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),vd=Vt((function e(t,n,r,o,u){var s=this;Ut(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=u,this.yu.Gr((function(e){r.enqueueAndForget(a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Td(s),!e.t0){e.next=5;break}return is("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cs(t)).mu.add(4),e.next=4,gd(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,md(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new pd(r,o)}));function md(e){return yd.apply(this,arguments)}function yd(){return yd=a(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Td(t)){e.next=18;break}n=Ft(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return o=r.value,e.next=8,o(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),yd.apply(this,arguments)}function gd(e){return kd.apply(this,arguments)}function kd(){return kd=a(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ft(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return o=r.value,e.next=7,o(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kd.apply(this,arguments)}function bd(e,t){var n=cs(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Ed(n)?Cd(n):tp(n).Mo()&&wd(n,t))}function _d(e,t){var n=cs(e),r=tp(n);n.wu.delete(t),r.Mo()&&Sd(n,t),0===n.wu.size&&(r.Mo()?r.Bo():Td(n)&&n.pu.set("Unknown"))}function wd(e,t){e.Iu.Ot(t.targetId),tp(e).Jo(t)}function Sd(e,t){e.Iu.Ot(t),tp(e).Yo(t)}function Cd(e){e.Iu=new If({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),tp(e).start(),e.pu.au()}function Ed(e){return Td(e)&&!tp(e).$o()&&e.wu.size>0}function Td(e){return 0===cs(e).mu.size}function xd(e){e.Iu=void 0}function Id(e){return Nd.apply(this,arguments)}function Nd(){return Nd=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){wd(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Ad(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xd(t),Ed(t)?(t.pu.fu(n),Cd(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Pd(e,t,n){return Dd.apply(this,arguments)}function Dd(){return Dd=a(i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof Tf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=a(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,o=Ft(n.targetIds),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=14;break}if(u=a.value,e.t0=t.wu.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.wu.delete(u),t.Iu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),o.e(e.t1);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),is("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Od(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Cf?t.Iu.Qt(n):n instanceof Ef?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(xs.min())){e.next=29;break}return e.prev=14,e.next=17,Bh(t.localStore);case 17:if(o=e.sent,e.t1=r.compareTo(o)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(el.EMPTY_BYTE_STRING,n.snapshotVersion)),Sd(e,t);var r=new dh(n.target,t,1,n.sequenceNumber);wd(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),is("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Od(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Dd.apply(this,arguments)}function Od(e,t,n){return Md.apply(this,arguments)}function Md(){return Md=a(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zs(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,gd(t);case 5:t.pu.set("Offline"),r||(r=function(){return Bh(t.localStore)}),t.asyncQueue.enqueueRetryable(a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,md(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Ld(e,t){return t().catch((function(n){return Od(e,n,t)}))}function Fd(e){return Ud.apply(this,arguments)}function Ud(){return Ud=a(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cs(t),r=np(n),o=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!jd(n)){e.next=19;break}return e.prev=3,e.next=6,Wh(n.localStore,o);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:o=a.batchId,zd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Od(n,e.t0);case 17:e.next=2;break;case 19:Vd(n)&&Bd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ud.apply(this,arguments)}function jd(e){return Td(e)&&e._u.length<10}function zd(e,t){e._u.push(t);var n=np(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function Vd(e){return Td(e)&&!np(e).$o()&&e._u.length>0}function Bd(e){np(e).start()}function Zd(e){return qd.apply(this,arguments)}function qd(){return qd=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:np(t).su();case 1:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Wd(e){return Hd.apply(this,arguments)}function Hd(){return Hd=a(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=np(t),r=Ft(t._u);try{for(r.s();!(o=r.n()).done;)a=o.value,n.tu(a.mutations)}catch(i){r.e(i)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Kd(e,t,n){return Gd.apply(this,arguments)}function Gd(){return Gd=a(i().mark((function e(t,n,r){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t._u.shift(),a=fh.from(o,n,r),e.next=3,Ld(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Fd(t);case 5:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Qd(e,t){return $d.apply(this,arguments)}function $d(){return $d=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&np(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!af(o=n.code)||o===fs.ABORTED){e.next=7;break}return r=t._u.shift(),np(t).Fo(),e.next=5,Ld(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Fd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Vd(t)&&Bd(t);case 5:case"end":return e.stop()}}),e)}))),$d.apply(this,arguments)}function Yd(e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=cs(t)).asyncQueue.verifyOperationInProgress(),is("RemoteStore","RemoteStore received new credentials"),o=Td(r),r.mu.add(3),e.next=6,gd(r);case 6:return o&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,md(r);case 12:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t){return ep.apply(this,arguments)}function ep(){return ep=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,md(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,gd(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e){return e.Tu||(e.Tu=function(e,t,n){var r=cs(e);return r.ru(),new fd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Id.bind(null,e),no:Ad.bind(null,e),Ho:Pd.bind(null,e)}),e.gu.push(function(){var t=a(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),Ed(e)?Cd(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:xd(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function np(e){return e.Eu||(e.Eu=function(e,t,n){var r=cs(e);return r.ru(),new hd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Zd.bind(null,e),no:Qd.bind(null,e),nu:Wd.bind(null,e),eu:Kd.bind(null,e)}),e.gu.push(function(){var t=a(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,Fd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(is("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var rp=function(){function e(t,n,r,i,o){Ut(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Vt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hs(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function ip(e,t){if(os("AsyncQueue","".concat(t,": ").concat(e)),Zs(e))return new hs(fs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var op=function(){function e(t){Ut(this,e),this.comparator=t?function(e,n){return t(e,n)||Ps.comparator(e.key,n.key)}:function(e,t){return Ps.comparator(e.key,t.key)},this.keyedMap=hf(),this.sortedSet=new Hl(this.comparator)}return Vt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ap=function(){function e(){Ut(this,e),this.Au=new Hl(Ps.comparator)}return Vt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):ss():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),up=function(){function e(t,n,r,i,o,a,u,s,l){Ut(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return Vt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,o){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,op.emptySet(n),a,r,i,!0,!1,o)}}]),e}(),sp=Vt((function e(){Ut(this,e),this.Pu=void 0,this.listeners=[]})),lp=Vt((function e(){Ut(this,e),this.queries=new sf((function(e){return gc(e)}),yc),this.onlineState="Unknown",this.vu=new Set}));function cp(e,t){return fp.apply(this,arguments)}function fp(){return fp=a(i().mark((function e(t,n){var r,o,a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),o=n.query,a=!1,(u=r.queries.get(o))||(a=!0,u=new sp),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(o);case 6:u.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=ip(e.t0,"Initialization of query '".concat(kc(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(o,u),u.listeners.push(n),n.bu(r.onlineState),u.Pu&&n.Vu(u.Pu)&&mp(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),fp.apply(this,arguments)}function hp(e,t){return dp.apply(this,arguments)}function dp(){return dp=a(i().mark((function e(t,n){var r,o,a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),o=n.query,a=!1,(u=r.queries.get(o))&&(s=u.listeners.indexOf(n))>=0&&(u.listeners.splice(s,1),a=0===u.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(o),r.onUnlisten(o)));case 6:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t){var n,r=cs(e),i=!1,o=Ft(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=a.query,s=r.queries.get(u);if(s){var l,c=Ft(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Vu(a)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Pu=a}}}catch(f){o.e(f)}finally{o.f()}i&&mp(r)}function vp(e,t,n){var r=cs(e),i=r.queries.get(t);if(i){var o,a=Ft(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(u){a.e(u)}finally{a.f()}}r.queries.delete(t)}function mp(e){e.vu.forEach((function(e){e.next()}))}var yp=function(){function e(t,n,r){Ut(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Vt(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ft(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new up(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Du?this.xu(e)&&(this.Su.next(e),o=!0):this.Nu(e,this.onlineState)&&(this.ku(e),o=!0),this.Cu=e,o}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=up.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}();var gp=Vt((function e(t){Ut(this,e),this.key=t})),kp=Vt((function e(t){Ut(this,e),this.key=t})),bp=function(){function e(t,n){Ut(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=kf(),this.mutatedKeys=kf(),this.ju=wc(t),this.zu=new op(this.ju)}return Vt(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new ap,i=t?t.zu:this.zu,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=bc(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||l&&n.ju(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var c="F"===this.query.limitType?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{zu:a,Ju:r,Li:u,mutatedKeys:o}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var o=e.Ju.Ru();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ss()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var a=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==o.length||s?{snapshot:new up(this.query,e.zu,i,o,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:a}:{tc:a}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new ap,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=kf(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new kp(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new gp(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=kf();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return up.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),_p=Vt((function e(t,n,r){Ut(this,e),this.query=t,this.targetId=n,this.view=r})),wp=Vt((function e(t){Ut(this,e),this.key=t,this.ic=!1})),Sp=function(){function e(t,n,r,i,o,a){Ut(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.rc={},this.oc=new sf((function(e){return gc(e)}),yc),this.uc=new Map,this.cc=new Set,this.ac=new Hl(Ps.comparator),this.hc=new Map,this.lc=new Th,this.fc={},this.dc=new Map,this._c=bh.Sn(),this.onlineState="Unknown",this.wc=void 0}return Vt(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function Cp(e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=a(i().mark((function e(t,n){var r,o,a,u,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jp(t),!(u=r.oc.get(n))){e.next=6;break}o=u.targetId,r.sharedClientState.addLocalQueryTarget(o),a=u.view.sc(),e.next=15;break;case 6:return e.next=8,Hh(r.localStore,pc(n));case 8:return s=e.sent,r.isPrimaryClient&&bd(r.remoteStore,s),l=r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.targetId,e.next=14,Tp(r,n,o,"current"===l,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}function Tp(e,t,n,r,i){return xp.apply(this,arguments)}function xp(){return xp=a(i().mark((function e(t,n,r,o,u){var s,l,c,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=a(i().mark((function e(t,n,r,o){var a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,Qh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return u=o&&o.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,u),e.abrupt("return",(Wp(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Qh(t.localStore,n,!0);case 3:return s=e.sent,l=new bp(n,s.Yi),c=l.Hu(s.documents),f=Sf.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==t.onlineState,u),h=l.applyChanges(c,t.isPrimaryClient,f),Wp(t,r,h.tc),d=new _p(n,r,l),e.abrupt("return",(t.oc.set(n,d),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function Ip(e,t){return Np.apply(this,arguments)}function Np(){return Np=a(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),o=r.oc.get(n),!((a=r.uc.get(o.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(o.targetId,a.filter((function(e){return!yc(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(o.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(o.targetId),e.t0){e.next=9;break}return e.next=9,Kh(r.localStore,o.targetId,!1).then((function(){r.sharedClientState.clearQueryState(o.targetId),_d(r.remoteStore,o.targetId),Zp(r,o.targetId)})).catch(zs);case 9:e.next=14;break;case 11:return Zp(r,o.targetId),e.next=14,Kh(r.localStore,o.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Ap(e,t,n){return Rp.apply(this,arguments)}function Rp(){return Rp=a(i().mark((function e(t,n,r){var o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ev(t),e.prev=1,e.next=4,function(e,t){var n,r,i=cs(e),o=Ts.now(),a=t.reduce((function(e,t){return e.add(t.key)}),kf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=cf(),s=kf();return i.ji.getEntries(e,a).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var a,u=[],s=Ft(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=Kc(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new $c(l.key,c,Jl(c.value.mapValue),Vc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,o,u,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:df(n)}}))}(o.localStore,n);case 4:return a=e.sent,o.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new Hl(Cs)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(o,a.batchId,r),e.next=9,Gp(o,a.changes);case 9:return e.next=11,Fd(o.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=ip(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Rp.apply(this,arguments)}function Pp(e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.prev=1,e.next=4,Zh(r.localStore,n);case 4:return o=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(ls(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?ls(n.ic):e.removedDocuments.size>0&&(ls(n.ic),n.ic=!1))})),e.next=8,Gp(r,o,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,zs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Dp.apply(this,arguments)}function Op(e,t,n){var r=cs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=cs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=Ft(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.bu(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&mp(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Mp(e,t,n){return Lp.apply(this,arguments)}function Lp(){return Lp=a(i().mark((function e(t,n,r){var o,a,u,s,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=cs(t)).sharedClientState.updateQueryState(n,"rejected",r),a=o.hc.get(n),!(u=a&&a.key)){e.next=14;break}return s=(s=new Hl(Ps.comparator)).insert(u,ec.newNoDocument(u,xs.min())),l=kf().add(u),c=new wf(xs.min(),new Map,new Ql(Cs),s,l),e.next=9,Pp(o,c);case 9:o.ac=o.ac.remove(u),o.hc.delete(n),Kp(o),e.next=16;break;case 14:return e.next=16,Kh(o.localStore,n,!1).then((function(){return Zp(o,n,r)})).catch(zs);case 16:case"end":return e.stop()}}),e)}))),Lp.apply(this,arguments)}function Fp(e,t){return Up.apply(this,arguments)}function Up(){return Up=a(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),o=n.batch.batchId,e.prev=1,e.next=4,Vh(r.localStore,n);case 4:return a=e.sent,Bp(r,o,null),Vp(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),e.next=10,Gp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Up.apply(this,arguments)}function jp(e,t,n){return zp.apply(this,arguments)}function zp(){return zp=a(i().mark((function e(t,n,r){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=cs(t),e.prev=1,e.next=4,function(e,t){var n=cs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ls(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(o.localStore,n);case 4:return a=e.sent,Bp(o,n,r),Vp(o,n),o.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Gp(o,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zp.apply(this,arguments)}function Vp(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function Bp(e,t,n){var r=cs(e),i=r.fc[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function Zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ft(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.oc.delete(o),n&&e.rc.gc(o,n)}}catch(a){i.e(a)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||qp(e,t)}))}function qp(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(_d(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),Kp(e))}function Wp(e,t,n){var r,i=Ft(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof gp?(e.lc.addReference(o.key,t),Hp(e,o)):o instanceof kp?(is("SyncEngine","Document no longer in limbo: "+o.key),e.lc.removeReference(o.key,t),e.lc.containsKey(o.key)||qp(e,o.key)):ss()}}catch(a){i.e(a)}finally{i.f()}}function Hp(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(is("SyncEngine","New document in limbo: "+n),e.cc.add(r),Kp(e))}function Kp(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new Ps(Ns.fromString(t)),r=e._c.next();e.hc.set(r,new wp(n)),e.ac=e.ac.insert(n,r),bd(e.remoteStore,new dh(pc(sc(n.path)),r,2,qs.at))}}function Gp(e,t,n){return Qp.apply(this,arguments)}function Qp(){return Qp=a(i().mark((function e(t,n,r){var o,u,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=cs(t),u=[],s=[],l=[],e.t0=o.oc.isEmpty(),e.t0){e.next=9;break}return o.oc.forEach((function(e,t){l.push(o.mc(t,n,r).then((function(e){if((e||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){u.push(e);var n=Mh.Ni(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(l);case 6:return o.rc.Ho(u),e.next=9,function(){var e=a(i().mark((function e(t,n){var r,o,a,u,s,l,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Bs.forEach(n,(function(t){return Bs.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Bs.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zs(e.t0)){e.next=10;break}throw e.t0;case 10:is("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:o=Ft(n);try{for(o.s();!(a=o.n()).done;)u=a.value,s=u.targetId,u.fromCache||(l=r.Ki.get(s),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(s,f))}catch(i){o.e(i)}finally{o.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(o.localStore,s);case 9:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function $p(e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=cs(t)).currentUser.isEqual(n)){e.next=11;break}return is("SyncEngine","User change. New user:",n.toKey()),e.next=5,jh(r.localStore,n);case 5:return o=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new hs(fs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),e.next=11,Gp(r,o.Wi);case 11:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function Xp(e,t){var n=cs(e),r=n.hc.get(t);if(r&&r.ic)return kf().add(r.key);var i=kf(),o=n.uc.get(t);if(!o)return i;var a,u=Ft(o);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=n.oc.get(s);i=i.unionWith(l.view.Wu)}}catch(c){u.e(c)}finally{u.f()}return i}function Jp(e){var t=cs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mp.bind(null,t),t.rc.Ho=pp.bind(null,t.eventManager),t.rc.gc=vp.bind(null,t.eventManager),t}function ev(e){var t=cs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jp.bind(null,t),t}var tv=function(){function e(){Ut(this,e),this.synchronizeTabs=!1}return Vt(e,[{key:"initialize",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=sd(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return Uh(this.persistence,new Lh,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new Ph(Oh.qs,this.Tt)}},{key:"Ic",value:function(e){return new Xh}},{key:"terminate",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nv=function(){function e(){Ut(this,e)}return Vt(e,[{key:"initialize",value:function(){var e=a(i().mark((function e(t,n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Op(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$p.bind(null,this.syncEngine),e.next=12,Jd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new lp}},{key:"createDatastore",value:function(e){var t,n=sd(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ad(t));return function(e,t,n,r){return new dd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Op(a.syncEngine,e,0)},o=ed.C()?new ed:new Jh,new vd(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var u=new Sp(e,t,n,r,i,o);return a&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cs(t),is("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,gd(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var rv=function(){function e(t){Ut(this,e),this.observer=t,this.muted=!1}return Vt(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),iv=function(){function e(t,n,r,o){var u=this;Ut(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=es.UNAUTHENTICATED,this.clientId=Ss.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is("FirestoreClient","Received user=",t.uid),e.next=3,u.authCredentialListener(t);case 3:u.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return is("FirestoreClient","Received new app check token=",e),u.appCheckCredentialListener(e,u.user)}))}return Vt(e,[{key:"getConfiguration",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new hs(fs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(a(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ip(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ov(e,t){return av.apply(this,arguments)}function av(){return av=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),is("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:o=r.initialUser,t.setCredentialChangeListener(function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.isEqual(t),e.t0){e.next=5;break}return e.next=4,jh(n.localStore,t);case 4:o=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function uv(e,t){return sv.apply(this,arguments)}function sv(){return sv=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lv(t);case 3:return r=e.sent,is("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return o=e.sent,e.next=10,n.initialize(r,o);case 10:t.setCredentialChangeListener((function(e){return Yd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Yd(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function lv(e){return cv.apply(this,arguments)}function cv(){return cv=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return is("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ov(t,new tv);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function fv(e){return hv.apply(this,arguments)}function hv(){return hv=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return is("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,uv(t,new nv);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(e){return fv(e).then((function(e){return e.syncEngine}))}function pv(e){return vv.apply(this,arguments)}function vv(){return vv=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fv(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Cp.bind(null,n.syncEngine),r.onUnlisten=Ip.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),vv.apply(this,arguments)}var mv=new Map;function yv(e,t,n){if(!n)throw new hs(fs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gv(e){if(!Ps.isDocumentKey(e))throw new hs(fs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function kv(e){if(Ps.isDocumentKey(e))throw new hs(fs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ss()}function _v(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hs(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bv(e);throw new hs(fs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var wv=function(){function e(t){var n;if(Ut(this,e),void 0===t.host){if(void 0!==t.ssl)throw new hs(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hs(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new hs(fs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Vt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Sv=function(){function e(t,n,r,i){Ut(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1}return Vt(e,[{key:"app",get:function(){if(!this._app)throw new hs(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new hs(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vs;switch(e.type){case"gapi":var t=e.client;return new ks(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hs(fs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=mv.get(e);t&&(is("ComponentProvider","Removing Datastore"),mv.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Cv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=_v(e,Sv))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&as("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=es.MOCK_USER;else{a=dn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new hs(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new es(s)}e._authCredentials=new ms(new ps(a,u))}}var Ev=function(){function e(t,n,r){Ut(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Vt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new xv(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Tv=function(){function e(t,n,r){Ut(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Vt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),xv=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i){var o;return Ut(this,n),(o=t.call(this,e,r,sc(i)))._path=i,o.type="collection",o}return Vt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ev(this.firestore,null,new Ps(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Tv);function Iv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dn(e),yv("collection","path",t),e instanceof Sv){var o=Ns.fromString.apply(Ns,[t].concat(r));return kv(o),new xv(e,null,o)}if(!(e instanceof Ev||e instanceof xv))throw new hs(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Ns.fromString.apply(Ns,[t].concat(r)));return kv(a),new xv(e.firestore,null,a)}var Nv=function(){function e(){var t=this;Ut(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new ld(this,"async_queue_retry"),this.Hc=function(){var e=ud();e&&is("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=ud();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Vt(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=ud();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new ds;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=a(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zs(e.t0)){e.next=12;break}throw e.t0;case 12:is("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw os("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=rp.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&ss()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=Ft(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ft(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function Av(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ft(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var Rv=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o){var a;return Ut(this,n),(a=t.call(this,e,r,i,o)).type="firestore",a._queue=new Nv,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return Vt(n,[{key:"_terminate",value:function(){return this._firestoreClient||Dv(this),this._firestoreClient.terminate()}}]),n}(Sv);function Pv(e){return e._firestoreClient||Dv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Dv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ws(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new iv(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Ov=function(){function e(t){Ut(this,e),this._byteString=t}return Vt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(el.fromBase64String(t))}catch(t){throw new hs(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(el.fromUint8Array(t))}}]),e}(),Mv=function(){function e(){Ut(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hs(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rs(n)}return Vt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Lv=Vt((function e(t){Ut(this,e),this._methodName=t})),Fv=function(){function e(t,n){if(Ut(this,e),!isFinite(t)||t<-90||t>90)throw new hs(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hs(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Vt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cs(this._lat,e._lat)||Cs(this._long,e._long)}}]),e}(),Uv=/^__.*__$/,jv=function(){function e(t,n,r){Ut(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Vt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}]),e}();function zv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ss()}}var Vv=function(){function e(t,n,r,i,o,a){Ut(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ia(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Vt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return em(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(zv(this.ra)&&Uv.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),Bv=function(){function e(t,n,r){Ut(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||sd(t)}return Vt(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vv({ra:e,methodName:t,_a:n,path:Rs.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function Zv(e){var t=e._freezeSettings(),n=sd(e._databaseId);return new Bv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qv(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.wa(o.merge||o.mergeFields?2:0,t,n,i);$v("Data must be an object, but it was:",a,r);var u,s,l=Gv(r,a);if(o.merge)u=new Yl(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){var c,f=[],h=Ft(o.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=Yv(t,c.value,n);if(!a.contains(d))throw new hs(fs.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));tm(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Yl(f),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new jv(new Xl(l),u,s)}var Wv=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"_toFieldTransform",value:function(e){return new jc(e.path,new Rc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Lv);function Hv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Kv(n,e.wa(r?4:3,t))}function Kv(e,t){if(Qv(e=Dn(e)))return $v("Unsupported field value:",t,e),Gv(e,t);if(e instanceof Lv)return function(e,t){if(!zv(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=Ft(e);try{for(o.s();!(n=o.n()).done;){var a=Kv(n.value,t.la(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(u){o.e(u)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Dn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Tc(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ts.fromDate(e);return{timestampValue:Mf(t.Tt,n)}}if(e instanceof Ts){var r=new Ts(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mf(t.Tt,r)}}if(e instanceof Fv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ov)return{bytesValue:Lf(t.Tt,e._byteString)};if(e instanceof Ev){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.fa("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(bv(e)))}(e,t)}function Gv(e,t){var n={};return Qs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gs(e,(function(e,r){var i=Kv(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Qv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ts||e instanceof Fv||e instanceof Ov||e instanceof Ev||e instanceof Lv)}function $v(e,t,n){if(!Qv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=bv(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function Yv(e,t,n){if((t=Dn(t))instanceof Mv)return t._internalPath;if("string"==typeof t)return Jv(e,t);throw em("Field path arguments must be of type string or ",e,!1,void 0,n)}var Xv=new RegExp("[~\\*/\\[\\]]");function Jv(e,t,n){if(t.search(Xv)>=0)throw em("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ht(Mv,(0,I.Z)(t.split(".")))._internalPath}catch(r){throw em("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function em(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field ".concat(r)),a&&(s+=" in document ".concat(i)),s+=")"),new hs(fs.INVALID_ARGUMENT,u+e+s)}function tm(e,t){return e.some((function(e){return e.isEqual(t)}))}var nm=function(){function e(t,n,r,i,o){Ut(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Vt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ev(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(im("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rm=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"data",value:function(){return Kr(Zt(n.prototype),"data",this).call(this)}}]),n}(nm);function im(e,t){return"string"==typeof t?Jv(e,t):t instanceof Mv?t._internalPath:t._delegate._internalPath}function om(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hs(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var am=Vt((function e(){Ut(this,e)})),um=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n)}(am);var sm=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i){var o;return Ut(this,n),(o=t.call(this))._field=e,o._op=r,o._value=i,o.type="where",o}return Vt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return dm(e._query,t),new Tv(e.firestore,e.converter,vc(e._query,t))}},{key:"_parse",value:function(e){var t=Zv(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new hs(fs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){hm(a,o);var s,l=[],c=Ft(a);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(fm(r,e,f))}}catch(h){c.e(h)}finally{c.f()}u={arrayValue:{values:l}}}else u=fm(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hm(a,o),u=Hv(n,"where",a,"in"===o||"not-in"===o);return Il.create(i,o,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(um);var lm=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Vt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Nl.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Ft(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var o=n.value;dm(r,o),r=vc(r,o)}}catch(a){i.e(a)}finally{i.f()}}(e._query,t),new Tv(e.firestore,e.converter,vc(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(am);var cm=function(e){Bt(n,e);var t=Wt(n);function n(e,r){var i;return Ut(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Vt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ql(t,n);return function(e,t){if(null===cc(e)){var n=fc(e);null!==n&&pm(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Tv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ac(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(um);function fm(e,t,n){if("string"==typeof(n=Dn(n))){if(""===n)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hc(t)&&-1!==n.indexOf("/"))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ns.fromString(n));if(!Ps.isDocumentKey(r))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ml(e,new Ps(r))}if(n instanceof Ev)return ml(e,n._key);throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bv(n),"."))}function hm(e,t){if(!Array.isArray(e)||0===e.length)throw new hs(fs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dm(e,t){if(t.isInequality()){var n=fc(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=cc(e);null!==i&&pm(e,r,i)}var o=function(e,t){var n,r=Ft(e);try{for(r.s();!(n=r.n()).done;){var i,o=Ft(n.value.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.indexOf(a.op)>=0)return a.op}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new hs(fs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hs(fs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(o.toString(),"' filters."))}function pm(e,t,n){if(!n.isEqual(t))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vm=function(){function e(){Ut(this,e)}return Vt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ss()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Gs(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Fv(rl(e.latitude),rl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=al(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ul(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=nl(e);return new Ts(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ns.fromString(e);ls(ah(n));var r=new Hs(n.get(1),n.get(3)),i=new Ps(n.popFirst(5));return r.isEqual(t)||os("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ym=function(){function e(t,n){Ut(this,e),this.hasPendingWrites=t,this.fromCache=n}return Vt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gm=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o,a,u){var s;return Ut(this,n),(s=t.call(this,e,r,i,o,u))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return Vt(n,[{key:"exists",value:function(){return Kr(Zt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(im("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nm),km=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kr(Zt(n.prototype),"data",this).call(this,e)}}]),n}(gm),bm=function(){function e(t,n,r,i){Ut(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ym(i.hasPendingWrites,i.fromCache),this.query=r}return Vt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new km(n._firestore,n._userDataWriter,r.key,r,new ym(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hs(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new km(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ym(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new km(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ym(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:_m(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function _m(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ss()}}var wm=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this)).firestore=e,r}return Vt(n,[{key:"convertBytes",value:function(e){return new Ov(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ev(this.firestore,null,t)}}]),n}(vm);function Sm(e,t){var n=_v(e.firestore,Rv),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dn(e),1===arguments.length&&(t=Ss.R()),yv("doc","path",t),e instanceof Sv){var o=Ns.fromString.apply(Ns,[t].concat(r));return gv(o),new Ev(e,null,new Ps(o))}if(!(e instanceof Ev||e instanceof xv))throw new hs(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Ns.fromString.apply(Ns,[t].concat(r)));return gv(a),new Ev(e.firestore,e instanceof xv?e.converter:null,new Ps(a))}(e),i=mm(e.converter,t);return Cm(n,[qv(Zv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vc.exists(!1))]).then((function(){return r}))}function Cm(e,t){return function(e,t){var n=new ds;return e.asyncQueue.enqueueAndForget(a(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ap,r.next=3,dv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Pv(e),t)}function Em(e,t,n){var r=n.docs.get(t._key),i=new wm(e);return new gm(e,i,t._key,r,new ym(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ts=e}(xr),wr(new On("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,o=e.getProvider("app").getImmediate(),a=new Rv(new ys(e.getProvider("auth-internal")),new _s(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hs(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hs(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Ar(Ju,"3.9.0",e),Ar(Ju,"3.9.0","esm2017")}();var Tm="@firebase/database",xm="0.14.4",Im="";var Nm=function(){function e(t){Ut(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Vt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wn(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:_n(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Am=function(){function e(){Ut(this,e),this.cache_={},this.isInMemoryStorage=!0}return Vt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Cn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Rm=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Nm(t)}}catch(n){}return new Am},Pm=Rm("localStorage"),Dm=Rm("sessionStorage"),Om=new Wn("@firebase/database"),Mm=function(){var e=1;return function(){return e++}}(),Lm=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Yt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new An;n.update(t);var r=n.digest();return en.encodeByteArray(r)},Fm=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?wn(r):r,t+=" "}return t},Um=null,jm=!0,zm=function(e,t){Yt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Om.logLevel=Un.VERBOSE,Um=Om.log.bind(Om),t&&Dm.set("logging_enabled",!0)):"function"===typeof e?Um=e:(Um=null,Dm.remove("logging_enabled"))},Vm=function(){if(!0===jm&&(jm=!1,null===Um&&!0===Dm.get("logging_enabled")&&zm(!0)),Um){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Fm.apply(null,t);Um(r)}},Bm=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Vm.apply(void 0,[e].concat(n))}},Zm=function(){var e="FIREBASE INTERNAL ERROR: "+Fm.apply(void 0,arguments);Om.error(e)},qm=function(){var e="FIREBASE FATAL ERROR: ".concat(Fm.apply(void 0,arguments));throw Om.error(e),new Error(e)},Wm=function(){var e="FIREBASE WARNING: "+Fm.apply(void 0,arguments);Om.warn(e)},Hm=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Km="[MIN_NAME]",Gm="[MAX_NAME]",Qm=function(e,t){if(e===t)return 0;if(e===Km||t===Gm)return-1;if(t===Km||e===Gm)return 1;var n=ry(e),r=ry(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},$m=function(e,t){return e===t?0:e<t?-1:1},Ym=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+wn(t))},Xm=function e(t){if("object"!==typeof t||null===t)return wn(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=wn(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},Jm=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ey(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var ty=function(e){Yt(!Hm(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(o=52;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var ny=new RegExp("^-?(0*)\\d{1,10}$"),ry=function(e){if(ny.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},iy=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Wm("Exception was thrown by user callback.",e),t}),Math.floor(0))}},oy=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},ay=function(){function e(t,n){var r=this;Ut(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Vt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Wm('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),uy=function(){function e(t,n,r){var i=this;Ut(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Vt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Vm("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wm(e)}}]),e}(),sy=function(){function e(t){Ut(this,e),this.accessToken=t}return Vt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();sy.OWNER="owner";var ly="5",cy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fy="ac",hy="websocket",dy="long_polling",py=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Ut(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pm.get("host:"+t)||this._host}return Vt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pm.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function vy(e,t,n){var r;if(Yt("string"===typeof t,"typeof type must == string"),Yt("object"===typeof n,"typeof params must == object"),t===hy)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==dy)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return ey(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var my=function(){function e(){Ut(this,e),this.counters_={}}return Vt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return an(this.counters_)}}]),e}(),yy={},gy={};function ky(e){var t=e.toString();return yy[t]||(yy[t]=new my),yy[t]}var by=function(){function e(t){Ut(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Vt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&iy((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),_y="start",wy=function(){function e(t,n,r,i,o,a,u){var s=this;Ut(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bm(t),this.stats_=ky(n),this.urlFn=function(e){return s.appCheckToken&&(e[fy]=s.appCheckToken),vy(n,dy,e)}}return Vt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new by(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(mn()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Sy((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===_y)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[_y]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ly,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[fy]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&cy.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=wn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=nn(t),r=Jm(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!mn()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=wn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!mn()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Sy=function(){function e(t,n,r,i){if(Ut(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,mn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Mm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Vm("frame writing exception"),u.stack&&Vm(u.stack),Vm(u)}}}return Vt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;mn()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Vm("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Vm("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Cy=null;"undefined"!==typeof MozWebSocket?Cy=MozWebSocket:"undefined"!==typeof WebSocket&&(Cy=WebSocket);var Ey=function(){function e(t,n,r,i,o,a,u){Ut(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bm(this.connId),this.stats_=ky(n),this.connURL=e.connectionURL_(n,a,u,i,r),this.nodeAdmin=n.nodeAdmin}return Vt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pm.set("previous_websocket_failure",!0);try{var r;if(mn()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(ly,"/").concat(Im,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={NODE_ENV:"production",PUBLIC_URL:"/Messenger-Clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Cy(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Pm.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=_n(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Yt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=wn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Jm(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var o={};return o.v=ly,!mn()&&"undefined"!==typeof location&&location.hostname&&cy.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[fy]=r),i&&(o.p=i),vy(e,hy,o)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Cy&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Pm.isInMemoryStorage||!0===Pm.get("previous_websocket_failure")}}]),e}();Ey.responsesRequiredToBeHealthy=2,Ey.healthyTimeout=3e4;var Ty=function(){function e(t){Ut(this,e),this.initTransports_(t)}return Vt(e,[{key:"initTransports_",value:function(t){var n=Ey&&Ey.isAvailable(),r=n&&!Ey.previouslyFailed();if(t.webSocketOnly&&(n||Wm("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ey];else{var i,o=this.transports_=[],a=Ft(e.ALL_TRANSPORTS);try{for(a.s();!(i=a.n()).done;){var u=i.value;u&&u.isAvailable()&&o.push(u)}}catch(s){a.e(s)}finally{a.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[wy,Ey]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Ty.globalTransportInitialized_=!1;var xy=function(){function e(t,n,r,i,o,a,u,s,l,c){Ut(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bm("c:"+this.id+":"),this.transportManager_=new Ty(n),this.log_("Connection created"),this.start_()}return Vt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=oy((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Ym("t",e),n=Ym("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Ym("t",e),n=Ym("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Ym("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Zm("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zm("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ly!==n&&Wm("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),oy((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oy((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Iy=function(){function e(){Ut(this,e)}return Vt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Ny=function(){function e(t){Ut(this,e),this.allowedEvents_=t,this.listeners_={},Yt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Vt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,I.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].callback.apply(t[o].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Yt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Ay=function(e){Bt(n,e);var t=Wt(n);function n(){var e;return Ut(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||vn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Vt(n,[{key:"getInitialEvent",value:function(e){return Yt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ny),Ry=32,Py=768,Dy=function(){function e(t,n){if(Ut(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Vt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Oy(){return new Dy("")}function My(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ly(e){return e.pieces_.length-e.pieceNum_}function Fy(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Dy(e.pieces_,t)}function Uy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function jy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function zy(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Dy(t,0)}function Vy(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Dy)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var o=t.split("/"),a=0;a<o.length;a++)o[a].length>0&&n.push(o[a]);return new Dy(n,0)}function By(e){return e.pieceNum_>=e.pieces_.length}function Zy(e,t){var n=My(e),r=My(t);if(null===n)return t;if(n===r)return Zy(Fy(e),Fy(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function qy(e,t){if(Ly(e)!==Ly(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wy(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ly(e)>Ly(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Hy=Vt((function e(t,n){Ut(this,e),this.errorPrefix_=n,this.parts_=jy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Pn(this.parts_[r]);Ky(this)}));function Ky(e){if(e.byteLength_>Py)throw new Error(e.errorPrefix_+"has a key path longer than "+Py+" bytes ("+e.byteLength_+").");if(e.parts_.length>Ry)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ry+") or object contains a cycle "+Gy(e))}function Gy(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Qy=function(e){Bt(n,e);var t=Wt(n);function n(){var e,r,i;return Ut(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Vt(n,[{key:"getInitialEvent",value:function(e){return Yt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ny),$y=1e3,Yy=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o,a,u,s,l){var c;if(Ut(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=u,c.appCheckTokenProvider_=s,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Bm("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=$y,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!mn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Qy.getInstance().on("visible",c.onVisible_,we(c)),-1===e.host.indexOf("fblocal")&&Ay.getInstance().on("online",c.onOnline_,we(c)),c}return Vt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(wn(i)),Yt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new hn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Yt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Yt(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var u=a.d,s=a.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(o))===e&&(t.log_("listen response",a),"ok"!==s&&t.removeListen_(i,o),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Sn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Sn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Yt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+wn(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Zm("Unrecognized action received from server: "+wn(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Yt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$y,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$y,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$y),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=a(i().mark((function e(){var t,r,o,a,s,l,c,f,h,d,p,v,m,y,g=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,l=!1,c=null,f=function(){c?c.close():(l=!0,o())},h=function(e){Yt(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:f,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=(0,u.Z)(p,2),m=v[0],y=v[1],l?Vm("getToken() completed but was canceled"):(Vm("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new xy(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,(function(e){Wm(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),l||(this.repoInfo_.nodeAdmin&&Wm(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Vm("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Vm("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tn(this.interruptReasons_)&&(this.reconnectDelay_=$y,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Xm(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Dy(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Vm("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Vm("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Ft(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Ft(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";mn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Im.replace(/\./g,"-")]=1,vn()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Ay.getInstance().currentlyOnline();return Tn(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Cn(e,"w")){var n=En(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Wm("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Iy);Yy.nextPersistentConnectionId_=0,Yy.nextConnectionId_=0;var Xy,Jy=function(){function e(t,n){Ut(this,e),this.name=t,this.node=n}return Vt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),eg=function(){function e(){Ut(this,e)}return Vt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Jy(Km,e),r=new Jy(Km,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Jy.MIN}}]),e}(),tg=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"compare",value:function(e,t){return Qm(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Xt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Jy.MIN}},{key:"maxPost",value:function(){return new Jy(Gm,Xy)}},{key:"makePost",value:function(e,t){return Yt("string"===typeof e,"KeyIndex indexValue must always be a string."),new Jy(e,Xy)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Xy},set:function(e){Xy=e}}]),n}(eg),ng=new tg,rg=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Ut(this,e),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Vt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ig=function(){function e(t,n,r,i,o){Ut(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ug.EMPTY_NODE,this.right=null!=o?o:ug.EMPTY_NODE}return Vt(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ug.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ug.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ig.RED=!0,ig.BLACK=!1;var og,ag=function(){function e(){Ut(this,e)}return Vt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ig(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ug=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Ut(this,e),this.comparator_=t,this.root_=n}return Vt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ig.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ig.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new rg(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new rg(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new rg(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new rg(this.root_,null,this.comparator_,!0,e)}}]),e}();function sg(e,t){return Qm(e.name,t.name)}function lg(e,t){return Qm(e,t)}ug.EMPTY_NODE=new ag;var cg,fg,hg,dg=function(e){return"number"===typeof e?"number:"+ty(e):"string:"+e},pg=function(e){if(e.isLeafNode()){var t=e.val();Yt("string"===typeof t||"number"===typeof t||"object"===typeof t&&Cn(t,".sv"),"Priority must be a string or number.")}else Yt(e===og||e.isEmpty(),"priority of unexpected type.");Yt(e===og||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},vg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Ut(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Yt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),pg(this.priorityNode_)}return Vt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return By(t)?this:".priority"===My(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=My(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Yt(".priority"!==r||1===Ly(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fy(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+dg(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?ty(this.value_):this.value_,this.lazyHash_=Lm(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Yt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Yt(i>=0,"Unknown leaf type: "+n),Yt(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return cg},set:function(e){cg=e}}]),e}();vg.VALUE_TYPE_ORDER=["object","boolean","number","string"];var mg,yg,gg=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Qm(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Jy.MIN}},{key:"maxPost",value:function(){return new Jy(Gm,new vg("[PRIORITY-POST]",hg))}},{key:"makePost",value:function(e,t){var n=fg(e);return new Jy(t,new vg("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(eg),kg=new gg,bg=Math.log(2),_g=function(){function e(t){Ut(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/bg,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Vt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),wg=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,u=i-r;if(0===u)return null;if(1===u)return o=e[r],a=n?n(o):o,new ig(a,o.node,ig.BLACK,null,null);var s=parseInt(u/2,10)+r,l=t(r,s),c=t(s+1,i);return o=e[s],a=n?n(o):o,new ig(a,o.node,ig.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,u=function(t,r){var o=a-t,u=a;a-=t;var l=i(o+1,u),c=e[o],f=n?n(c):c;s(new ig(f,c.node,r,null,l))},s=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?u(f,ig.BLACK):(u(f,ig.BLACK),u(f,ig.RED))}return o}(new _g(e.length));return new ug(r||t,o)},Sg={},Cg=function(){function e(t,n){Ut(this,e),this.indexes_=t,this.indexSet_=n}return Vt(e,[{key:"get",value:function(e){var t=En(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ug?t:null}},{key:"hasIndex",value:function(e){return Cn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Yt(t!==ng,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(Jy.Wrap),u=a.getNext();u;)o=o||t.isDefinedOn(u.node),i.push(u),u=a.getNext();r=o?wg(i,t.getCompare()):Sg;var s=t.toString(),l=Object.assign({},this.indexSet_);l[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(xn(this.indexes_,(function(e,i){var o=En(r.indexSet_,i);if(Yt(o,"Missing index implementation for "+i),e===Sg){if(o.isDefinedOn(t.node)){for(var a=[],u=n.getIterator(Jy.Wrap),s=u.getNext();s;)s.name!==t.name&&a.push(s),s=u.getNext();return a.push(t),wg(a,o.getCompare())}return Sg}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Jy(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(xn(this.indexes_,(function(e){if(e===Sg)return e;var r=n.get(t.name);return r?e.remove(new Jy(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Yt(Sg&&kg,"ChildrenNode.ts has not been loaded"),mg=mg||new e({".priority":Sg},{".priority":kg})}}]),e}(),Eg=function(){function e(t,n,r){Ut(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pg(this.priorityNode_),this.children_.isEmpty()&&Yt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Vt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||yg}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?yg:t}},{key:"getChild",value:function(e){var t=My(e);return null===t?this:this.getImmediateChild(t).getChild(Fy(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Yt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,o=new Jy(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(o,this.children_));var a=r.isEmpty()?yg:this.priorityNode_;return new e(r,a,i)}},{key:"updateChild",value:function(e,t){var n=My(e);if(null===n)return t;Yt(".priority"!==My(e)||1===Ly(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Fy(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kg,(function(a,u){n[a]=u.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+dg(this.getPriority().val())+":"),this.forEachChild(kg,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Lm(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Jy(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Jy(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Jy(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Jy.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Jy.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tg?-1:0}},{key:"withIndex",value:function(t){if(t===ng||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===ng||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(kg),r=t.getIterator(kg),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===ng?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return yg||(yg=new e(new ug(lg),null,Cg.Default))}}]),e}();Eg.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Tg=new(function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.call(this,new ug(lg),Eg.EMPTY_NODE,Cg.Default)}return Vt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Eg.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Eg));Object.defineProperties(Jy,{MIN:{value:new Jy(Km,Eg.EMPTY_NODE)},MAX:{value:new Jy(Gm,Tg)}}),tg.__EMPTY_NODE=Eg.EMPTY_NODE,vg.__childrenNodeConstructor=Eg,og=Tg,function(e){hg=e}(Tg);var xg=!0;function Ig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Eg.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Yt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new vg(e,Ig(t));if(e instanceof Array||!xg){var n=Eg.EMPTY_NODE;return ey(e,(function(t,r){if(Cn(e,t)&&"."!==t.substring(0,1)){var i=Ig(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Ig(t))}var r=[],i=!1;if(ey(e,(function(e,t){if("."!==e.substring(0,1)){var n=Ig(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Jy(e,n)))}})),0===r.length)return Eg.EMPTY_NODE;var o=wg(r,sg,(function(e){return e.name}),lg);if(i){var a=wg(r,kg.getCompare());return new Eg(o,Ig(t),new Cg({".priority":a},{".priority":kg}))}return new Eg(o,Ig(t),Cg.Default)}!function(e){fg=e}(Ig);var Ng=function(e){Bt(n,e);var t=Wt(n);function n(e){var r;return Ut(this,n),(r=t.call(this)).indexPath_=e,Yt(!By(e)&&".priority"!==My(e),"Can't create PathIndex with empty path or .priority key"),r}return Vt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Qm(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ig(e),r=Eg.EMPTY_NODE.updateChild(this.indexPath_,n);return new Jy(t,r)}},{key:"maxPost",value:function(){var e=Eg.EMPTY_NODE.updateChild(this.indexPath_,Tg);return new Jy(Gm,e)}},{key:"toString",value:function(){return jy(this.indexPath_,0).join("/")}}]),n}(eg),Ag=function(e){Bt(n,e);var t=Wt(n);function n(){return Ut(this,n),t.apply(this,arguments)}return Vt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Qm(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Jy.MIN}},{key:"maxPost",value:function(){return Jy.MAX}},{key:"makePost",value:function(e,t){var n=Ig(e);return new Jy(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(eg),Rg=new Ag;function Pg(e){return{type:"value",snapshotNode:e}}function Dg(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Og(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Mg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Lg=function(){function e(){Ut(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kg}return Vt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Yt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Yt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Km}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Yt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Yt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gm}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Yt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===kg}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Fg(e){var t,n={};if(e.isDefault())return n;if(e.index_===kg?t="$priority":e.index_===Rg?t="$value":e.index_===ng?t="$key":(Yt(e.index_ instanceof Ng,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=wn(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=wn(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+wn(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=wn(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+wn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Ug(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==kg&&(t.i=e.index_.toString()),t}var jg=function(e){Bt(n,e);var t=Wt(n);function n(e,r,i,o){var a;return Ut(this,n),(a=t.call(this)).repoInfo_=e,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Bm("p:rest:"),a.listens_={},a}return Vt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var l=Fg(e._queryParams);this.restRequest_(a+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),En(o.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Fg(e._queryParams),r=e._path.toString(),i=new hn;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=(0,u.Z)(i,2),a=o[0],s=o[1];a&&a.accessToken&&(n.auth=a.accessToken),s&&s.token&&(n.ac=s.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=(0,u.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=_n(c.responseText)}catch(n){Wm("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Wm("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Yt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Iy),zg=function(){function e(){Ut(this,e),this.rootNode_=Eg.EMPTY_NODE}return Vt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Vg(){return{value:null,children:new Map}}function Bg(e,t,n){if(By(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=My(t);e.children.has(r)||e.children.set(r,Vg()),Bg(e.children.get(r),t=Fy(t),n)}}function Zg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Zg(r,new Dy(t.toString()+"/"+e),n)}))}var qg,Wg=function(){function e(t){Ut(this,e),this.collection_=t,this.last_=null}return Vt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ey(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Hg=function(){function e(t,n){Ut(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Wg(t);var r=1e4+2e4*Math.random();oy(this.reportStats_.bind(this),Math.floor(r))}return Vt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ey(t,(function(t,i){i>0&&Cn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),oy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Kg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(qg||(qg={}));var Gg,Qg=function(){function e(t,n,r){Ut(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=qg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Vt(e,[{key:"operationForChild",value:function(t){if(By(this.path)){if(null!=this.affectedTree.value)return Yt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Dy(t));return new e(Oy(),n,this.revert)}return Yt(My(this.path)===t,"operationForChild called for unrelated child."),new e(Fy(this.path),this.affectedTree,this.revert)}}]),e}(),$g=function(){function e(t,n,r){Ut(this,e),this.source=t,this.path=n,this.snap=r,this.type=qg.OVERWRITE}return Vt(e,[{key:"operationForChild",value:function(t){return By(this.path)?new e(this.source,Oy(),this.snap.getImmediateChild(t)):new e(this.source,Fy(this.path),this.snap)}}]),e}(),Yg=function(){function e(t,n,r){Ut(this,e),this.source=t,this.path=n,this.children=r,this.type=qg.MERGE}return Vt(e,[{key:"operationForChild",value:function(t){if(By(this.path)){var n=this.children.subtree(new Dy(t));return n.isEmpty()?null:n.value?new $g(this.source,Oy(),n.value):new e(this.source,Oy(),n)}return Yt(My(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Fy(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Xg=function(){function e(t,n,r){Ut(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Vt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(By(e))return this.isFullyInitialized()&&!this.filtered_;var t=My(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Jg(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Xt("Should only compare child_ events.");var r=new Jy(t.childName,t.snapshotNode),i=new Jy(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ek(e,t){return{eventCache:e,serverCache:t}}function tk(e,t,n,r){return ek(new Xg(t,n,r),e.serverCache)}function nk(e,t,n,r){return ek(e.eventCache,new Xg(t,n,r))}function rk(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ik(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ok=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Gg||(Gg=new ug($m)),Gg);Ut(this,e),this.value=t,this.children=n}return Vt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Oy(),value:this.value};if(By(e))return null;var n=My(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Fy(e),t);return null!=i?{path:Vy(new Dy(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(By(t))return this;var n=My(t),r=this.children.get(n);return null!==r?r.subtree(Fy(t)):new e(null)}},{key:"set",value:function(t,n){if(By(t))return new e(n,this.children);var r=My(t),i=(this.children.get(r)||new e(null)).set(Fy(t),n),o=this.children.insert(r,i);return new e(this.value,o)}},{key:"remove",value:function(t){if(By(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=My(t),r=this.children.get(n);if(r){var i,o=r.remove(Fy(t));return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(By(e))return this.value;var t=My(e),n=this.children.get(t);return n?n.get(Fy(e)):null}},{key:"setTree",value:function(t,n){if(By(t))return n;var r,i=My(t),o=(this.children.get(i)||new e(null)).setTree(Fy(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Oy(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Vy(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Oy(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(By(e))return null;var i=My(e),o=this.children.get(i);return o?o.findOnPath_(Fy(e),Vy(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Oy(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(By(t))return this;this.value&&r(n,this.value);var i=My(t),o=this.children.get(i);return o?o.foreachOnPath_(Fy(t),Vy(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Oy(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Vy(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return ey(t,(function(e,t){n=n.set(new Dy(e),t)})),n}}]),e}(),ak=function(){function e(t){Ut(this,e),this.writeTree_=t}return Vt(e,null,[{key:"empty",value:function(){return new e(new ok(null))}}]),e}();function uk(e,t,n){if(By(t))return new ak(new ok(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Zy(i,t);return o=o.updateChild(a,n),new ak(e.writeTree_.set(i,o))}var u=new ok(n),s=e.writeTree_.setTree(t,u);return new ak(s)}function sk(e,t,n){var r=e;return ey(n,(function(e,n){r=uk(r,Vy(t,e),n)})),r}function lk(e,t){if(By(t))return ak.empty();var n=e.writeTree_.setTree(t,new ok(null));return new ak(n)}function ck(e,t){return null!=fk(e,t)}function fk(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Zy(n.path,t)):null}function hk(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kg,(function(e,n){t.push(new Jy(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Jy(e,n.value))})),t}function dk(e,t){if(By(t))return e;var n=fk(e,t);return new ak(null!=n?new ok(n):e.writeTree_.subtree(t))}function pk(e){return e.writeTree_.isEmpty()}function vk(e,t){return mk(Oy(),e.writeTree_,t)}function mk(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Yt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=mk(Vy(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Vy(e,".priority"),r)),n}function yk(e,t){return Ak(t,e)}function gk(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Yt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var u=e.allWrites[a];u.visible&&(a>=n&&kk(u,r.path)?i=!1:Wy(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=_k(e.allWrites,bk,Oy()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=lk(e.visibleWrites,r.path):ey(r.children,(function(t){e.visibleWrites=lk(e.visibleWrites,Vy(r.path,t))}));return!0}return!1}function kk(e,t){if(e.snap)return Wy(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Wy(Vy(e.path,n),t))return!0;return!1}function bk(e){return e.visible}function _k(e,t,n){for(var r=ak.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,u=void 0;if(o.snap)Wy(n,a)?r=uk(r,u=Zy(n,a),o.snap):Wy(a,n)&&(u=Zy(a,n),r=uk(r,Oy(),o.snap.getChild(u)));else{if(!o.children)throw Xt("WriteRecord should have .snap or .children");if(Wy(n,a))r=sk(r,u=Zy(n,a),o.children);else if(Wy(a,n))if(By(u=Zy(a,n)))r=sk(r,Oy(),o.children);else{var s=En(o.children,My(u));if(s){var l=s.getChild(Fy(u));r=uk(r,Oy(),l)}}}}}return r}function wk(e,t,n,r,i){if(r||i){var o=dk(e.visibleWrites,t);if(!i&&pk(o))return n;if(i||null!=n||ck(o,Oy())){return vk(_k(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Wy(e.path,t)||Wy(t,e.path))}),t),n||Eg.EMPTY_NODE)}return null}var a=fk(e.visibleWrites,t);if(null!=a)return a;var u=dk(e.visibleWrites,t);return pk(u)?n:null!=n||ck(u,Oy())?vk(u,n||Eg.EMPTY_NODE):null}function Sk(e,t,n,r){return wk(e.writeTree,e.treePath,t,n,r)}function Ck(e,t){return function(e,t,n){var r=Eg.EMPTY_NODE,i=fk(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(kg,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=dk(e.visibleWrites,t);return n.forEachChild(kg,(function(e,t){var n=vk(dk(o,new Dy(e)),t);r=r.updateImmediateChild(e,n)})),hk(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return hk(dk(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ek(e,t,n,r){return function(e,t,n,r,i){Yt(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Vy(t,n);if(ck(e.visibleWrites,o))return null;var a=dk(e.visibleWrites,o);return pk(a)?i.getChild(n):vk(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Tk(e,t){return function(e,t){return fk(e.visibleWrites,t)}(e.writeTree,Vy(e.treePath,t))}function xk(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var u,s=dk(e.visibleWrites,t),l=fk(s,Oy());if(null!=l)u=l;else{if(null==n)return[];u=vk(s,n)}if((u=u.withIndex(a)).isEmpty()||u.isLeafNode())return[];for(var c=[],f=a.getCompare(),h=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Ik(e,t,n){return function(e,t,n,r){var i=Vy(t,n),o=fk(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?vk(dk(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Nk(e,t){return Ak(Vy(e.treePath,t),e.writeTree)}function Ak(e,t){return{treePath:e,writeTree:t}}var Rk=function(){function e(){Ut(this,e),this.changeMap=new Map}return Vt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Yt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Yt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Mg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Og(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Dg(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Xt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Mg(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Pk=new(function(){function e(){Ut(this,e)}return Vt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Dk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ut(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Vt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Xg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ik(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ik(this.viewCache_),i=xk(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Ok(e,t,n,r,i){var o,a,u=new Rk;if(n.type===qg.OVERWRITE){var s=n;s.source.fromUser?o=Fk(e,t,s.path,s.snap,r,i,u):(Yt(s.source.fromServer,"Unknown source."),a=s.source.tagged||t.serverCache.isFiltered()&&!By(s.path),o=Lk(e,t,s.path,s.snap,r,i,a,u))}else if(n.type===qg.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,a){var u=t;return r.foreach((function(r,s){var l=Vy(n,r);Uk(t,My(l))&&(u=Fk(e,u,l,s,i,o,a))})),r.foreach((function(r,s){var l=Vy(n,r);Uk(t,My(l))||(u=Fk(e,u,l,s,i,o,a))})),u}(e,t,l.path,l.children,r,i,u):(Yt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=zk(e,t,l.path,l.children,r,i,a,u))}else if(n.type===qg.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var a;if(null!=Tk(r,n))return t;var u,s=new Dk(r,t,i),l=t.eventCache.getNode();if(By(n)||".priority"===My(n)){var c;if(t.serverCache.isFullyInitialized())c=Sk(r,ik(t));else{var f=t.serverCache.getNode();Yt(f instanceof Eg,"serverChildren would be complete if leaf node"),c=Ck(r,f)}u=e.filter.updateFullNode(l,c,o)}else{var h=My(n),d=Ik(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(l,h,d,Fy(n),s,o):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,Eg.EMPTY_NODE,Fy(n),s,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Sk(r,ik(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,a,o))}return a=t.serverCache.isFullyInitialized()||null!=Tk(r,Oy()),tk(t,u,a,e.filter.filtersNodes())}(e,t,c.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Tk(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(By(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Lk(e,t,n,s.getNode().getChild(n),i,o,u,a);if(By(n)){var l=new ok(null);return s.getNode().forEachChild(ng,(function(e,t){l=l.set(new Dy(e),t)})),zk(e,t,n,l,i,o,u,a)}return t}var c=new ok(null);return r.foreach((function(e,t){var r=Vy(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),zk(e,t,n,c,i,o,u,a)}(e,t,c.path,c.affectedTree,r,i,u)}else{if(n.type!==qg.LISTEN_COMPLETE)throw Xt("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=nk(t,o.getNode(),o.isFullyInitialized()||By(n),o.isFiltered());return Mk(e,a,n,r,Pk,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=rk(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Pg(rk(t)))}}(t,o,f),{viewCache:o,changes:f}}function Mk(e,t,n,r,i,o){var a,u,s=t.eventCache;if(null!=Tk(r,n))return t;if(By(n))if(Yt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=ik(t),c=Ck(r,l instanceof Eg?l:Eg.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var f=Sk(r,ik(t));a=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var h=My(n);if(".priority"===h){Yt(1===Ly(n),"Can't have a priority with additional path components");var d=s.getNode(),p=Ek(r,n,d,u=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,m=Fy(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var y=Ek(r,n,s.getNode(),u);v=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else v=Ik(r,h,t.serverCache);a=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,o):s.getNode()}}return tk(t,a,s.isFullyInitialized()||By(n),e.filter.filtersNodes())}function Lk(e,t,n,r,i,o,a,u){var s,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(By(n))s=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);s=c.updateFullNode(l.getNode(),f,null)}else{var h=My(n);if(!l.isCompleteForPath(n)&&Ly(n)>1)return t;var d=Fy(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,Pk,null)}var v=nk(t,s,l.isFullyInitialized()||By(n),c.filtersNodes());return Mk(e,v,n,i,new Dk(i,v,o),u)}function Fk(e,t,n,r,i,o,a){var u,s,l=t.eventCache,c=new Dk(i,t,o);if(By(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,a),u=tk(t,s,!0,e.filter.filtersNodes());else{var f=My(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=tk(t,s,l.isFullyInitialized(),l.isFiltered());else{var h,d=Fy(n),p=l.getNode().getImmediateChild(f);if(By(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===Uy(d)&&v.getChild(zy(d)).isEmpty()?v:v.updateChild(d,r):Eg.EMPTY_NODE}if(p.equals(h))u=t;else u=tk(t,e.filter.updateChild(l.getNode(),f,h,d,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Uk(e,t){return e.eventCache.isCompleteForChild(t)}function jk(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function zk(e,t,n,r,i,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,l=t;s=By(n)?r:new ok(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=jk(0,t.serverCache.getNode().getImmediateChild(n),r);l=Lk(e,l,new Dy(n),s,i,o,a,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){var f=jk(0,t.serverCache.getNode().getImmediateChild(n),r);l=Lk(e,l,new Dy(n),f,i,o,a,u)}})),l}var Vk;function Bk(e,t){var n=ik(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!By(t)&&!n.getImmediateChild(My(t)).isEmpty())?n.getChild(t):null}function Zk(e,t,n,r){t.type===qg.MERGE&&null!==t.source.queryId&&(Yt(ik(e.viewCache_),"We should always have a full cache before handling merges"),Yt(rk(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,u=Ok(e.processor_,a,t,n,r);return i=e.processor_,o=u.viewCache,Yt(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Yt(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Yt(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,qk(e,u.changes,u.viewCache.eventCache.getNode(),null)}function qk(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Jg(e,i,"child_removed",t,r,n),Jg(e,i,"child_added",t,r,n),Jg(e,i,"child_moved",o,r,n),Jg(e,i,"child_changed",t,r,n),Jg(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Wk;function Hk(e,t,n,r){var i=t.source.queryId;if(null!==i){var o=e.views.get(i);return Yt(null!=o,"SyncTree gave us an op for an invalid query."),Zk(o,t,n,r)}var a,u=[],s=Ft(e.views.values());try{for(s.s();!(a=s.n()).done;){var l=a.value;u=u.concat(Zk(l,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return u}function Kk(e,t){var n,r=null,i=Ft(e.views.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r||Bk(o,t)}}catch(a){i.e(a)}finally{i.f()}return r}var Gk=Vt((function e(t){Ut(this,e),this.listenProvider_=t,this.syncPointTree_=new ok(null),this.pendingWriteTree_={visibleWrites:ak.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Qk(e,t,n,r,i){return function(e,t,n,r,i){Yt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=uk(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?eb(e,new $g({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(gk(e.pendingWriteTree_,t)){var i=new ok(null);return null!=r.snap?i=i.set(Oy(),!0):ey(r.children,(function(e){i=i.set(new Dy(e),!0)})),eb(e,new Qg(r.path,i,n))}return[]}function Yk(e,t,n){return eb(e,new $g({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xk(e,t,n,r){var i=rb(e,r);if(null!=i){var o=ib(i),a=o.path,u=o.queryId,s=Zy(a,t);return ob(e,a,new $g(Kg(u),s,n))}return[]}function Jk(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Kk(n,Zy(e,t));if(r)return r}));return wk(r,t,i,n,!0)}function eb(e,t){return tb(t,e.syncPointTree_,null,yk(e.pendingWriteTree_,Oy()))}function tb(e,t,n,r){if(By(e.path))return nb(e,t,n,r);var i=t.get(Oy());null==n&&null!=i&&(n=Kk(i,Oy()));var o=[],a=My(e.path),u=e.operationForChild(a),s=t.children.get(a);if(s&&u){var l=n?n.getImmediateChild(a):null,c=Nk(r,a);o=o.concat(tb(u,s,l,c))}return i&&(o=o.concat(Hk(i,e,r,n))),o}function nb(e,t,n,r){var i=t.get(Oy());null==n&&null!=i&&(n=Kk(i,Oy()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,u=Nk(r,t),s=e.operationForChild(t);s&&(o=o.concat(nb(s,i,a,u)))})),i&&(o=o.concat(Hk(i,e,r,n))),o}function rb(e,t){return e.tagToQueryMap.get(t)}function ib(e){var t=e.indexOf("$");return Yt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Dy(e.substr(0,t))}}function ob(e,t,n){var r=e.syncPointTree_.get(t);return Yt(r,"Missing sync point for query tag that we're tracking"),Hk(r,n,yk(e.pendingWriteTree_,t),null)}var ab=function(){function e(t){Ut(this,e),this.node_=t}return Vt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ub=function(){function e(t,n){Ut(this,e),this.syncTree_=t,this.path_=n}return Vt(e,[{key:"getImmediateChild",value:function(t){var n=Vy(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Jk(this.syncTree_,this.path_)}}]),e}(),sb=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},lb=function(e,t,n){return e&&"object"===typeof e?(Yt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?cb(e[".sv"],t,n):"object"===typeof e[".sv"]?fb(e[".sv"],t):void Yt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},cb=function(e,t,n){if("timestamp"===e)return n.timestamp;Yt(!1,"Unexpected server value: "+e)},fb=function(e,t,n){e.hasOwnProperty("increment")||Yt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Yt(!1,"Unexpected increment value: "+r);var i=t.node();if(Yt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!==typeof o?r:o+r},hb=function(e,t,n,r){return pb(t,new ub(n,e),r)},db=function(e,t,n){return pb(e,new ab(t),n)};function pb(e,t,n){var r,i=e.getPriority().val(),o=lb(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,u=lb(a.getValue(),t,n);return u!==a.getValue()||o!==a.getPriority().val()?new vg(u,Ig(o)):e}var s=e;return r=s,o!==s.getPriority().val()&&(r=r.updatePriority(new vg(o))),s.forEachChild(kg,(function(e,i){var o=pb(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var vb=Vt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Ut(this,e),this.name=t,this.parent=n,this.node=r}));function mb(e,t){for(var n=t instanceof Dy?t:new Dy(t),r=e,i=My(n);null!==i;){var o=En(r.node.children,i)||{children:{},childCount:0};r=new vb(i,r,o),i=My(n=Fy(n))}return r}function yb(e){return e.node.value}function gb(e,t){e.node.value=t,Sb(e)}function kb(e){return e.node.childCount>0}function bb(e,t){ey(e.node.children,(function(n,r){t(new vb(n,e,r))}))}function _b(e,t,n,r){n&&!r&&t(e),bb(e,(function(e){_b(e,t,!0,r)})),n&&r&&t(e)}function wb(e){return new Dy(null===e.parent?e.name:wb(e.parent)+"/"+e.name)}function Sb(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===yb(e)&&!kb(e)}(n),i=Cn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Sb(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Sb(e))}(e.parent,e.name,e)}var Cb=/[\[\].#$\/\u0000-\u001F\u007F]/,Eb=/[\[\].#$\u0000-\u001F\u007F]/,Tb=10485760,xb=function(e){return"string"===typeof e&&0!==e.length&&!Cb.test(e)},Ib=function(e){return"string"===typeof e&&0!==e.length&&!Eb.test(e)},Nb=function e(t,n,r){var i=r instanceof Dy?new Hy(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Gy(i));if("function"===typeof n)throw new Error(t+"contains a function "+Gy(i)+" with contents = "+n.toString());if(Hm(n))throw new Error(t+"contains "+n.toString()+" "+Gy(i));if("string"===typeof n&&n.length>Tb/3&&Pn(n)>Tb)throw new Error(t+"contains a string greater than "+Tb+" utf8 bytes "+Gy(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(ey(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!xb(n)))throw new Error(t+" contains an invalid key ("+n+") "+Gy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Pn(s),Ky(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Pn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),o&&a)throw new Error(t+' contains ".value" child '+Gy(i)+" in addition to actual children.")}},Ab=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!xb(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ib(e)}(n))throw new Error(Rn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Rb=Vt((function e(){Ut(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Pb(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||qy(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Db(e,t,n){Pb(e,n),Ob(e,(function(e){return Wy(e,t)||Wy(t,e)}))}function Ob(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Mb(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Mb(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Um&&Vm("event: "+n.toString()),iy(r)}}}var Lb="repo_interrupt",Fb=25,Ub=function(){function e(t,n,r,i){Ut(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vg(),this.transactionQueueTree_=new vb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Vt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function jb(e,t,n){if(e.stats_=ky(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new jg(e.repoInfo_,(function(t,n,r,i){Bb(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Zb(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Yy(e.repoInfo_,t,(function(t,n,r,i){Bb(e,t,n,r,i)}),(function(t){Zb(e,t)}),(function(t){!function(e,t){ey(t,(function(t,n){qb(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return gy[n]||(gy[n]=t()),gy[n]}(e.repoInfo_,(function(){return new Hg(e.stats_,e.server_)})),e.infoData_=new zg,e.infoSyncTree_=new Gk({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Yk(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),qb(e,"connected",!1),e.serverSyncTree_=new Gk({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Db(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function zb(e){var t=e.infoData_.getNode(new Dy(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vb(e){return sb({timestamp:zb(e)})}function Bb(e,t,n,r,i){e.dataUpdateCount++;var o=new Dy(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var u=xn(n,(function(e){return Ig(e)}));a=function(e,t,n,r){var i=rb(e,r);if(i){var o=ib(i),a=o.path,u=o.queryId,s=Zy(a,t),l=ok.fromObject(n);return ob(e,a,new Yg(Kg(u),s,l))}return[]}(e.serverSyncTree_,o,u,i)}else{var s=Ig(n);a=Xk(e.serverSyncTree_,o,s,i)}else if(r){var l=xn(n,(function(e){return Ig(e)}));a=function(e,t,n){var r=ok.fromObject(n);return eb(e,new Yg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=Ig(n);a=Yk(e.serverSyncTree_,o,c)}var f=o;a.length>0&&(f=$b(e,o)),Db(e.eventQueue_,f,a)}function Zb(e,t){qb(e,"connected",t),!1===t&&function(e){Kb(e,"onDisconnectEvents");var t=Vb(e),n=Vg();Zg(e.onDisconnect_,Oy(),(function(r,i){var o=hb(r,i,e.serverSyncTree_,t);Bg(n,r,o)}));var r=[];Zg(n,Oy(),(function(t,n){r=r.concat(Yk(e.serverSyncTree_,t,n));var i=t_(e,t);$b(e,i)})),e.onDisconnect_=Vg(),Db(e.eventQueue_,Oy(),r)}(e)}function qb(e,t,n){var r=new Dy("/.info/"+t),i=Ig(n);e.infoData_.updateSnapshot(r,i);var o=Yk(e.infoSyncTree_,r,i);Db(e.eventQueue_,r,o)}function Wb(e){return e.nextWriteId_++}function Hb(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Lb)}function Kb(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Vm.apply(void 0,[t].concat(r))}function Gb(e,t,n){return Jk(e.serverSyncTree_,t,n)||Eg.EMPTY_NODE}function Qb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||e_(e,t),yb(t)){var n=Xb(e,t);Yt(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Gb(e,t,r),o=i,a=i.hash(),u=0;u<n.length;u++){var s=n[u];Yt(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var l=Zy(t,s.path);o=o.updateChild(l,s.currentOutputSnapshotRaw)}var c=o.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){Kb(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat($k(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)a(u);e_(e,mb(e.transactionQueueTree_,t)),Qb(e,e.transactionQueueTree_),Db(e.eventQueue_,t,i);for(var s=0;s<o.length;s++)iy(o[s])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Wm("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}$b(e,t)}}),a)}(e,wb(t),n)}else kb(t)&&bb(t,(function(t){Qb(e,t)}))}function $b(e,t){var n=Yb(e,t),r=wb(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})),a=o.map((function(e){return e.currentWriteId})),u=function(o){var u,s,l=t[o],c=Zy(n,l.path),f=!1;if(Yt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat($k(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Fb)f=!0,u="maxretry",i=i.concat($k(e.serverSyncTree_,l.currentWriteId,!0));else{var h=Gb(e,l.path,a);l.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){Nb("transaction failed: Data returned ",d,l.path);var p=Ig(d);"object"===typeof d&&null!=d&&Cn(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=l.currentWriteId,m=Vb(e),y=db(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Wb(e),a.splice(a.indexOf(v),1),i=(i=i.concat(Qk(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat($k(e.serverSyncTree_,v,!0))}else f=!0,u="nodata",i=i.concat($k(e.serverSyncTree_,l.currentWriteId,!0))}Db(e.eventQueue_,n,i),i=[],f&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===u?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(u),!1,null)}))))},s=0;s<t.length;s++)u(s);e_(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)iy(r[l]);Qb(e,e.transactionQueueTree_)}(e,Xb(e,n),r),r}function Yb(e,t){var n,r=e.transactionQueueTree_;for(n=My(t);null!==n&&void 0===yb(r);)r=mb(r,n),n=My(t=Fy(t));return r}function Xb(e,t){var n=[];return Jb(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Jb(e,t,n){var r=yb(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);bb(t,(function(t){Jb(e,t,n)}))}function e_(e,t){var n=yb(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,gb(t,n.length>0?n:void 0)}bb(t,(function(t){e_(e,t)}))}function t_(e,t){var n=wb(Yb(e,t)),r=mb(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){n_(e,t)})),n_(e,r),_b(r,(function(t){n_(e,t)})),n}function n_(e,t){var n=yb(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Yt(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Yt(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat($k(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?gb(t,void 0):n.length=o+1,Db(e.eventQueue_,wb(t),i);for(var u=0;u<r.length;u++)iy(r[u])}}var r_=function(e,t){var n=i_(e),r=n.namespace;"firebase.com"===n.domain&&qm(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||qm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wm("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new py(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Dy(n.pathString)}},i_=function(e){var t="",n="",r="",i="",o="",a=!0,u="https",s=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Ft(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Wm("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(a){r.e(a)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(a="https"===u||"wss"===u,s=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},o_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a_=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){Ut(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Vt(e,[{key:"key",get:function(){return By(this._path)?null:Uy(this._path)}},{key:"ref",get:function(){return new u_(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Ug(this._queryParams),t=Xm(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Ug(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Dn(t))instanceof e))return!1;var n=this._repo===t._repo,r=qy(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var u_=function(e){Bt(n,e);var t=Wt(n);function n(e,r){return Ut(this,n),t.call(this,e,r,new Lg,!1)}return Vt(n,[{key:"parent",get:function(){var e=zy(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(a_);!function(e){Yt(!Vk,"__referenceConstructor has already been defined"),Vk=e}(u_),function(e){Yt(!Wk,"__referenceConstructor has already been defined"),Wk=e}(u_);var s_="FIREBASE_DATABASE_EMULATOR_HOST",l_={},c_=!1;function f_(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||qm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vm("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var a,u=r_(o,i),s=u.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/Messenger-Clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[s_]),l?(a=!0,o="http://".concat(l,"?ns=").concat(s.namespace),s=(u=r_(o,i)).repoInfo):a=!u.repoInfo.secure;var c=i&&a?new sy(sy.OWNER):new uy(e.name,e.options,t);Ab("Invalid Firebase Database URL",u),By(u.path)||qm("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=l_[t.name];i||(i={},l_[t.name]=i);var o=i[e.toURLString()];o&&qm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Ub(e,c_,n,r),i[e.toURLString()]=o,o}(s,e,c,new ay(e.name,n));return new h_(f,e)}var h_=function(){function e(t,n){Ut(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Vt(e,[{key:"_repo",get:function(){return this._instanceStarted||(jb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new u_(this._repo,Oy())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=l_[t];n&&n[e.key]===e||qm("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Hb(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&qm("Cannot call "+e+" on a deleted database.")}}]),e}();function d_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Dn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&qm("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qm('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new sy(sy.OWNER);else if(r.mockUserToken){var a="string"===typeof r.mockUserToken?r.mockUserToken:dn(r.mockUserToken,e.app.options.projectId);o=new sy(a)}!function(e,t,n,r){e.repoInfo_=new py("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}Yy.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Yy.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Im=e}(xr),wr(new On("database",(function(e,t){var n=t.instanceIdentifier;return f_(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ar(Tm,xm,e),Ar(Tm,xm,"esm2017")}();var p_=Ir({apiKey:"AIzaSyCrw8iId89YXVR0sjTPpNf6z8epv6E0GUw",authDomain:"facebook-messenger-clone-6e5bf.firebaseapp.com",projectId:"facebook-messenger-clone-6e5bf",storageBucket:"facebook-messenger-clone-6e5bf.appspot.com",messagingSenderId:"646753402575",appId:"1:646753402575:web:b5902a08cd2d9f01af81ba"}),v_=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Sr("object"==typeof e?e:Nr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=cn("firestore");i&&Cv.apply(void 0,[r].concat((0,I.Z)(i)))}return r}(p_);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr(),t=arguments.length>1?arguments[1]:void 0,n=Sr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=cn("database");r&&d_.apply(void 0,[n].concat((0,I.Z)(r)))}}(p_);function m_(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}m_("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),m_("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var y_=m_("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),g_=m_("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),k_={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},b_={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},__=k_,w_="elevator",S_=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},C_=function(e){return(C_=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var E_=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),T_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N_=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},A_=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function R_(t){var n,r;return r=n=function(n){function r(){return x_(this,r),A_(this,n.apply(this,arguments))}return N_(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,__),enterAnimation:this.convertAnimationProp(e.enterAnimation,k_),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,b_),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=I_({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":T_(e)){case"boolean":return t[e?w_:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t[w_]:t[e];default:return e}},r.prototype.render=function(){return e.createElement(t,this.convertProps(this.props))},r}(e.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:w_,leaveAnimation:w_,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function P_(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(E_(e),n[e])}))}var D_=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,o=(0,e.getPosition)(t),a=o.top-i.top,u=o.left-i.left;return[r.left-u,r.top-a]},O_=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,o=t.staggerDelayBy,a=t.easing;n+=e*o,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+a+" "+n+"ms"})).join(", ")},M_=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=S_((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),L_=!M_;function F_(e){return e.key||""}function U_(t){return e.Children.toArray(t)}var j_=function(t){function n(){var e,r;x_(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=A_(this,t.call.apply(t,[this].concat(o))),r.state={children:U_(r.props?r.props.children:[]).map((function(e){return I_({},e,{element:e,appearing:!0})}))},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=R.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",y_()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map((function(e){return r.computeInitialStyles(e)}));e.forEach((function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(F_(e)),r.animateChild(e,n,t[n])})),"function"===typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!F_(e))return!1;var t=r.getChildData(F_(e)),n=t.domNode,i=t.boundingBox,o=r.parentData.boundingBox;if(!n)return!1;var a=r.props,u=a.appearAnimation,s=a.enterAnimation,l=a.leaveAnimation,c=a.getPosition,f=e.appearing&&u,h=e.entering&&s,d=e.leaving&&l;if(f||h||d)return!0;var p=D_({childDomNode:n,childBoundingBox:i,parentBoundingBox:o,getPosition:c}),v=p[0],m=p[1];return 0!==v||0!==m},A_(r,e)}return N_(n,t),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=!function(e,t){if(e===t)return!0;var n=!C_(e)||!C_(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(U_(this.props.children).map((function(e){return e.key})),U_(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props);t&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return I_({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,o){if(!S_((function(e){return e.key===F_(i)}),e)&&t.props.leaveAnimation){var a=I_({},i,{leaving:!0}),u=o+r;n.splice(u,0,a),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(F_(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&g_(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),o=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return I_({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});P_({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-o["margin-top"]+"px",left:r.left-o["margin-left"]+"px",right:r.right-o["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,o=n.boundingBox;if(i&&o){P_({domNode:t,styles:{height:"0"}});var a=o.height-r(i).height;P_({domNode:t,styles:{height:a>0?a+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i}));this.state.children.forEach((function(t){var n=e.getChildData(F_(t)).domNode;n&&(t.entering||t.leaving||P_({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=U_(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return I_({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(F_(e)).domNode;i&&(P_({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:O_(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=I_({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=I_({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=I_({},n,r.props.leaveAnimation.to)),P_({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(F_(e)).domNode;if(n){n.addEventListener(M_,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(M_,r),e.leaving&&t.removeChildData(F_(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return I_({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=F_(r);if(i)if(e.hasChildData(i)){var o=e.getChildData(i);o.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),o=r(t),a=o.top,u=o.left,s=o.right,l=o.bottom,c=o.width,f=o.height;return{top:a-i.top,left:u-i.left,right:i.right-s,bottom:i.bottom-l,width:c,height:f}}({childDomNode:o.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=F_(t),o=n[r];i&&e.setChildData(i,{boundingBox:o})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?I_({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(F_(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var o=D_({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+o[0]+"px, "+o[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return L_||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return S_((function(t){return F_(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=I_({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return I_({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var t=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,e.createElement)(r,{key:"height-placeholder",ref:function(e){t.heightPlaceholderData.domNode=e},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var t=this;return this.state.children.map((function(n){return(0,e.cloneElement)(n.element,{ref:function(e){if(e){var r=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,R.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(e);t.setChildData(F_(n),{domNode:r})}}})}))},n.prototype.render=function(){var t=this,n=this.props,r=n.typeName,i=n.delegated,o=n.leaveAnimation,a=n.maintainContainerHeight,u=this.childrenWithRefs();if(o&&a&&u.push(this.createHeightPlaceholder()),!r)return u;var s=I_({},i,{children:u,ref:function(e){t.parentData.domNode=e}});return(0,e.createElement)(r,s)},n}(e.Component),z_=R_(j_),V_=n.p+"static/media/logo.b128ae0fb44ad66dde3c.png",B_=n(1817);var Z_=function(){var t=(0,e.useState)(""),n=(0,u.Z)(t,2),r=n[0],o=n[1],s=(0,e.useState)([]),l=(0,u.Z)(s,2),c=l[0],f=l[1],h=(0,e.useState)(""),d=(0,u.Z)(h,2),p=d[0],v=d[1];(0,e.useEffect)((function(){var e=function(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof am&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof lm})).length,n=e.filter((function(e){return e instanceof sm})).length;if(t>1||t>0&&n>0)throw new hs(fs.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var a,u=Ft(n);try{for(u.s();!(a=u.n()).done;)e=a.value._apply(e)}catch(s){u.e(s)}finally{u.f()}return e}(Iv(v_,"messages"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=im("orderBy",e);return cm._create(n,t)}("timestamp","desc")),t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,u,s;e=Dn(e);var l={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||Av(n[c])||(l=n[c],c++);var f,h,d,p={includeMetadataChanges:l.includeMetadataChanges};if(Av(n[c])){var v=n[c];n[c]=null===(o=v.next)||void 0===o?void 0:o.bind(v),n[c+1]=null===(u=v.error)||void 0===u?void 0:u.bind(v),n[c+2]=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}if(e instanceof Ev)h=_v(e.firestore,Rv),d=sc(e._key.path),f={next:function(t){n[c]&&n[c](Em(h,e,t))},error:n[c+1],complete:n[c+2]};else{var m=_v(e,Tv);h=_v(m.firestore,Rv),d=m._query;var y=new wm(h);f={next:function(e){n[c]&&n[c](new bm(h,y,m,e))},error:n[c+1],complete:n[c+2]},om(e._query)}return function(e,t,n,r){var o=new rv(r),u=new yp(t,o,n);return e.asyncQueue.enqueueAndForget(a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cp,t.next=3,pv(e);case 3:return t.t1=t.sent,t.t2=u,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){o.bc(),e.asyncQueue.enqueueAndForget(a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hp,t.next=3,pv(e);case 3:return t.t1=t.sent,t.t2=u,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Pv(h),d,p,f)}(e,(function(e){f(e.docs.map((function(e){return{id:e.id,message:e.data()}})))}));return function(){t()}}),[]),(0,e.useEffect)((function(){v(prompt("Please enter your name"))}),[]);var m=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Sm(Iv(v_,"messages"),{message:r,username:p,timestamp:new Wv("serverTimestamp")});case 3:o("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(p)return(0,w.jsxs)("div",{className:"App",children:[(0,w.jsxs)("div",{className:"top",children:[(0,w.jsxs)("p",{className:"welcome",children:["Welcome ",p," in "]}),(0,w.jsx)("img",{src:V_,alt:"",className:"logo"})]}),(0,w.jsx)(z_,{className:"message-container",children:c.map((function(e){var t=e.id,n=e.message;return(0,w.jsx)(Mt,{username:p,message:n},t)}))}),(0,w.jsx)("form",{className:"app__form",children:(0,w.jsxs)(T,{className:"app__formControl",children:[(0,w.jsx)(ye,{className:"app__input",placeholder:"Enter Message",type:"text",value:r,onChange:function(e){return o(e.target.value)}}),(0,w.jsx)(ut,{className:"app__iconButton",type:"submit",disabled:!r,variant:"contained",color:"primary",onClick:m,children:(0,w.jsx)(B_.Z,{className:"sendIcon"})})]})})]})};t.createRoot(document.getElementById("root")).render((0,w.jsx)(Z_,{}))}()}();
//# sourceMappingURL=main.fd46cfa9.js.map